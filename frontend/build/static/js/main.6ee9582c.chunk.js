(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{1042:function(e,a,t){e.exports=t.p+"static/media/bg.9116d6f0.svg"},1071:function(e,a){e.exports="data:image/png;base64,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"},1072:function(e,a){e.exports="data:image/jpeg;base64,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"},1131:function(e,a,t){e.exports=t(1593)},1484:function(e,a){},1485:function(e,a){},1486:function(e,a){},1487:function(e,a){},1488:function(e,a){},1513:function(e,a,t){},1553:function(e,a,t){},1593:function(e,a,t){"use strict";t.r(a);var n=t(0),l=t.n(n),o=t(58),r=t.n(o),s=t(11);const i=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function c(e,a){navigator.serviceWorker.register(e).then(e=>{e.onupdatefound=()=>{const t=e.installing;null!=t&&(t.onstatechange=()=>{"installed"===t.state&&(navigator.serviceWorker.controller?(s.b.dismiss("Nova atualiza\xe7\xe3o dispon\xedvel!\n Clique aqui para atualizar.",{position:"top-right",autoClose:!1,closeOnClick:!1,onClick:()=>{window.location&&window.location.reload(!0)}}),console.log("New content is available and will be used when all tabs for this page are closed. See https://cra.link/PWA."),a&&a.onUpdate&&a.onUpdate(e)):(console.log("Content is cached for offline use."),a&&a.onSuccess&&a.onSuccess(e)))})}}).catch(e=>{console.error("Error during service worker registration:",e)})}t(1136);var d=t(690),m=t(1076),u=t(1080),p=t(1800),g=t(994);var E=l.a.createContext({toggleColorMode:()=>{}}),b=t(51),f=t(103),h=t(5),v=t(30),y=t.n(v),A=t(20),C=(t(1594),t(965)),x=t(290),T=t(14),O=t(1252),k=t(1601),S=t(84),w=t(1193),M=t(952),I=t(949),j=t(953),N=t(1187),R=t(1334),P=t(151),D=t(677),F=t(1326),L=t(996),q=t.n(L),W=t(995),B=t.n(W),z=t(997),H=t.n(z),U=t(308),Q=t.n(U),G=t(950),V=t(1249),K=t(1182),_=t(1192),Y=t(972),X=t(967),J=t.n(X),Z=t(344),$=t.n(Z),ee=t(979),ae=t.n(ee),te=t(701),ne=t.n(te),le=t(977),oe=t.n(le),re=t(973),se=t.n(re),ie=t(978),ce=t.n(ie),de=t(968),me=t.n(de),ue=t(975),pe=t.n(ue),ge=t(976),Ee=t.n(ge),be=t(969),fe=t.n(be),he=t(508),ve=t.n(he),ye=t(974),Ae=t.n(ye),Ce=t(510),xe=t.n(Ce),Te=t(700),Oe=t.n(Te),ke=t(416),Se=t.n(ke),we=t(511),Me=t.n(we),Ie=t(417),je=t.n(Ie),Ne=t(512),Re=t.n(Ne),Pe=t(509),De=t.n(Pe),Fe=t(980),Le=t.n(Fe),qe=t(1728),We=t(1731),Be=t(1732),ze=t(1733),He=t(1734),Ue=t(1735),Qe=t(689),Ge=t(966);const Ve={pt:{translations:{signup:{title:"Cadastre-se",toasts:{success:"Usu\xe1rio criado com sucesso! Fa\xe7a seu login!!!.",fail:"Erro ao criar usu\xe1rio. Verifique os dados informados."},form:{name:"Nome",email:"Email",password:"Senha",company:"Nome da Organiza\xe7\xe3o",phone:"Whatsapp (DDD + N\xdaMERO)"},buttons:{submit:"Cadastrar",login:"J\xe1 tem uma conta? Entre!"}},login:{title:"Login",form:{email:"Email",password:"Senha",button:"Acessar"},buttons:{submit:"Entrar",register:"N\xe3o tem um conta? Cadastre-se!"}},companies:{title:"Cadastrar Empresa",form:{name:"Nome da Empresa",plan:"Plano",token:"Token",submit:"Cadastrar",success:"Empresa criada com sucesso!"}},auth:{toasts:{success:"Login efetuado com sucesso!"},dueDate:{expiration:"Sua assinatura expira em",days:"dias!",day:"dia!",expirationToday:"Sua assinatura expira hoje!"},token:"Token"},dashboard:{tabs:{indicators:"Indicadores",assessments:"NPS",attendants:"Atendentes"},charts:{perDay:{title:"Atendimentos hoje: "}},cards:{inAttendance:"Em Atendimento",waiting:"Aguardando",activeAttendants:"Atendentes Ativos",finalized:"Finalizados",newContacts:"Novos Contatos",totalReceivedMessages:"Mensagens Recebidas",totalSentMessages:"Mensagens Enviadas",averageServiceTime:"T.M. de Atendimento",averageWaitingTime:"T.M. de Espera",status:"Status (Atual)"},users:{name:"Nome",numberAppointments:"Quantidade de Atendimentos",statusNow:"Atual",totalCallsUser:"Total de atendimentos por usuario",totalAttendances:"Total de atendimentos"},date:{initialDate:"Data Inicial",finalDate:"Data Final"},licence:{available:"Dispon\xedvel at\xe9"},assessments:{totalCalls:"Total de Atendimentos",callsWaitRating:"Atendimentos aguardando avalia\xe7\xe3o",callsWithoutRating:"Atendimentos sem avalia\xe7\xe3o",ratedCalls:"Atendimentos avaliados",evaluationIndex:"\xcdndice de avalia\xe7\xe3o",score:"Pontua\xe7\xe3o",prosecutors:"Promotores",neutral:"Neutros",detractors:"Detratores"}},reports:{title:"Relat\xf3rio de Pesquisas Realizadas",operator:"Operador",period:"Per\xedodo",until:"At\xe9",date:"Data",reportTitle:"Relat\xf3rios",calls:"Atendimentos",search:"Pesquisas",durationCalls:"Durac\xe3o dos atendimentos",grupoSessions:"Atendimentos em grupos",groupTicketsReports:{timezone:"America/Sao_Paulo",msgToast:"Gerando relat\xf3rio compactado, por favor aguarde.",errorToast:"Erro ao gerar o relat\xf3rio",back:"Voltar",groupServiceReport:"Relat\xf3rio de Atendimento em Grupos",loading:"Carregando...",contact:"Contato",dateOpen:"Data abertura",dateLastUpdated:"Data \xdaltima Atualiza\xe7\xe3o",agent:"Quem atendeu",agentClosed:"Quem fechou",waitingAssistance:"Aguardando atendimento",process:"Em atendimento"},researchReports:{response:"resposta",active:"(Ativa)",inactive:"(Inativa)",quantity:"Quantidade",percentage:"porcentagem",title:"Relat\xf3rio de Pesquisas Realizadas",activeSearch:"Pesquisa ativa",inactiveSearch:"Pesquisa inativa"},ticketDurationDetail:{msgToast:"Gerando relat\xf3rio compactado, por favor aguarde.",title:"Relat\xf3rio de Dura\xe7\xe3o do Atendimento",startService:"In\xedcio do atendimento",lastUpdated:"\xdaltima atualiza\xe7\xe3o",lastAgent:"\xdaltimo atendente",durationFinished:"Dura\xe7\xe3o ap\xf3s finalizado"},ticketDuration:{title:"Relat\xf3rio de Dura\xe7\xe3o dos Atendimento",contact:"Contato",open:"Abertos",pending:"Pendentes",finished:"Finalizados",durationFinished:"Dura\xe7\xe3o dos finalizados",durationAfterFinished:"Dura\xe7\xe3o ap\xf3s finalizado",actions:"A\xe7\xf5es"},ticketReports:{msgToast:"Gerando relat\xf3rio compactado, por favor aguarde.",title:"Relat\xf3rio de Atendimento"},pdf:{title:"Rela\xe7\xe3o de Atendimentos Realizados",exportTitle:"Rela\xe7\xe3o de Atendimentos em Grupos Realizados"}},todo:{newTask:"Nova Tarefa",add:"Adicionar",task:"Tarefas"},contactImportWpModal:{title:"Exportar Contatos para o Excel",buttons:{downloadModel:"Download modelo do excel para importa\xe7\xe3o",closed:"Fechar",import:"Selecione o arquivo do excel para importar Contatos"}},connections:{title:"Conex\xf5es",waitConnection:"Aguarde... Suas conex\xf5es ser\xe3o reiniciadas!",newConnection:"Nova Conex\xe3o",restartConnections:"Reiniciar Conex\xf5es",callSupport:"Chamar Suporte",newConnection:"Nova Conex\xe3o",toasts:{deleted:"Conex\xe3o exclu\xedda com sucesso!",closedimported:"Estamos fechando os tickets importados, por favor aguarde uns instantes"},confirmationModal:{closedImportedTitle:"Fechar tickets importados",closedImportedMessage:"Se voc\xea confirmar todos os tickets importados ser\xe3o fechados",deleteTitle:"Deletar",deleteMessage:"Voc\xea tem certeza? Essa a\xe7\xe3o n\xe3o pode ser revertida.",disconnectTitle:"Desconectar",disconnectMessage:"Tem certeza? Voc\xea precisar\xe1 ler o QR Code novamente."},buttons:{add:"Adicionar Conex\xe3o",disconnect:"desconectar",tryAgain:"Tentar novamente",qrcode:"QR CODE",newQr:"Novo QR CODE",closedImported:"Fechar todos os tickets Importados",preparing:"Preparando mensagens para importa\xe7\xe3o",importing:"Importando Mensagens do WhatsApp",newQr:"Novo QR CODE",processed:"Processado",in:"de",connecting:"Conectando"},typography:{processed:"Processado",in:"de",date:"Data da mensagem"},toolTips:{disconnected:{title:"Falha ao iniciar sess\xe3o do WhatsApp",content:"Certifique-se de que seu celular esteja conectado \xe0 internet e tente novamente, ou solicite um novo QR Code"},qrcode:{title:"Esperando leitura do QR Code",content:"Clique no bot\xe3o 'QR CODE' e leia o QR Code com o seu celular para iniciar a sess\xe3o"},connected:{title:"Conex\xe3o estabelecida!"},timeout:{title:"A conex\xe3o com o celular foi perdida",content:"Certifique-se de que seu celular esteja conectado \xe0 internet e o WhatsApp esteja aberto, ou clique no bot\xe3o 'Desconectar' para obter um novo QR Code"}},table:{name:"Nome",status:"Status",lastUpdate:"\xdaltima atualiza\xe7\xe3o",default:"Padr\xe3o",actions:"A\xe7\xf5es",session:"Sess\xe3o",number:"N\xfamero do Whatsapp"}},showTicketOpenModal:{title:{header:"Atendimento Existente"},form:{message:"Este contato j\xe1 est\xe1 em atendimento:",user:"Atendente",queue:"Fila",messageWait:"Este contato j\xe1 est\xe1 aguardando atendimento. Veja na aba Aguardando!"}},showTicketLogModal:{title:{header:"Logs"},options:{create:"Ticket criado.",chatBot:"ChatBot iniciado.",queue:" - Fila definida.",open:" iniciou o atendimento.",access:"acessou o ticket.",transfered:"transferiu o ticket.",receivedTransfer:"recebeu o ticket transferido.",pending:"devolveu a fila.",closed:"fechou o ticket",reopen:"reabriu o ticket"}},whatsappModal:{title:{add:"Adicionar Conex\xe3o",edit:"Editar Conex\xe3o"},tabs:{general:"Geral",messages:"Mensagens",assessments:"NPS",integrations:"Integra\xe7\xf5es",schedules:"Hor\xe1rio de expediente"},form:{importOldMessagesEnable:"Importar mensagens do aparelho",importOldMessages:"Data de inicio da importa\xe7\xe3o",importRecentMessages:"Data de termino da importa\xe7\xe3o",importOldMessagesGroups:"Importar mensagens de grupo",closedTicketsPostImported:"Encerrar tickets ap\xf3s importa\xe7\xe3o",name:"Nome",queueRedirection:"Redirecionamento de Fila",queueRedirectionDesc:"Selecione uma fila para os contatos que n\xe3o possuem fila serem redirecionados",default:"Padr\xe3o",group:"Permitir grupos",timeSendQueue:"Tempo em minutos para redirecionar para fila",importAlert:"ATEN\xc7\xc3O: Ao salvar, sua conex\xe3o ser\xe1 encerrada, ser\xe1 necess\xe1rio ler novamente o QR Code para importar as mensagens",groupAsTicket:"Tratar grupos como ticket",timeCreateNewTicket:"Criar novo ticket em x minutos",maxUseBotQueues:"Enviar bot x vezes",timeUseBotQueues:"Enviar bot em x minutos",expiresTicket:"Encerrar chats abertos ap\xf3s x minutos",expiresTicketNPS:"Encerrar chats aguardando avalia\xe7\xe3o ap\xf3s x minutos",maxUseBotQueuesNPS:"Quantidade m\xe1xima de vezes que a avalia\xe7ao vai ser enviada",closeLastMessageOptions1:"Do atendente/Cliente",closeLastMessageOptions2:"Do atendente",outOfHoursMessage:"Mensagem de fora de expediente",greetingMessage:"Mensagem de sauda\xe7\xe3o",complationMessage:"Mensagem de conclus\xe3o",lgpdLinkPrivacy:"Link para pol\xedtica de privacidade",lgpdMessage:"Mensagem de sauda\xe7ao LGPD",lgpdDeletedMessages:"Ofuscar mensagem apagada pelo contato",lgpdSendMessage:"Sempre solicitar confirma\xe7\xe3o do contato",ratingMessage:"Mensagem de avalia\xe7ao - Escala deve ser de 0 a 10",token:"Token para integra\xe7\xe3o externa",sendIdQueue:"Fila",inactiveMessage:"Mensagem de inatividade",timeInactiveMessage:"Tempo em minutos para envio do aviso de inatividade",whenExpiresTicket:"Encerrar chats abertos quando \xfaltima mensagem for",expiresInactiveMessage:"Mensagem de encerramento por inatividade",prompt:"Prompt",collectiveVacationEnd:"Data final",collectiveVacationStart:"Data inicial",collectiveVacationMessage:"Mensagem de f\xe9rias coletivas"},buttons:{okAdd:"Adicionar",okEdit:"Salvar",cancel:"Cancelar"},menuItem:{enabled:"Habilitado",disabled:"Desabilitado",minutes:"minutos"},success:"Conex\xe3o salvo com sucesso.",errorSendQueue:"Foi informado tempo para redirecionar fila, por\xe9m n\xe3o foi selecionada fila para redirecionar. Os dois campos precisam estar preenchidos",errorExpiresNPS:"\xc9 obrigado informar um tempo para avalia\xe7\xe3o quando se utiliza o NPS.",errorRatingMessage:"\xc9 obrigado informar uma mensagem de avalia\xe7\xe3o quando se utiliza o NPS."},qrCode:{message:"Leia o QrCode para iniciar a sess\xe3o"},contacts:{title:"Contatos",toasts:{deleted:"Contato exclu\xeddo com sucesso!"},searchPlaceholder:"Pesquisar...",confirmationModal:{deleteTitle:"Deletar ",importTitlte:"Importar contatos",exportContact:"Exportar contatos",deleteMessage:"Tem certeza que deseja deletar este contato? Todos os atendimentos relacionados ser\xe3o perdidos.",blockContact:"Tem certeza que deseja bloquear este contato?",unblockContact:"Tem certeza que deseja desbloquear este contato?",importMessage:"Deseja importar todos os contatos do telefone?",importChat:"Importar Conversas",wantImport:"Deseja importar todas as conversas do telefone?"},buttons:{import:"Importar Contatos",add:"Adicionar Contato",export:"Exportar Contato"},table:{name:"Nome",whatsapp:"Conex\xe3o",email:"Email",actions:"A\xe7\xf5es",lastMessage:"\xdaltima Mensagem"},menu:{importYourPhone:"Importar do aparelho padr\xe3o",importToExcel:"Importar / Exportar do Excel"}},forwardMessage:{text:"Encaminhada"},forwardMessageModal:{title:"Encaminhar mensagem",buttons:{ok:"Encaminhar"}},promptModal:{form:{name:"Nome",prompt:"Prompt",voice:"Voz",max_tokens:"M\xe1ximo de Tokens na resposta",temperature:"Temperatura",apikey:"API Key",max_messages:"M\xe1ximo de mensagens no Hist\xf3rico",voiceKey:"Chave da API de Voz",voiceRegion:"Regi\xe3o de Voz"},success:"Prompt salvo com sucesso!",title:{add:"Adicionar Prompt",edit:"Editar Prompt"},buttons:{okAdd:"Adicionar",okEdit:"Salvar",cancel:"Cancelar"}},prompts:{title:"Prompts",table:{name:"Nome",queue:"Setor/Fila",max_tokens:"M\xe1ximo Tokens Resposta",actions:"A\xe7\xf5es"},confirmationModal:{deleteTitle:"Excluir",deleteMessage:"Voc\xea tem certeza? Essa a\xe7\xe3o n\xe3o pode ser revertida!"},buttons:{add:"Adicionar Prompt"}},contactModal:{title:{add:"Adicionar contato",edit:"Editar contato"},form:{mainInfo:"Dados do contato",extraInfo:"Informa\xe7\xf5es adicionais",name:"Nome",number:"N\xfamero do Whatsapp",email:"Email",extraName:"Nome do campo",extraValue:"Valor",chatBotContact:"Desabilitar chatbot para esse contato",termsLGDP:"Termos LGPD aceito em:",allTicket:"Visualizar chamados sem fila",allowGroup:"Permitir grupos",whatsapp:"Conex\xe3o Origem: "},buttons:{addExtraInfo:"Adicionar informa\xe7\xe3o",okAdd:"Adicionar",okEdit:"Salvar",cancel:"Cancelar"},success:"Contato salvo com sucesso."},queueModal:{title:{queueData:"Dados da fila",text:"Hor\xe1rios de atendimento",add:"Adicionar fila",edit:"Editar fila",confirmationDelete:"Tem certeza? Todas as op\xe7\xf5es de integra\xe7\xf5es ser\xe3o deletadas."},form:{name:"Nome",color:"Cor",orderQueue:"Ordem da fila (Bot)",rotate:"Rod\xedzio",timeRotate:"Tempo de Rod\xedzio",greetingMessage:"Mensagem de sauda\xe7\xe3o",complationMessage:"Mensagem de conclus\xe3o",outOfHoursMessage:"Mensagem de fora de expediente",token:"Token",integrationId:"Integra\xe7\xe3o",fileListId:"Lista de arquivos",closeTicket:"Fechar ticket",queueType:"Tipo de menu",message:"Mensagem de retorno",queue:"Fila para transfer\xeancia",integration:"Integra\xe7\xe3o",file:"Lista de arquivos"},buttons:{okAdd:"Adicionar",okEdit:"Salvar",cancel:"Cancelar"},bot:{title:"Op\xe7\xf5es",toolTipTitle:"Adicione op\xe7\xf5es para construir um chatbot",toolTip:"Se houver apenas uma op\xe7\xe3o, ela ser\xe1 escolhida automaticamente, fazendo com que o bot responda com a mensagem da op\xe7\xe3o e siga adiante",selectOption:"Selecione uma op\xe7\xe3o",text:"Texto",attendent:"Atendente",queue:"Fila",integration:"Integra\xe7\xe3o",file:"Arquivo",toolTipMessageTitle:"A mensagem \xe9 obrigat\xf3ria para seguir ao pr\xf3ximo n\xedvel",toolTipMessageContent:"A mensagem \xe9 obrigat\xf3ria para seguir ao pr\xf3ximo n\xedvel",selectUser:"Selecione um Usu\xe1rio",selectQueue:"Selecione uma Fila",selectIntegration:"Selecione uma Integra\xe7\xe3o",addOptions:"Adicionar op\xe7\xf5es"},serviceHours:{dayWeek:"Dia da semana",startTimeA:"Hora Inicial - Turno A",endTimeA:"Hora Final - Turno A",startTimeB:"Hora Inicial - Turno B",endTimeB:"Hora Final - Turno B",monday:"Segunda-feira",tuesday:"Ter\xe7a-feira",wednesday:"Quarta-feira",thursday:"Quinta-feira",friday:"Sexta-feira",saturday:"S\xe1bado",sunday:"Domingo"}},queueIntegrationModal:{title:{add:"Adicionar projeto",edit:"Editar projeto"},form:{id:"ID",type:"Tipo",name:"Nome",projectName:"Nome do Projeto",language:"Linguagem",jsonContent:"JsonContent",urlN8N:"URL",typebotSlug:"Typebot - Slug",typebotExpires:"Tempo em minutos para expirar uma conversa",typebotKeywordFinish:"Palavra para finalizar o ticket",typebotKeywordRestart:"Palavra para reiniciar o fluxo",typebotRestartMessage:"Mensagem ao reiniciar a conversa",typebotUnknownMessage:"Mensagem de op\xe7\xe3o inv\xe1lida",typebotDelayMessage:"Intervalo (ms) entre mensagens"},buttons:{okAdd:"Adicionar",okEdit:"Salvar",cancel:"Cancelar",test:"Testar Bot"},messages:{testSuccess:"Integra\xe7\xe3o testada com sucesso!",addSuccess:"Integra\xe7\xe3o adicionada com sucesso.",editSuccess:"Integra\xe7\xe3o editada com sucesso."}},userModal:{warning:"Para fazer a importa\xe7\xe3o das mensagens \xe9 necess\xe1rio ler o qrCode novamente !!!",title:{add:"Adicionar usu\xe1rio",edit:"Editar usu\xe1rio",updateImage:"Atualizar imagem",removeImage:"Excluir imagem"},form:{name:"Nome",email:"Email",password:"Senha",farewellMessage:"Mensagem de despedida",profile:"Perfil",startWork:"Inicio de trabalho",endWork:"Fim de trabalho",whatsapp:"Conex\xe3o Padr\xe3o",allTicketEnable:"Habilitado",allTicketDisable:"Desabilitado",allTicket:"Visualizar chamados sem fila",allowGroup:"Permitir Grupos",defaultMenuOpen:"Aberto",defaultMenuClosed:"Fechado",defaultMenu:"Menu padr\xe3o",defaultTheme:"Tema Padr\xe3o",defaultThemeDark:"Escuro",defaultThemeLight:"Claro",allHistoric:"Ver conversas de outras filas",allHistoricEnabled:"Habilitado",allHistoricDisabled:"Desabilitado",allUserChat:"Ver conversas de outros usu\xe1rios",userClosePendingTicket:"Permitir fechar tickets pendentes",showDashboard:"Ver Dashboard"},tabs:{general:"Geral",permissions:"Permiss\xf5es"},buttons:{okAdd:"Adicionar",okEdit:"Salvar",cancel:"Cancelar",addImage:"Adicionar Imagem",editImage:"Editar Imagem"},success:"Usu\xe1rio salvo com sucesso."},companyModal:{title:{add:"Adicionar empresa",edit:"Editar empresa"},form:{name:"Nome",email:"Email",passwordDefault:"Senha",numberAttendants:"Usu\xe1rios",numberConections:"Conex\xf5es"},buttons:{okAdd:"Adicionar",okEdit:"Salvar",cancel:"Cancelar"},success:"Empresa salvo com sucesso."},scheduleModal:{title:{add:"Novo Agendamento",edit:"Editar Agendamento"},form:{body:"Mensagem",contact:"Contato",sendAt:"Data de Agendamento",sentAt:"Data de Envio"},buttons:{okAdd:"Adicionar",okEdit:"Salvar",cancel:"Cancelar",addSchedule:"Adicionar agendamento"},success:"Agendamento salvo com sucesso."},tagModal:{title:{add:"Nova Tag",edit:"Editar Tag",addKanban:"Nova Lane",editKanban:"Editar Lane"},form:{name:"Nome",color:"Cor"},buttons:{okAdd:"Adicionar",okEdit:"Salvar",cancel:"Cancelar"},success:"Tag salva com sucesso.",successKanban:"Lane salva com sucesso."},fileModal:{title:{add:"Adicionar lista de arquivos",edit:"Editar lista de arquivos"},buttons:{okAdd:"Salvar",okEdit:"Editar",cancel:"Cancelar",fileOptions:"Adicionar arquivo"},form:{name:"Nome da lista de arquivos",message:"Detalhes da lista",fileOptions:"Lista de arquivos",extraName:"Mensagem para enviar com arquivo",extraValue:"Valor da op\xe7\xe3o"},success:"Lista de arquivos salva com sucesso!"},chat:{noTicketMessage:"Selecione um ticket para come\xe7ar a conversar."},uploads:{titles:{titleUploadMsgDragDrop:"\u2b07\ufe0f ARRASTE E SOLTE ARQUIVOS NO CAMPO ABAIXO \u2b07\ufe0f",titleFileList:"Lista de arquivo(s)"}},chatInternal:{new:"Nova",modal:{conversation:"Conversa",title:"T\xedtulo",filterUsers:"Filtro por Usu\xe1rios",cancel:"Fechar",save:"Salvar"},modalDelete:{title:"Excluir Conversa",message:"Esta a\xe7\xe3o n\xe3o pode ser revertida, confirmar?"}},ticketsManager:{questionCloseTicket:"VOC\xca DESEJA FECHAR TODOS OS TICKETS?",yes:"SIM",not:"N\xc3O",buttons:{newTicket:"Novo",resolveAll:"Resolver Todos",close:"Fechar",new:"Novo"}},ticketsQueueSelect:{placeholder:"Filas"},tickets:{inbox:{closedAllTickets:"Fechar todos os tickets?",closedAll:"Fechar Todos",newTicket:"Novo Ticket",yes:"SIM",no:"N\xc3O",open:"Abertos",resolverd:"Resolvidos"},toasts:{deleted:"O atendimento que voc\xea estava foi deletado."},notification:{message:"Mensagem de"},tabs:{open:{title:"Abertas"},closed:{title:"Resolvidos"},search:{title:"Busca"}},search:{placeholder:"Buscar atendimento e mensagens",filterConections:"Filtro por Conex\xe3o",filterConectionsOptions:{open:"Aberto",closed:"Fechado",pending:"Pendente"},filterUsers:"Filtro por Usuarios"},buttons:{showAll:"Todos",returnQueue:"Devolver a Fila",scredule:"Agendamento",deleteTicket:"Deletar Ticket"},closedTicket:{closedMessage:"Fechar Ticket Com Mensagem de Despedida",closedNotMessage:"Fechar Ticket Sem Mensagem de Despedida"}},transferTicketModal:{title:"Transferir Ticket",fieldLabel:"Digite para buscar usu\xe1rios",fieldQueueLabel:"Transferir para fila",fieldQueuePlaceholder:"Selecione uma fila",fieldWhatsapp:"Selecione um whatsapp",noOptions:"Nenhum usu\xe1rio encontrado com esse nome",msgTransfer:"Observa\xe7\xf5es - mensagem interna, n\xe3o vai para o cliente",buttons:{ok:"Transferir",cancel:"Cancelar"}},chatInternal:{new:"Nova",modal:{conversation:"Conversa",title:"T\xedtulo",filterUsers:"Filtro por Usu\xe1rios",cancel:"Fechar",save:"Salvar"},modalDelete:{title:"Excluir Conversa",message:"Esta a\xe7\xe3o n\xe3o pode ser revertida, confirmar?"}},ticketsList:{called:"Chamado",today:"Hoje",missedCall:"Chamada de voz/v\xeddeo perdida \xe0s",pendingHeader:"Aguardando",assignedHeader:"Atendendo",groupingHeader:"Grupos",noTicketsTitle:"Nada aqui!",noTicketsMessage:"Nenhum atendimento encontrado com esse status ou termo pesquisado",noQueue:"Sem Fila",buttons:{accept:"Aceitar",cancel:"Cancelar",start:"iniciar",closed:"Fechar",reopen:"Reabrir",transfer:"Transferir",ignore:"Ignorar",exportAsPDF:"Exportar para PDF"},acceptModal:{title:"Aceitar Chat",queue:"Selecionar setor"}},newTicketModal:{title:"Criar Ticket",fieldLabel:"Digite para pesquisar o contato",add:"Adicionar",buttons:{ok:"Salvar",cancel:"Cancelar"}},SendContactModal:{title:"Enviar contato",fieldLabel:"Digite para pesquisar o contato",add:"Adicionar",buttons:{ok:"Enviar",cancel:"Cancelar"}},mainDrawer:{listItems:{dashboard:"Dashboard",connections:"Conex\xf5es",chatsTempoReal:"Painel de Atendimentos",tickets:"Atendimentos",quickMessages:"Respostas R\xe1pidas",contacts:"Contatos",queues:"Filas & Chatbot",tags:"Tags",administration:"Administra\xe7\xe3o",companies:"Empresas",users:"Usu\xe1rios",settings:"Configura\xe7\xf5es",files:"Lista de arquivos",helps:"Ajuda",messagesAPI:"API",schedules:"Agendamentos",campaigns:"Campanhas",annoucements:"Informativos",chats:"Chat Interno",financeiro:"Financeiro",queueIntegration:"Integra\xe7\xf5es",version:"Vers\xe3o",kanban:"Kanban",prompts:"Talk.Ai",allConnections:"Gerenciar conex\xf5es"},appBar:{user:{profile:"Perfil",logout:"Sair",message:"Ol\xe1",messageEnd:"seja bem-vindo a",active:"Ativo at\xe9",goodMorning:"Oi,",myName:"meu nome \xe9",continuity:"e darei continuidade em seu atendimento.",virtualAssistant:"Assistente Virtual",token:"Token inv\xe1lido, por favor entre em contato com o administrador da plataforma."},message:{location:"Localiza\xe7\xe3o",contact:"Contato"},notRegister:"Nenhum registro",refresh:"Atualizar"}},languages:{undefined:"Idioma","pt-BR":"Portugu\xeas",es:"Espa\xf1ol",en:"English",tr:"T\xfcrk\xe7e"},messagesAPI:{title:"API",textMessage:{number:"N\xfamero",body:"Mensagem",token:"Token cadastrado",userId:"ID do usu\xe1rio/atendente",queueId:"ID da Fila"},mediaMessage:{number:"N\xfamero",body:"Nome do arquivo",media:"Arquivo",token:"Token cadastrado"},API:{title:"Documenta\xe7\xe3o para envio de mensagens",methods:{title:"M\xe9todos de Env\xedo",messagesText:"Mensagens de Texto",messagesMidia:"Mensagens de Media"},instructions:{title:"Instru\xe7\xf5es",comments:"Observa\xe7\xf5es Importantes",comments1:"Antes de enviar mensagens, \xe9 necess\xe1rio o cadastro do token vinculado \xe0 conex\xe3o que enviar\xe1 as mensagens. <br />Para realizar o cadastro acesse o menu 'Conex\xf5es', clique no bot\xe3o editar da conex\xe3o e insira o token no devido campo.",comments2:"O n\xfamero para envio n\xe3o deve ter mascara ou caracteres especiais e deve ser composto por:",codeCountry:"C\xf3digo do Pa\xeds",code:"DDD",number:"N\xfamero"},text:{title:"1. Mensagens de Texto",instructions:"Seguem abaixo a lista de informa\xe7\xf5es necess\xe1rias para envio das mensagens de texto:"},media:{title:"2. Mensagens de Media",instructions:"Seguem abaixo a lista de informa\xe7\xf5es necess\xe1rias para envio das mensagens de texto:"}}},notifications:{noTickets:"Nenhuma notifica\xe7\xe3o."},quickMessages:{title:"Respostas R\xe1pidas",searchPlaceholder:"Pesquisar...",noAttachment:"Sem anexo",confirmationModal:{deleteTitle:"Exclus\xe3o",deleteMessage:"Esta a\xe7\xe3o \xe9 irrevers\xedvel! Deseja prosseguir?"},buttons:{add:"Adicionar",attach:"Anexar Arquivo",cancel:"Cancelar",edit:"Editar"},toasts:{success:"Atalho adicionado com sucesso!",deleted:"Atalho removido com sucesso!"},dialog:{title:"Mensagem R\xe1pida",shortcode:"Atalho",message:"Resposta",save:"Salvar",cancel:"Cancelar",geral:"Permitir editar",add:"Adicionar",edit:"Editar",visao:"Permitir vis\xe3o"},table:{shortcode:"Atalho",message:"Mensagem",actions:"A\xe7\xf5es",mediaName:"Nome do Arquivo",status:"Status"}},contactLists:{title:"Listas de Contatos",table:{name:"Nome",contacts:"Contatos",actions:"A\xe7\xf5es"},buttons:{add:"Nova Lista"},dialog:{name:"Nome",company:"Empresa",okEdit:"Editar",okAdd:"Adicionar",add:"Adicionar",edit:"Editar",cancel:"Cancelar"},confirmationModal:{deleteTitle:"Excluir",deleteMessage:"Esta a\xe7\xe3o n\xe3o pode ser revertida."},toasts:{deleted:"Registro exclu\xeddo"}},contactListItems:{title:"Contatos",searchPlaceholder:"Pesquisa",buttons:{add:"Novo",lists:"Listas",import:"Importar"},dialog:{name:"Nome",number:"N\xfamero",whatsapp:"Whatsapp",email:"E-mail",okEdit:"Editar",okAdd:"Adicionar",add:"Adicionar",edit:"Editar",cancel:"Cancelar"},table:{name:"Nome",number:"N\xfamero",whatsapp:"Whatsapp",email:"E-mail",actions:"A\xe7\xf5es"},confirmationModal:{deleteTitle:"Excluir",deleteMessage:"Esta a\xe7\xe3o n\xe3o pode ser revertida.",importMessage:"Deseja importar os contatos desta planilha? ",importTitlte:"Importar"},toasts:{deleted:"Registro exclu\xeddo"}},kanban:{title:"Kanban",searchPlaceholder:"Pesquisa",subMenus:{list:"Painel",tags:"Lanes"}},campaigns:{title:"Campanhas",searchPlaceholder:"Pesquisa",subMenus:{list:"Listagem",listContacts:"Lista de contatos",settings:"Configura\xe7\xf5es"},settings:{randomInterval:"Intervalo Rand\xf4mico de Disparo",noBreak:"Sem Intervalo",intervalGapAfter:"Intervalo maior ap\xf3s",undefined:"N\xe3o definido",messages:"mensagens",laggerTriggerRange:"Intervalo de disparo maior",addVar:"Adicionar vari\xe1vel",save:"Salvar",close:"Fechar",add:"Adicionar",shortcut:"Atalho",content:"Conte\xfado"},buttons:{add:"Nova Campanha",contactLists:"Listas de Contatos"},table:{name:"Nome",whatsapp:"Conex\xe3o",contactList:"Lista de Contatos",option:"Nenhuma",disabled:"Desabilitada",enabled:"Habilitada",status:"Status",scheduledAt:"Agendamento",completedAt:"Conclu\xedda",confirmation:"Confirma\xe7\xe3o",actions:"A\xe7\xf5es"},dialog:{new:"Nova Campanha",update:"Editar Campanha",readonly:"Apenas Visualiza\xe7\xe3o",help:"Utilize vari\xe1veis como {nome}, {numero}, {email} ou defina vari\xe1veis personalizadas.",form:{name:"Nome",message1:"Mensagem 1",message2:"Mensagem 2",message3:"Mensagem 3",message4:"Mensagem 4",message5:"Mensagem 5",confirmationMessage1:"Mensagem de Confirma\xe7\xe3o 1",confirmationMessage2:"Mensagem de Confirma\xe7\xe3o 2",confirmationMessage3:"Mensagem de Confirma\xe7\xe3o 3",confirmationMessage4:"Mensagem de Confirma\xe7\xe3o 4",confirmationMessage5:"Mensagem de Confirma\xe7\xe3o 5",messagePlaceholder:"Conte\xfado da mensagem",whatsapp:"Conex\xe3o",status:"Status",scheduledAt:"Agendamento",confirmation:"Confirma\xe7\xe3o",contactList:"Lista de Contato",tagList:"Tags",statusTicket:"Status do Ticket",openTicketStatus:"Aberto",closedTicketStatus:"Fechado",enabledOpenTicket:"Habilitado",disabledOpenTicket:"Desabilitado",openTicket:"Abrir ticket"},buttons:{add:"Adicionar",edit:"Atualizar",okadd:"Ok",cancel:"Cancelar Disparos",restart:"Reiniciar Disparos",close:"Fechar",attach:"Anexar Arquivo"}},confirmationModal:{deleteTitle:"Excluir",deleteMessage:"Esta a\xe7\xe3o n\xe3o pode ser revertida."},toasts:{success:"Opera\xe7\xe3o realizada com sucesso",cancel:"Campanha cancelada",restart:"Campanha reiniciada",deleted:"Registro exclu\xeddo"}},campaignReport:{title:"Relat\xf3rio de",inactive:"Inativa",scheduled:"Programada",process:"Em Andamento",cancelled:"Cancelada",finished:"Finalizada",campaign:"Campanha",validContacts:"Contatos V\xe1lidos",confirmationsRequested:"Confirma\xe7\xf5es Solicitadas",confirmations:"Confirma\xe7\xf5es",deliver:"Entregues",connection:"Conex\xe3o",contactLists:"Lista de Contatos",schedule:"Agendamento",conclusion:"Conclus\xe3o"},announcements:{title:"Informativos",searchPlaceholder:"Pesquisa",active:"Ativo",inactive:"Inativo",buttons:{add:"Novo Informativo",contactLists:"Listas de Informativos"},table:{priority:"Prioridade",title:"Title",text:"Texto",mediaName:"Arquivo",status:"Status",actions:"A\xe7\xf5es"},dialog:{edit:"Edi\xe7\xe3o de Informativo",add:"Novo Informativo",update:"Editar Informativo",readonly:"Apenas Visualiza\xe7\xe3o",form:{priority:"Prioridade",title:"Title",text:"Texto",mediaPath:"Arquivo",status:"Status",high:"Alta",medium:"M\xe9dia",low:"Baixa",active:"Ativo",inactive:"Inativo"},buttons:{add:"Adicionar",edit:"Atualizar",okadd:"Ok",cancel:"Cancelar",close:"Fechar",attach:"Anexar Arquivo"}},confirmationModal:{deleteTitle:"Excluir",deleteMessage:"Esta a\xe7\xe3o n\xe3o pode ser revertida."},toasts:{success:"Opera\xe7\xe3o realizada com sucesso",deleted:"Registro exclu\xeddo"}},campaignsConfig:{title:"Configura\xe7\xf5es de Campanhas"},queues:{title:"Filas & Chatbot",table:{name:"Nome",color:"Cor",greeting:"Mensagem de sauda\xe7\xe3o",orderQueue:"Ordena\xe7\xe3o da fila (bot)",actions:"A\xe7\xf5es",ID:"ID"},buttons:{add:"Adicionar fila"},toasts:{success:"Fila salva com sucesso",deleted:"Fila exclu[ida com sucesso"},confirmationModal:{deleteTitle:"Excluir",deleteMessage:"Voc\xea tem certeza? Essa a\xe7\xe3o n\xe3o pode ser revertida! Os atendimentos dessa fila continuar\xe3o existindo, mas n\xe3o ter\xe3o mais nenhuma fila atribu\xedda."}},queue:{queueData:"Dados"},queueSelect:{inputLabel:"Filas",inputLabelRO:"Filas somente leitura"},queueIntegration:{title:"Integra\xe7\xf5es",table:{id:"ID",type:"Tipo",name:"Nome",projectName:"Nome do Projeto",language:"Linguagem",lastUpdate:"Ultima atualiza\xe7\xe3o",actions:"A\xe7\xf5es"},buttons:{add:"Adicionar Projeto"},searchPlaceholder:"Pesquisar...",confirmationModal:{deleteTitle:"Excluir",deleteMessage:"Voc\xea tem certeza? Essa a\xe7\xe3o n\xe3o pode ser revertida! e ser\xe1 removida das filas e conex\xf5es vinculadas"}},users:{title:"Usu\xe1rios",table:{status:"Status",name:"Nome",email:"Email",profile:"Perfil",startWork:"Inicio de trabalho",endWork:"Fim de trabalho",actions:"A\xe7\xf5es",ID:"ID"},buttons:{add:"Adicionar usu\xe1rio"},toasts:{deleted:"Usu\xe1rio exclu\xeddo com sucesso."},confirmationModal:{deleteTitle:"Excluir",deleteMessage:"Todos os dados do usu\xe1rio ser\xe3o perdidos. Os atendimento abertos deste usu\xe1rio ser\xe3o movidos para a fila."}},compaies:{title:"Empresas",table:{ID:"ID",status:"Ativo",name:"Nome",email:"Email",password:"Senha",phone:"Telefone",plan:"Plano",active:"Ativo",numberAttendants:"Atendentes",numberConections:"Conex\xf5es",value:"Valor",namePlan:"Nome Plano",numberQueues:"Filas",useCampaigns:"Campanhas",useExternalApi:"Rest API",useFacebook:"Facebook",useInstagram:"Instagram",useWhatsapp:"Whatsapp",useInternalChat:"Chat Interno",useSchedules:"Agendamento",createdAt:"Criada Em",dueDate:"Vencimento",lastLogin:"Ult. Login",actions:"A\xe7\xf5es",money:"R$",yes:"Sim",no:"N\xe3o",document:"CNPJ/CPF",recurrence:"Recorr\xeancia",monthly:"Mensal",bimonthly:"Bimestral",quarterly:"Trimestral",semester:"Semestral",yearly:"Anual",clear:"Limpar",delete:"Excluir",user:"Usu\xe1rio",save:"Salvar"},buttons:{add:"Adicionar empresa"},toasts:{deleted:"Empresa exclu\xeddo com sucesso."},confirmationModal:{deleteTitle:"Excluir",deleteMessage:"Todos os dados da empresa ser\xe3o perdidos. Os tickets abertos deste usu\xe1rio ser\xe3o movidos para a fila."}},plans:{form:{name:"Nome",users:"Usu\xe1rios",connections:"Conex\xf5es",campaigns:"Campanhas",schedules:"Agendamentos",enabled:"Habilitadas",disabled:"Desabilitadas",clear:"Cancelar",delete:"Excluir",save:"Salvar",yes:"Sim",no:"N\xe3o",money:"R$"}},helps:{title:"Central de Ajuda",settings:{codeVideo:"C\xf3digo do Video",description:"Descri\xe7\xe3o",clear:"Limpar",delete:"Excluir",save:"Salvar"}},schedules:{title:"Agendamentos",confirmationModal:{deleteTitle:"Voc\xea tem certeza que quer excluir este Agendamento?",deleteMessage:"Esta a\xe7\xe3o n\xe3o pode ser revertida."},table:{contact:"Contato",body:"Mensagem",sendAt:"Data de Agendamento",sentAt:"Data de Envio",status:"Status",actions:"A\xe7\xf5es"},buttons:{add:"Novo Agendamento"},toasts:{deleted:"Agendamento exclu\xeddo com sucesso."}},tags:{title:"Tags",confirmationModal:{deleteTitle:"Voc\xea tem certeza que quer excluir esta Tag?",deleteMessage:"Esta a\xe7\xe3o n\xe3o pode ser revertida."},table:{name:"Nome",kanban:"Kanban",color:"Cor",tickets:"Registros Tags",contacts:"Contatos",actions:"A\xe7\xf5es"},buttons:{add:"Nova Tag"},toasts:{deleted:"Tag exclu\xeddo com sucesso."}},tagsKanban:{title:"Lanes",laneDefault:"Em aberto",confirmationModal:{deleteTitle:"Voc\xea tem certeza que quer excluir esta Lane?",deleteMessage:"Esta a\xe7\xe3o n\xe3o pode ser revertida."},table:{name:"Nome",color:"Cor",tickets:"Tickets",actions:"A\xe7\xf5es"},buttons:{add:"Nova Lane"},toasts:{deleted:"Lane exclu\xedda com sucesso."}},files:{title:"Lista de arquivos",table:{name:"Nome",contacts:"Contatos",actions:"A\xe7\xe3o"},toasts:{deleted:"Lista exclu\xedda com sucesso!",deletedAll:"Todas as listas foram exclu\xeddas com sucesso!"},buttons:{add:"Adicionar",deleteAll:"Deletar Todos"},confirmationModal:{deleteTitle:"Deletar",deleteAllTitle:"Deletar Todos",deleteMessage:"Tem certeza que deseja deletar esta lista?",deleteAllMessage:"Tem certeza que deseja deletar todas as listas?"}},settings:{success:"Configura\xe7\xf5es salvas com sucesso.",title:"Configura\xe7\xf5es",tabs:{options:"Op\xe7\xf5es",plans:"Planos",helps:"Ajuda"},settings:{userCreation:{name:"Cria\xe7\xe3o de usu\xe1rio",options:{enabled:"Ativado",disabled:"Desativado"}},tabs:{options:"Op\xe7\xf5es",schedules:"Hor\xe1rios",plans:"Planos",help:"Ajuda"},options:{disabled:"Desabilitado",enabled:"Habilitado",updating:"Atualizando...",creationCompanyUser:"Cria\xe7\xe3o de Company/Usu\xe1rio",evaluations:"Avalia\xe7\xf5es",officeScheduling:"Agendamento de Expediente",queueManagement:"Gerenciamento por Fila",companyManagement:"Gerenciamento por Empresa",connectionManagement:"Gerenciamento por Conex\xe3o",sendGreetingAccepted:"Enviar sauda\xe7\xe3o ao aceitar o ticket",sendMsgTransfTicket:"Enviar mensagem transfer\xeancia de setor/atendente",checkMsgIsGroup:"Ignorar Mensagens de Grupos",chatBotType:"Tipo do Bot",userRandom:"Escolher atendente aleat\xf3rio",buttons:"Bot\xf5es",acceptCallWhatsapp:"Informar que n\xe3o aceita liga\xe7\xe3o no whatsapp?",sendSignMessage:"Permite atendente escolher ENVIAR Assinatura",sendGreetingMessageOneQueues:"Enviar sauda\xe7\xe3o quando houver somente 1 fila",sendQueuePosition:"Enviar mensagem com a posi\xe7\xe3o da fila",sendFarewellWaitingTicket:"Enviar mensagem de despedida no Aguardando",acceptAudioMessageContact:"Aceita receber audio de todos contatos?",enableLGPD:"Habilitar tratamento LGPD",requiredTag:"Tag obrigatoria para fechar ticket",closeTicketOnTransfer:"Fechar ticket ao transferir para outra fila",DirectTicketsToWallets:"Mover automaticamente cliente para carteira"},LGPD:{title:"LGPD",welcome:"Mensagem de boas vindas(LGPD)",linkLGPD:"Link da pol\xedtica de privacidade",obfuscateMessageDelete:"Ofuscar mensagem apagada",alwaysConsent:"Sempre solicitar consentimento",obfuscatePhoneUser:"Ofuscar n\xfamero telefone para usu\xe1rios",enabled:"Habilitado",disabled:"Desabilitado"}}},messagesList:{header:{assignedTo:"Atribu\xeddo \xe0:",dialogRatingTitle:"Deseja deixar uma avalia\xe7\xe3o de atendimento para o cliente?",dialogClosingTitle:"Finalizando o atendimento com o cliente!",dialogRatingCancel:"Resolver COM Mensagem de Despedida",dialogRatingSuccess:"Resolver e Enviar Avalia\xe7\xe3o",dialogRatingWithoutFarewellMsg:"Resolver SEM Mensagem de Despedida",ratingTitle:"Escolha um menu de avalia\xe7\xe3o",notMessage:"Nenhuma mensagem selecionada",buttons:{return:"Retornar",resolve:"Resolver",reopen:"Reabrir",accept:"Aceitar",rating:"Enviar Avalia\xe7\xe3o",enableIntegration:"Habilitar/desabilitar integra\xe7\xe3o",logTicket:"Logs do Ticket",requiredTag:"Voc\xea deve atribuir uma tag antes de fechar o ticket."}}},messagesInput:{placeholderPrivateMessage:"Digite uma mensagem ou aperte / para respostas r\xe1pidas",placeholderOpen:"Digite uma mensagem ou aperte / para respostas r\xe1pidas",placeholderClosed:"Reabra ou aceite esse ticket para enviar uma mensagem.",signMessage:"Assinar",privateMessage:"Mensagem Privada"},contactDrawer:{header:"Dados do contato",buttons:{edit:"Editar contato",block:"Bloquear",unblock:"Desbloquear"},extraInfo:"Outras informa\xe7\xf5es"},messageVariablesPicker:{label:"Variav\xe9is dispon\xedveis",vars:{contactFirstName:"Primeiro Nome",contactName:"Nome",user:"Atendente",greeting:"Sauda\xe7\xe3o",protocolNumber:"Protocolo",date:"Data",hour:"Hora",ticket_id:"N\xba do Chamado",queue:"Setor",connection:"Conex\xe3o"}},ticketOptionsMenu:{schedule:"Agendamento",delete:"Deletar",transfer:"Transferir",registerAppointment:"Observa\xe7\xf5es do Contato",resolveWithNoFarewell:"Finalizar sem despedida",acceptAudioMessage:"Aceitar \xe1udios do contato?",appointmentsModal:{title:"Observa\xe7\xf5es do Contato",textarea:"Observa\xe7\xe3o",placeholder:"Insira aqui a informa\xe7\xe3o que deseja registrar"},confirmationModal:{title:"Deletar o ticket do contato",titleFrom:"do contato ",message:"Aten\xe7\xe3o! Todas as mensagens relacionadas ao ticket ser\xe3o perdidas."},buttons:{delete:"Excluir",cancel:"Cancelar"}},confirmationModal:{buttons:{confirm:"Ok",cancel:"Cancelar"}},messageInput:{tooltip:{signature:"Habilitar/Desabilitar Assinatura",privateMessage:"Habilitar/Desabilitar Mensagem Privada",meet:"Enviar link para videoconferencia"},type:{imageVideo:"Fotos e v\xeddeos",cam:"C\xe2mera",contact:"Contato",meet:"V\xeddeo chamada"}},messageOptionsMenu:{delete:"Deletar",reply:"Responder",edit:"Editar",forward:"Encaminhar",toForward:"Encaminhar",talkTo:"Conversar Com",confirmationModal:{title:"Apagar mensagem?",message:"Esta a\xe7\xe3o n\xe3o pode ser revertida."}},invoices:{table:{invoices:"Faturas",details:"Detalhes",users:"Usu\xe1rios",connections:"Conex\xf5es",queue:"Filas",value:"Valor",expirationDate:"Data Venc.",action:"A\xe7\xe3o"}},backendErrors:{ERR_NO_OTHER_WHATSAPP:"Deve haver pelo menos um WhatsApp padr\xe3o.",ERR_NO_DEF_WAPP_FOUND:"Nenhum WhatsApp padr\xe3o encontrado. Verifique a p\xe1gina de conex\xf5es.",ERR_WAPP_NOT_INITIALIZED:"Esta sess\xe3o do WhatsApp n\xe3o foi inicializada. Verifique a p\xe1gina de conex\xf5es.",ERR_WAPP_CHECK_CONTACT:"N\xe3o foi poss\xedvel verificar o contato do WhatsApp. Verifique a p\xe1gina de conex\xf5es",ERR_WAPP_INVALID_CONTACT:"Este n\xe3o \xe9 um n\xfamero de Whatsapp v\xe1lido.",ERR_WAPP_DOWNLOAD_MEDIA:"N\xe3o foi poss\xedvel baixar m\xeddia do WhatsApp. Verifique a p\xe1gina de conex\xf5es.",ERR_INVALID_CREDENTIALS:"Erro de autentica\xe7\xe3o. Por favor, tente novamente.",ERR_SENDING_WAPP_MSG:"Erro ao enviar mensagem do WhatsApp. Verifique a p\xe1gina de conex\xf5es.",ERR_DELETE_WAPP_MSG:"N\xe3o foi poss\xedvel excluir a mensagem do WhatsApp.",ERR_OTHER_OPEN_TICKET:"J\xe1 existe um t\xedquete aberto para este contato.",ERR_SESSION_EXPIRED:"Sess\xe3o expirada. Por favor entre.",ERR_USER_CREATION_DISABLED:"A cria\xe7\xe3o do usu\xe1rio foi desabilitada pelo administrador.",ERR_NO_PERMISSION:"Voc\xea n\xe3o tem permiss\xe3o para acessar este recurso.",ERR_DUPLICATED_CONTACT:"J\xe1 existe um contato com este n\xfamero.",ERR_NO_SETTING_FOUND:"Nenhuma configura\xe7\xe3o encontrada com este ID.",ERR_NO_CONTACT_FOUND:"Nenhum contato encontrado com este ID.",ERR_NO_TICKET_FOUND:"Nenhum t\xedquete encontrado com este ID.",ERR_NO_USER_FOUND:"Nenhum usu\xe1rio encontrado com este ID.",ERR_NO_WAPP_FOUND:"Nenhum WhatsApp encontrado com este ID.",ERR_CREATING_MESSAGE:"Erro ao criar mensagem no banco de dados.",ERR_CREATING_TICKET:"Erro ao criar t\xedquete no banco de dados.",ERR_FETCH_WAPP_MSG:"Erro ao buscar a mensagem no WhtasApp, talvez ela seja muito antiga.",ERR_QUEUE_COLOR_ALREADY_EXISTS:"Esta cor j\xe1 est\xe1 em uso, escolha outra.",ERR_WAPP_GREETING_REQUIRED:"A mensagem de sauda\xe7\xe3o \xe9 obrigat\xf3rio quando h\xe1 mais de uma fila.",ERR_OUT_OF_HOURS:"Fora do Hor\xe1rio de Expediente!"}}},en:{translations:{signup:{title:"Sign up",toasts:{success:"User created successfully! Please login!",fail:"Error creating user. Check the reported data."},form:{name:"Name",email:"Email",password:"Password"},buttons:{submit:"Register",login:"Already have an account? Log in!"}},login:{title:"Login",form:{email:"Email",password:"Password"},buttons:{submit:"Enter",register:"Don't have an account? Register!"}},auth:{toasts:{success:"Login successfully!"}},dashboard:{charts:{perDay:{title:"Tickets today: "}}},connections:{title:"Connections",toasts:{deleted:"WhatsApp connection deleted sucessfully!"},confirmationModal:{deleteTitle:"Delete",deleteMessage:"Are you sure? It cannot be reverted.",disconnectTitle:"Disconnect",disconnectMessage:"Are you sure? You'll need to read QR Code again."},buttons:{add:"Add WhatsApp",disconnect:"Disconnect",tryAgain:"Try Again",qrcode:"QR CODE",newQr:"New QR CODE",connecting:"Connectiing"},toolTips:{disconnected:{title:"Failed to start WhatsApp session",content:"Make sure your cell phone is connected to the internet and try again, or request a new QR Code"},qrcode:{title:"Waiting for QR Code read",content:"Click on 'QR CODE' button and read the QR Code with your cell phone to start session"},connected:{title:"Connection established"},timeout:{title:"Connection with cell phone has been lost",content:"Make sure your cell phone is connected to the internet and WhatsApp is open, or click on 'Disconnect' button to get a new QRcode"}},table:{name:"Name",status:"Status",lastUpdate:"Last Update",default:"Default",actions:"Actions",session:"Session"}},whatsappModal:{title:{add:"Add WhatsApp",edit:"Edit WhatsApp"},form:{name:"Name",default:"Default"},buttons:{okAdd:"Add",okEdit:"Save",cancel:"Cancel"},success:"WhatsApp saved successfully."},qrCode:{message:"Read QrCode to start the session"},contacts:{title:"Contacts",toasts:{deleted:"Contact deleted sucessfully!"},searchPlaceholder:"Search ...",confirmationModal:{deleteTitle:"Delete",importTitlte:"Import contacts",deleteMessage:"Are you sure you want to delete this contact? All related tickets will be lost.",importMessage:"Do you want to import all contacts from the phone?"},buttons:{import:"Import Contacts",add:"Add Contact"},table:{name:"Name",whatsapp:"WhatsApp",email:"Email",actions:"Actions"}},contactModal:{title:{add:"Add contact",edit:"Edit contact"},form:{mainInfo:"Contact details",extraInfo:"Additional information",name:"Name",number:"Whatsapp number",email:"Email",extraName:"Field name",extraValue:"Value"},buttons:{addExtraInfo:"Add information",okAdd:"Add",okEdit:"Save",cancel:"Cancel"},success:"Contact saved successfully."},queueModal:{title:{add:"Add queue",edit:"Edit queue"},form:{name:"Name",color:"Color",greetingMessage:"Greeting Message"},buttons:{okAdd:"Add",okEdit:"Save",cancel:"Cancel"}},userModal:{title:{add:"Add user",edit:"Edit user"},form:{name:"Name",email:"Email",password:"Password",profile:"Profile"},buttons:{okAdd:"Add",okEdit:"Save",cancel:"Cancel"},success:"User saved successfully."},chat:{noTicketMessage:"Select a ticket to start chatting."},ticketsManager:{buttons:{newTicket:"New"}},ticketsQueueSelect:{placeholder:"Queues"},tickets:{toasts:{deleted:"The ticket you were on has been deleted."},notification:{message:"Message from"},tabs:{open:{title:"Inbox"},closed:{title:"Resolved"},search:{title:"Search"}},search:{placeholder:"Search tickets and messages."},buttons:{showAll:"All"}},transferTicketModal:{title:"Transfer Ticket",fieldLabel:"Type to search for users",noOptions:"No user found with this name",buttons:{ok:"Transfer",cancel:"Cancel"}},ticketsList:{pendingHeader:"Queue",assignedHeader:"Working on",noTicketsTitle:"Nothing here!",noTicketsMessage:"No tickets found with this status or search term.",buttons:{accept:"Accept"}},newTicketModal:{title:"Create Ticket",fieldLabel:"Type to search for a contact",add:"Add",buttons:{ok:"Save",cancel:"Cancel"}},mainDrawer:{listItems:{dashboard:"Dashboard",connections:"Connections",tickets:"Tickets",contacts:"Contacts",queues:"Queues",administration:"Administration",users:"Users",settings:"Settings"},appBar:{user:{profile:"Profile",logout:"Logout"}}},notifications:{noTickets:"No notifications."},queues:{title:"Queues",table:{name:"Name",color:"Color",greeting:"Greeting message",actions:"Actions"},buttons:{add:"Add queue"},confirmationModal:{deleteTitle:"Delete",deleteMessage:"Are you sure? It cannot be reverted! Tickets in this queue will still exist, but will not have any queues assigned."}},queueSelect:{inputLabel:"Queues"},users:{title:"Users",table:{name:"Name",email:"Email",profile:"Profile",actions:"Actions"},buttons:{add:"Add user"},toasts:{deleted:"User deleted sucessfully."},confirmationModal:{deleteTitle:"Delete",deleteMessage:"All user data will be lost. Users' open tickets will be moved to queue."}},settings:{success:"Settings saved successfully.",title:"Settings",settings:{userCreation:{name:"User creation",options:{enabled:"Enabled",disabled:"Disabled"}}}},messagesList:{header:{assignedTo:"Assigned to:",buttons:{return:"Return",resolve:"Resolve",reopen:"Reopen",accept:"Accept"}}},messagesInput:{placeholderOpen:"Type a message",placeholderClosed:"Reopen or accept this ticket to send a message.",signMessage:"Sign"},contactDrawer:{header:"Contact details",buttons:{edit:"Edit contact"},extraInfo:"Other information"},ticketOptionsMenu:{delete:"Delete",transfer:"Transfer",confirmationModal:{title:"Delete ticket #",titleFrom:"from contact ",message:"Attention! All ticket's related messages will be lost."},buttons:{delete:"Delete",cancel:"Cancel"}},confirmationModal:{buttons:{confirm:"Ok",cancel:"Cancel"}},messageOptionsMenu:{delete:"Delete",reply:"Reply",confirmationModal:{title:"Delete message?",message:"This action cannot be reverted."}},backendErrors:{ERR_NO_OTHER_WHATSAPP:"There must be at lest one default WhatsApp connection.",ERR_NO_DEF_WAPP_FOUND:"No default WhatsApp found. Check connections page.",ERR_WAPP_NOT_INITIALIZED:"This WhatsApp session is not initialized. Check connections page.",ERR_WAPP_CHECK_CONTACT:"Could not check WhatsApp contact. Check connections page.",ERR_WAPP_INVALID_CONTACT:"This is not a valid whatsapp number.",ERR_WAPP_DOWNLOAD_MEDIA:"Could not download media from WhatsApp. Check connections page.",ERR_INVALID_CREDENTIALS:"Authentication error. Please try again.",ERR_SENDING_WAPP_MSG:"Error sending WhatsApp message. Check connections page.",ERR_DELETE_WAPP_MSG:"Couldn't delete message from WhatsApp.",ERR_OTHER_OPEN_TICKET:"There's already an open ticket for this contact.",ERR_SESSION_EXPIRED:"Session expired. Please login.",ERR_USER_CREATION_DISABLED:"User creation was disabled by administrator.",ERR_NO_PERMISSION:"You don't have permission to access this resource.",ERR_DUPLICATED_CONTACT:"A contact with this number already exists.",ERR_NO_SETTING_FOUND:"No setting found with this ID.",ERR_NO_CONTACT_FOUND:"No contact found with this ID.",ERR_NO_TICKET_FOUND:"No ticket found with this ID.",ERR_NO_USER_FOUND:"No user found with this ID.",ERR_NO_WAPP_FOUND:"No WhatsApp found with this ID.",ERR_CREATING_MESSAGE:"Error while creating message on database.",ERR_CREATING_TICKET:"Error while creating ticket on database.",ERR_FETCH_WAPP_MSG:"Error fetching the message in WhtasApp, maybe it is too old.",ERR_QUEUE_COLOR_ALREADY_EXISTS:"This color is already in use, pick another one.",ERR_WAPP_GREETING_REQUIRED:"Greeting message is required if there is more than one queue."}}},es:{translations:{signup:{title:"Registro",toasts:{success:"\xa1El usuario ha sido creado satisfactoriamente! \xa1Ahora inicia sesi\xf3n!",fail:"Error creando el usuario. Verifica la data reportada."},form:{name:"Nombre",email:"Correo Electr\xf3nico",password:"Contrase\xf1a",company:"Nombre de la Empresa",phone:"Whatsapp (COD + N\xdaMERO)"},buttons:{submit:"Reg\xedstrate",login:"\xbfYa tienes una cuenta? \xa1Inicia sesi\xf3n!"}},login:{title:"Inicio de Sesi\xf3n",form:{email:"Correo Electr\xf3nico",password:"Contrase\xf1a",button:"Ingresar"},buttons:{submit:"Ingresa",register:"\xbfNo tienes cuenta? \xa1Reg\xedstrate!"}},companies:{title:"Registrar Empresa",form:{name:"Nombre de la Empresa",plan:"Plan",token:"Token",submit:"Registrar",success:"Empresa creada con \xe9xito!"}},auth:{toasts:{success:"\xa1Inicio de sesi\xf3n exitoso!"},dueDate:{expiration:"Suscripci\xf3n caducar\xe1 en",days:"d\xedas!",day:"d\xeda!",expirationToday:"Su suscripci\xf3n termina hoy!"},token:"Token"},dashboard:{tabs:{indicators:"Indicadores",assessments:"Evaluaciones",attendants:"Agentes"},charts:{perDay:{title:"Tickets hoy: "}},cards:{inAttendance:"Atenci\xf3n actual",waiting:"Esperando",activeAttendants:"Agentes Activos",finalized:"Finalizados",newContacts:"Nuevos Contactos",totalReceivedMessages:"Total de Mensajes Recibidas",totalSentMessages:"Total de Mensajes Enviadas",averageServiceTime:"T.P. de Atenci\xf3n",averageWaitingTime:"T.P. de Espera",status:"Status (Actual)"},users:{name:"Nombre",numberAppointments:"Total de tickets",statusNow:"Actual",totalCallsUser:"Total de atenci\xf3n por usuario",totalAttendances:"Total de atenciones"},date:{initialDate:"Fecha Inicial",finalDate:"Fecha Final"},licence:{available:"Dispon\xedble hasta"},assessments:{totalCalls:"Total de Tickets",callsWaitRating:"Tickets aguardando evaluaci\xf3n",callsWithoutRating:"Ticket sin evaluaci\xf3n",ratedCalls:"Tickets evaluados",evaluationIndex:"\xcdndice de evaluaci\xf3n",score:"Puntaje",prosecutors:"Promotores",neutral:"Neutrales",detractors:"Dectratores"}},reports:{title:"Reporte de Pesquisas Realizadas",operator:"Agente",period:"Per\xedodo",until:"Hasta",date:"Fecha",reportTitle:"Relatorios",calls:"Atenciones",search:"Pesquisas",durationCalls:"Duraci\xf3n de la atenci\xf3n",grupoSessions:"Atenci\xf3n en grupos grupos",groupTicketsReports:{timezone:"America/Monterrey",msgToast:"Generando relatorio compactado, por favor espere.",errorToast:"Erro ao generar relatorio",back:"Volver",groupServiceReport:"Relatorio de Atenci\xf3n en Grupos",loading:"Cargando...",contact:"Contacto",dateOpen:"Fecha de Apertura",dateLastUpdated:"Fecha Ultima Actualizaci\xf3n",agent:"Agente",agentClosed:"Agente(cerr\xf3)",waitingAssistance:"Esperando atenci\xf3n",process:"En proceso"},researchReports:{response:"respuesta",active:"(Activa)",inactive:"(Inactiva)",quantity:"Cantidade",percentage:"porcentaje",title:"Relatorio de Pesquisas Realizadas",activeSearch:"Pesquisa activa",inactiveSearch:"Pesquisa inactiva"},ticketDurationDetail:{msgToast:"Generando relatorio compactado, por favor espere.",title:"Relatorio de Duraci\xf3n de la Atenci\xf3n",startService:"In\xedcio de la Atenci\xf3n",lastUpdated:"\xdaltima actualizaci\xf3n",lastAgent:"\xdaltimo agente",durationFinished:"Duraci\xf3n despu\xe9s de finalizado"},ticketDuration:{title:"Relatorio de Duraci\xf3n de Atenci\xf3n",contact:"Contacto",open:"Abiertos",pending:"Pendientes",finished:"Finalizados",durationFinished:"Duraci\xf3n de los finalizados",durationAfterFinished:"Duraci\xf3n despu\xe9s de finalizado",actions:"Acciones"},ticketReports:{msgToast:"Generando relatorio compactado, por favor aguarde.",title:"Relatrio de Atenci\xf3n"},pdf:{title:"Relaci\xf3n de Atenciones Realizadas",exportTitle:"Relaci\xf3n de Atenciones en Grupos Realizadas"}},todo:{newTask:"Nueva Tarea",add:"Agregar",task:"Tareas"},contactImportWpModal:{title:"Exportar Contactos para Excel",buttons:{downloadModel:"Download - modelo de excel para importaci\xf3n",closed:"Cerrar",import:"Seleccione el archivo de excel para importar los Contactos"}},connections:{title:"Conexiones",waitConnection:"Espere... Las conexiones ser\xe1n reiniciadas!",newConnection:"Nueva Conexi\xf3n",restartConnections:"Reiniciar Conexiones",callSupport:"Soporte",newConnection:"Nueva Conexi\xf3n",toasts:{deleted:"\xa1La conexi\xf3n de WhatsApp ha sido borrada satisfactoriamente!",closedimported:"Estamos cerrando los tickets importados, por favor espere."},confirmationModal:{closedImportedTitle:"Cerrar tickets importados",closedImportedMessage:"\xbfSeguro? Todos los tickets importados seran cerrados.",deleteTitle:"Borrar",deleteMessage:"\xbfEst\xe1s seguro? Este proceso no puede ser revertido.",disconnectTitle:"Desconectar",disconnectMessage:"Est\xe1s seguro? Deber\xe1 volver a leer el c\xf3digo QR"},buttons:{add:"Agrega WhatsApp",disconnect:"Desconectar",tryAgain:"Int\xe9ntalo de nuevo",qrcode:"QR CODE",newQr:"Nuevo QR CODE",closedImported:"Cerrar todos los tickets Importados",preparing:"Preparando mensajes para importaci\xf3n",importing:"Importando Mensajes del WhatsApp",newQr:"Nuevo QR CODE",processed:"Processado",in:"de",connecting:"Conectando"},typography:{processed:"Processado",in:"de",date:"Fecha del mensaje"},toolTips:{disconnected:{title:"No se pudo iniciar la sesi\xf3n de WhatsApp",content:"Aseg\xfarese de que su tel\xe9fono celular est\xe9 conectado a Internet y vuelva a intentarlo o solicite un nuevo c\xf3digo QR"},qrcode:{title:"Esperando la lectura del c\xf3digo QR",content:"Haga clic en el bot\xf3n 'C\xd3DIGO QR' y lea el C\xf3digo QR con su tel\xe9fono celular para iniciar la sesi\xf3n"},connected:{title:"Conexi\xf3n establecida"},timeout:{title:"Se perdi\xf3 la conexi\xf3n con el tel\xe9fono celular",content:"Aseg\xfarese de que su tel\xe9fono celular est\xe9 conectado a Internet y que WhatsApp est\xe9 abierto, o haga clic en el bot\xf3n 'Desconectar' para obtener un nuevo c\xf3digo QR"}},table:{name:"Nombre",status:"Estado",lastUpdate:"\xdaltima Actualizaci\xf3n",default:"Por Defecto",actions:"Acciones",session:"Sesi\xf3n",number:"N\xfamero de Whatsapp"}},showTicketOpenModal:{title:{header:"Servicio existente"},form:{message:"Hay un ticket abierto para este contacto:",user:"Agente",queue:"Fila",messageWait:"Este contacto ya est\xe1 en espera."}},showTicketLogModal:{title:{header:"Historico"},options:{create:"Ticket creado.",chatBot:"ChatBot iniciado.",queue:" - Fila definida.",open:"iniciou la atenci\xf3n.",access:"acces\xf3 el ticket.",transfered:"transferi\xf3 el ticket.",receivedTransfer:"recibi\xf3 el ticket transferido.",pending:"regres\xf3 a la fila.",closed:"cerr\xf3 el ticket",reopen:"abri\xf3 el ticket"}},whatsappModal:{title:{add:"Agrega WhatsApp",edit:"Edita WhatsApp"},tabs:{general:"Geral",messages:"Mensajes",assessments:"Evaluaciones",integrations:"Integraciones",schedules:"Horario de trabajo"},form:{importOldMessagesEnable:"Importar mensajes del celular",importOldMessages:"Fecha de inicio",importRecentMessages:"Fecha Final",importOldMessagesGroups:"Importar mensajes de grupo",closedTicketsPostImported:"Cerrar tickets despu\xe9s de la importaci\xf3n",name:"Nombre",queueRedirection:"Redirecci\xf3n de Fila",queueRedirectionDesc:"Seleccione una fila para los contactos que no tienen una fila para redirigir",default:"Por Defecto",group:"Permitir grupos",timeSendQueue:"Tiempo en minutos para redireccionar a la fila",importAlert:"ATENCI\xd3N: Guardando, su conexi\xf3n ser\xe1 cerrada, usted tendr\xe1 que volver a leer el QR Code para importar los mensajes",groupAsTicket:"Grupos como Ticket",timeCreateNewTicket:"Iniciar un nuevo ticket en *n* minutos",maxUseBotQueues:"Cantidad m\xe1xima de veces que el chatbot va a ser enviado",timeUseBotQueues:"Tiempo en minutos para nuevo env\xedo del chatbot",expiresTicket:"Cerrar chats abiertos ap\xf3s *n* horas",expiresTicketNPS:"Cerrar chats aguardando la evaluacion luego de x minutos",maxUseBotQueuesNPS:"Cantidad m\xe1xima de veces que la evaluaci\xf3n ser\xe1 enviada",closeLastMessageOptions1:"Del Agente/Cliente",closeLastMessageOptions2:"Del Agente",outOfHoursMessage:"Mensaje fuera de horario de atenci\xf3n",greetingMessage:"Mensaje de saludo",complationMessage:"Mensaje de conclusi\xf3n",lgpdLinkPrivacy:"Link para pol\xedticas de privacidad",lgpdMessage:"Mensaje inicial de LPD",lgpdDeletedMessages:"Ofuscar mensaje borrada por el contacto",lgpdSendMessage:"Siempre solicitar confirmaci\xf3n del contacto",ratingMessage:"Mensaje de evaluaci\xf3n - Rango de 0 a 10",token:"Token para integraci\xf3n externa",sendIdQueue:"Fila",inactiveMessage:"Mensaje de inactividad",timeInactiveMessage:"Tiempo em minutos para el env\xedo del aviso de inactividad",whenExpiresTicket:"Cerrar chats abiertos cuando el \xfaltimo mensaje sea",expiresInactiveMessage:"Mensaje al cerrar por inactividade",prompt:"Prompt"},buttons:{okAdd:"Agregar",okEdit:"Guardar",cancel:"Cancelar"},menuItem:{enabled:"Activado",disabled:"Desactivado",minutes:"minutos"},success:"WhatsApp guardado satisfactoriamente.",errorSendQueue:"Adem\xe1s del tiempo debes seleccinar una fila para redirecionar. Se necesitan los dos campos.",errorExpiresNPS:"Es necesario llenar el tiempo para la evaluaci\xf3n para el NPS."},qrCode:{message:"L\xe9e el c\xf3digo QR para empezar la sesi\xf3n."},contacts:{title:"Contactos",toasts:{deleted:"\xa1Contacto borrado satisfactoriamente!"},searchPlaceholder:"Buscar...",confirmationModal:{deleteTitle:"Borrar",importTitlte:"Importar contactos",exportContact:"Exportar contactos",deleteMessage:"\xbfEst\xe1s seguro que deseas borrar este contacto? Todos los tickets relacionados se perder\xe1n.",blockContact:"\xbfEst\xe1s seguro que quieres bloquear este contacto?",unblockContact:"\xbfEst\xe1s seguro que quieres desbloquear este contacto?",importMessage:"\xbfQuieres importar todos los contactos del tel\xe9fono?",importChat:"Importar Conversaciones",wantImport:"\xbfQuieres importar todas las conversaciones del tel\xe9fono?"},buttons:{import:"Importar Contactos",add:"Agregar Contacto",export:"Exportar Contacto"},table:{name:"Nombre",whatsapp:"WhatsApp",email:"Correo Electr\xf3nico",actions:"Acciones",lastMessage:"Ultimo Mensaje"},menu:{importYourPhone:"Importar del celular por default",importToExcel:"Importar / Exportar del Excel"}},forwardMessage:{text:"Reenviada"},forwardMessageModal:{title:"Reenviar mensaje",buttons:{ok:"Reenviar"}},promptModal:{form:{name:"Nombre",prompt:"Prompt",voice:"Voz",max_tokens:"M\xe1ximo de Tokens en la respuesta",temperature:"Temperatura",apikey:"API Key",max_messages:"M\xe1ximo de mensajes del Historico",voiceKey:"Llave de la API de la Voz",voiceRegion:"Regi\xf3n de la Voz"},success:"Prompt guardado",title:{add:"Agregar Prompt",edit:"Editar Prompt"},buttons:{okAdd:"Agregar",okEdit:"Guardar",cancel:"Cancelar"}},prompts:{title:"Prompts",table:{name:"Nombre",queue:"Sector/Fila",max_tokens:"M\xe1ximo Tokens Respuestas",actions:"Acciones"},confirmationModal:{deleteTitle:"Excluir",deleteMessage:"\xbfEst\xe1s seguro? \xa1Esta acci\xf3n no se puede revertir!"},buttons:{add:"Agregar Prompt"}},contactModal:{title:{add:"Agregar contacto",edit:"Editar contacto"},form:{mainInfo:"Detalles del contacto",extraInfo:"Informaci\xf3n adicional",name:"Nombre",number:"N\xfamero de Whatsapp",email:"Correo Electr\xf3nico",extraName:"Nombre del Campo",extraValue:"Valor",chatBotContact:"Desactivar chatbot para este contacto",termsLGDP:"T\xe9rminos P.P. aceptados en:",allTicket:"Visualizar tickets sin fila",allowGroup:"Permitir grupos"},buttons:{addExtraInfo:"Agregar informaci\xf3n",okAdd:"Agregar",okEdit:"Guardar",cancel:"Cancelar"},success:"Contacto guardado satisfactoriamente."},queueModal:{title:{queueData:"Datos de la fila",text:"Horarios de atenci\xf3n",add:"Agregar fila",edit:"Editar fila",confirmationDelete:"\xbfEst\xe1 seguro? Todas las opciones integradas tambi\xe9n se eliminar\xe1n."},form:{name:"Nombre",color:"Color",orderQueue:"Orden de la fila (Bot)",rotate:"Rotativo",timeRotate:"Tiempo de Rotaci\xf3n",greetingMessage:"Mensaje de saludo",complationMessage:"Mensaje de cierre",outOfHoursMessage:"Mensaje fuera de horario de atenci\xf3n",token:"Token",integrationId:"Integraci\xf3n",fileListId:"Listado de archivos",closeTicket:"Cerrar ticket",queueType:"Tipo de menu",message:"Mensaje de respuesta",queue:"Fila para transferencia",integration:"Integraci\xf3n",file:"Listado de archivos"},buttons:{okAdd:"Agregar",okEdit:"Editar",cancel:"Cancelar"},bot:{title:"Opciones",toolTipTitle:"Agregue las opciones para construir un chatbot",toolTip:"Si solo hay una opci\xf3n, se elegir\xe1 autom\xe1ticamente, lo que har\xe1 que el bot responda con el mensaje de la opci\xf3n y avance.",selectOption:"Seleccione una opci\xf3n",text:"Texto",attendent:"Agente",queue:"Fila",integration:"Integranci\xf3n",file:"Archivo",toolTipMessageTitle:"El mensaje es obligatorio para pasar al siguiente nivel",toolTipMessageContent:"El mensaje es obligatorio para pasar al siguiente nivel",selectUser:"Seleccione un Usuario",selectQueue:"Seleccione una Fila",selectIntegration:"Seleccione um Integraci\xf3n",addOptions:"Agregar opciones"},serviceHours:{dayWeek:"D\xeda",startTimeA:"Hora de Inicio",endTimeA:"Hora del t\xe9rmino",startTimeB:"Hora de Inicio",endTimeB:"Hora del t\xe9rmino",monday:"Lunes",tuesday:"Martes",wednesday:"Mi\xe9rcoles",thursday:"Jueves",friday:"Viernes",saturday:"Sabado",sunday:"Domingo"}},queueIntegrationModal:{title:{add:"Agregar proyecto",edit:"Editar proyecto"},form:{id:"ID",type:"Tipo",name:"Nombre",projectName:"Nombre del Proyecto",language:"Idioma",jsonContent:"JsonContent",urlN8N:"URL",typebotSlug:"Typebot - Slug",typebotExpires:"Tiempo en minutos para expirar una conversaci\xf3n",typebotKeywordFinish:"Palabra para finalizar la conversaci\xf3n",typebotUnknownMessage:"Mensaje de opci\xf3n invalida"},buttons:{okAdd:"Agregar",okEdit:"Guardar",cancel:"Cancelar",test:"Probar Bot"},messages:{testSuccess:"\xa1Integraci\xf3n testada con \xe9xito!",addSuccess:"\xa1Integraci\xf3n agregada con \xe9xito!",editSuccess:"\xa1Integraci\xf3n editada con \xe9xito!"}},userModal:{warning:"Para importar los mensajes por favor vuelva a leer el QRCode.",title:{add:"Agregar usuario",edit:"Editar usuario",updateImage:"Actualizar Imagen",removeImage:"Excluir Imagen"},form:{name:"Nombre",email:"Correo Electr\xf3nico",password:"Contrase\xf1a",farewellMessage:"Mensaje de despedida",profile:"Perfil",startWork:"Inicio del Horario",endWork:"Final del Horario",whatsapp:"Conexi\xf3n Defautl",allTicketEnable:"Activado",allTicketDisable:"Desactivado",allTicket:"Visualizar mensajes sin fila",allowGroup:"Permitir Grupos",defaultMenuOpen:"Abierto",defaultMenuClosed:"Cerrado",defaultMenu:"Menu Est\xe1ndar",defaultTheme:"Tema Est\xe1ndar",defaultThemeDark:"Oscuro",defaultThemeLight:"Claro",allHistoric:"Ver historicos",allHistoricEnabled:"Activado",allHistoricDisabled:"Desactivado",allUserChat:"Ver conversaci\xf3n de otros usuarios",userClosePendingTicket:"Permitir cerrar tickets pendientes",showDashboard:"Ver Dashboard"},tabs:{general:"General",permissions:"Permissos"},buttons:{okAdd:"Agregar",okEdit:"Guardar",cancel:"Cancelar",addImage:"Agregar Imagen",editImage:"Editar Imagen"},success:"Usuario guardado satisfactoriamente."},companyModal:{title:{add:"Agregar empresa",edit:"Editar empresa"},form:{name:"Nombre",email:"Correo electr\xf3nico",passwordDefault:"Contrase\xf1a",numberAttendants:"Usuarios",numberConections:"Conexiones"},buttons:{okAdd:"Agregar",okEdit:"Guardar",cancel:"Cancelar"},success:"La Empresa fue guardada satisfactoriamente."},scheduleModal:{title:{add:"Nuevo Programa",edit:"Editar Programa"},form:{body:"Mensaje",contact:"Contacto",sendAt:"Fecha del Programa",sentAt:"Fecha de Env\xedo"},buttons:{okAdd:"Agregar",okEdit:"Guardar",cancel:"Cancelar"},success:"Programa guardado satisfactoriamente."},tagModal:{title:{add:"Nueva Tag",edit:"Editar Tag",addKanban:"Nueva Lane",editKanban:"Editar Lane"},form:{name:"Nombre",color:"Color"},buttons:{okAdd:"Agregar",okEdit:"Guardar",cancel:"Cancelar"},success:"Tag guardada satisfactoriamente.",successKanban:"Lane guardada satisfactoriamente."},fileModal:{title:{add:"Agregar men\xfa de evaluaci\xf3n",edit:"Editar men\xfa de evaluaci\xf3n"},buttons:{okAdd:"Guardar",okEdit:"Editar",cancel:"Cancelar",fileOptions:"Agregar archivo"},form:{name:"Nombre",message:"Mensaje de Evaluaci\xf3n",options:"Opciones de Evaluaci\xf3n",extraName:"Nombre de la opci\xf3n",extraValue:"Valor de la opci\xf3n"},success:"Evaluaci\xf3n guardada satisfactoriamente."},chat:{noTicketMessage:"Selecciona un ticket para empezar a chatear."},uploads:{titles:{titleUploadMsgDragDrop:"\u2b07\ufe0f ARRASTRE Y SUELTE LOS ARCHIVOS EN EL CAMPO \u2b07\ufe0f",titleFileList:"Listado de archivo(s)"}},chatInternal:{new:"Nuevo",modal:{conversation:"Inicio",title:"T\xedtulo",filterUsers:"Filtro por Usuarios",cancel:"Cerrar",save:"Guardar"},modalDelete:{title:"Excluir Chat",message:"Esta acci\xf3n no se puede revertir, \xbfconfirmar?"}},ticketsManager:{questionCloseTicket:"\xbfQuieres cerrar todos los tickets?",yes:"SI",not:"NO",buttons:{newTicket:"Nuevo",resolvAll:"Resolver Todos",close:"Cerrar",new:"Nuevo"}},ticketsQueueSelect:{placeholder:"Filas"},tickets:{inbox:{closedAllTickets:"\xbfCerrar todos los tickets?",closedAll:"Cerrar Todos",newTicket:"Nuevo Ticket",yes:"SI",no:"NO",open:"Abiertos",resolverd:"Resueltos"},toasts:{deleted:"El ticket en el que estabas ha sido borrado."},notification:{message:"Mensaje de"},tabs:{open:{title:"Bandeja"},closed:{title:"Resueltos"},search:{title:"Buscar"}},search:{placeholder:"Buscar tickets y mensajes.",filterConections:"Filtro por Conexi\xf3n",filterConectionsOptions:{open:"Abierto",closed:"Cerrado",pending:"Pendiente"},filterUsers:"Filtro por usuarios"},buttons:{showAll:"Todos",returnQueue:"Regresar a la Fila",scredule:"Programar",deleteTicket:"Borrar Ticket"},closedTicket:{closedMessage:"Cerrar CON un mensaje de despedida",closedNotMessage:"Cerrar SIN un mensaje de despedida"}},transferTicketModal:{title:"Transferir Ticket",fieldLabel:"Escriba para buscar usuarios",fieldQueueLabel:"Transferir para fila",fieldQueuePlaceholder:"Seleccione una fila",fieldWhatsapp:"Seleccione un whatsapp",noOptions:"No se encontraron usuarios con ese nombre",msgTransfer:"Observaci\xf3n - los mensajes internos, no ser\xe1n visualizados por el cliente.",buttons:{ok:"Transferir",cancel:"Cancelar"}},chatInternal:{new:"Nuevo",modal:{conversation:"Conversaci\xf3n",title:"T\xedtulo",filterUsers:"Filtro por Usuarios",cancel:"Cerrar",save:"Guardar"},modalDelete:{title:"Excluir Conversaci\xf3n",message:"Esta acci\xf3n no se puede revertir, \xbfconfirmar?"}},ticketsList:{called:"Entradas",today:"Hoy",missedCall:"Llamada de voz/v\xeddeo perdida a las",pendingHeader:"Esperando",assignedHeader:"Trabajando en",groupingHeader:"Grupos",noTicketsTitle:"\xa1Nada ac\xe1!",noTicketsMessage:"No se encontraron tickets con este estado o t\xe9rmino de b\xfasqueda",noQueue:"Sin Fila",buttons:{accept:"Aceptar",cancel:"Cancelar",start:"Iniciar",closed:"Cerrar",reopen:"Reabrir",transfer:"Transferir",ignore:"Ignorar",exportAsPDF:"Exportar para PDF"},acceptModal:{title:"Aceptar Chat",queue:"Seleccionar tag"}},newTicketModal:{title:"Crear Ticket",fieldLabel:"Escribe para buscar un contacto",add:"Agregar",buttons:{ok:"Guardar",cancel:"Cancelar"}},SendContactModal:{title:"Enviar contacto",fieldLabel:"Buscar contacto",add:"Agregar",buttons:{ok:"Enviar",cancel:"Cancelar"}},mainDrawer:{listItems:{dashboard:"Dashboard",connections:"Conexiones",chatsTempoReal:"Panel de Asistencia",tickets:"Inbox",quickMessages:"Respuestas R\xe1pidas",contacts:"Contactos",queues:"Filas",tags:"Tags",administration:"Administraci\xf3n",companies:"Empresas",users:"Usuarios",settings:"Configuraci\xf3n",ratings:"Regist. Evaluaciones",helps:"Ayuda",messagesAPI:"API",schedules:"Programa",campaigns:"Campa\xf1as",annoucements:"Informativos",chats:"Chat Interno",financeiro:"Financiero",queueIntegration:"Integraciones",version:"Versi\xf3n",kanban:"Kanban",prompts:"Talk.Ai",allConnections:"Admin conexiones"},appBar:{user:{profile:"Perfil",logout:"Cerrar Sesi\xf3n",message:"Hola",messageEnd:"bienvenido a",active:"Activo hasta",goodMorning:"Hola,",myName:"mi nombre es",continuity:"y te seguir\xe9 apoyando.",virtualAssistant:"Asistente Virtual",token:"Token inv\xe1lido, favor comunicarse con el administrador de la plataforma."},message:{location:"Localizaci\xf3n",contact:"Contacto"},notRegister:"No hay registros",refresh:"Atuaclizar"}},languages:{undefined:"Idioma","es-Mx":"Espa\xf1ol",es:"Espa\xf1ol",en:"English",tr:"T\xfcrk\xe7e"},messagesAPI:{title:"API",textMessage:{number:"N\xfamero",body:"Mensaje",token:"Token registrado",userId:"ID usuario/agente",queueId:"ID Fila"},mediaMessage:{number:"N\xfamero",body:"Nombre del archivo",media:"Archivo",token:"Token registrado"},API:{title:"Documentaci\xf3n para env\xedo de mensajes",methods:{title:"M\xe9todos de Env\xedo",messagesText:"Mensajes de Texto",messagesMidia:"Mensajes de Midia"},instructions:{title:"Instrucciones",comments:"Observaciones Importantes",comments1:"Antes de enviar mensajes, es necesario registrar el token vinculado a la conexi\xf3n que enviar\xe1 los mensajes. <br />Para registrarse, acceda al men\xfa 'Conexiones', haga clic en el bot\xf3n de edici\xf3n de la conexi\xf3n e inserte el token en el campo correspondiente.",comments2:"El n\xfamero de env\xedo no debe tener m\xe1scara ni caracteres especiales y debe constar de:",codeCountry:"C\xf3digo del Pa\xeds",code:"C\xf3digo del Estado",number:"Numero"},text:{title:"1. Mensajes de Texto",instructions:"A continuaci\xf3n se muestra la lista de informaci\xf3n necesaria para enviar mensajes de texto:"},media:{title:"2. Mensagens de Media",instructions:"A continuaci\xf3n se muestra la lista de informaci\xf3n necesaria para enviar mensajes con archivos:"}}},notifications:{noTickets:"Sin notificaciones."},quickMessages:{title:"Respuestas R\xe1pidas",searchPlaceholder:"Buscar...",noAttachment:"No hay",confirmationModal:{deleteTitle:"Excluir",deleteMessage:"Esta acci\xf3n no se puede revertir. \xbfContinuar?"},buttons:{add:"Agregar",attach:"Adjuntar Archivo",cancel:"Cancelar",edit:"Editar"},toasts:{success:"Atajo agregado satisfactoriamente.",deleted:"Atajo excluido satisfactoriamente."},dialog:{title:"Mensaje R\xe1pida",shortcode:"Atajo",message:"Respuesta",save:"Guardar",cancel:"Cancelar",geral:"Global",add:"Agregar",edit:"Editar",visao:"Permitir visi\xf3n"},table:{shortcode:"Atajo",message:"Mensaje",actions:"Acciones",mediaName:"Nombre del Archivo",status:"Status"}},contactLists:{title:"Listado de Contactos",table:{name:"Nombre",contacts:"Contactos",actions:"Acciones"},buttons:{add:"Nuevo Listado"},dialog:{name:"Nombre",company:"Empresa",okEdit:"Editar",okAdd:"Agregar",add:"Agregar",edit:"Editar",cancel:"Cancelar"},confirmationModal:{deleteTitle:"Excluir",deleteMessage:"Esta acci\xf3n no se puede revertir."},toasts:{deleted:"Registro exclu\xeddo"}},contactListItems:{title:"Contactos",searchPlaceholder:"B\xfasqueda",buttons:{add:"Nuevo",lists:"Listados",import:"Importar"},dialog:{name:"Nombre",number:"N\xfamero",whatsapp:"Whatsapp",email:"Correo electr\xf3nico",okEdit:"Editar",okAdd:"Agregar",add:"Agregar",edit:"Editar",cancel:"Cancelar"},table:{name:"Nombre",number:"N\xfamero",whatsapp:"Whatsapp",email:"Correo electr\xf3nico",actions:"Acciones"},confirmationModal:{deleteTitle:"Excluir",deleteMessage:"Esta acci\xf3n no se puede revertir.",importMessage:"\xbfQuieres importar esta plantilla? ",importTitlte:"Importar"},toasts:{deleted:"Registro exclu\xeddo"}},kanban:{title:"Kanban",searchPlaceholder:"B\xfasqueda",subMenus:{list:"Admin",tags:"Lanes"}},campaigns:{title:"Campa\xf1as",searchPlaceholder:"B\xfasqueda",subMenus:{list:"Listados",listContacts:"Listados de contatos",settings:"Configuraciones"},settings:{randomInterval:"Intervalo de disparo aleatorio",noBreak:"Sin Intervalo",intervalGapAfter:"Intervalo mayor despu\xe9s de",undefined:"No definido",messages:"mensajes",laggerTriggerRange:"Intervalo de env\xedo m\xe1s grande",addVar:"Agregar variable",save:"Guardar",close:"Cerrar",add:"Agregar",shortcut:"Atajo",content:"Contenido"},buttons:{add:"Nueva Campa\xf1a",contactLists:"Listado de Contactos"},table:{name:"Nombre",whatsapp:"Conexi\xf3n",contactList:"Listado de Contactos",option:"Ninguna",disabled:"Activada",enabled:"Desactivada",status:"Status",scheduledAt:"Programa",completedAt:"Finalizada",confirmation:"Confirmaci\xf3n",actions:"Acciones"},dialog:{new:"Nueva Campa\xf1a",update:"Editar Campa\xf1a",readonly:"Solo Visualizar",help:"Use variables como {nombre}, {numero}, {email} o defina variables personalizadas.",form:{name:"Nombre",message1:"Mensaje 1",message2:"Mensaje 2",message3:"Mensaje 3",message4:"Mensaje 4",message5:"Mensaje 5",confirmationMessage1:"Mensaje de Confirmaci\xf3n 1",confirmationMessage2:"Mensaje de Confirmaci\xf3n 2",confirmationMessage3:"Mensaje de Confirmaci\xf3n 3",confirmationMessage4:"Mensaje de Confirmaci\xf3n 4",confirmationMessage5:"Mensaje de Confirmaci\xf3n 5",messagePlaceholder:"Contenido del Mensaje",whatsapp:"Conexi\xf3n",status:"Status",scheduledAt:"Programa",confirmation:"Confirmaci\xf3n",contactList:"Listado de Contacto",tagList:"Tags",statusTicket:"Status del Ticket",openTicketStatus:"Abierto",closedTicketStatus:"Cerrado",enabledOpenTicket:"Activado",disabledOpenTicket:"Desactivado",openTicket:"Abrir ticket"},buttons:{add:"Agregar",edit:"Actualizar",okadd:"Ok",cancel:"Cancelar Env\xedos",restart:"Reiniciar Env\xedos",close:"Cerrar",attach:"Anexar Archivo"}},confirmationModal:{deleteTitle:"Excluir",deleteMessage:"Esta acci\xf3n no se puede revertir."},toasts:{success:"Acci\xf3n realizada satisfactoriamente",cancel:"Campa\xf1a cancelada",restart:"Campa\xf1a reiniciada",deleted:"Registro excluido"}},campaignReport:{title:"Reporte de",inactive:"Inactiva",scheduled:"Programada",process:"En Proceso",cancelled:"Cancelada",finished:"Finalizada",campaign:"Campa\xf1a",validContacts:"Contactos V\xe1lidos",confirmationsRequested:"Confirmaciones Solicitadas",confirmations:"Confirmaciones",deliver:"Entregadas",connection:"Conexi\xf3n",contactLists:"Listado de Contactos",schedule:"Programados",conclusion:"Conclusi\xf3n"},announcements:{title:"Boletines",searchPlaceholder:"B\xfasqueda",active:"Activo",inactive:"Inactivo",buttons:{add:"Nuevo Boletin",contactLists:"Listados de Boletines"},table:{priority:"Prioridad",title:"T\xedtulo",text:"Texto",mediaName:"Archivo",status:"Status",actions:"Acciones"},dialog:{edit:"Editar Boletin",add:"Nuevo Boletin",update:"Editar Boletin",readonly:"Solo visualizar",form:{priority:"Prioridad",title:"T\xedtulo",text:"Texto",mediaPath:"Archivo",status:"Status",high:"Alta",medium:"Mediana",low:"Baja",active:"Activo",inactive:"Inactivo"},buttons:{add:"Agregar",edit:"Actualizar",okadd:"Ok",cancel:"Cancelar",close:"Cerrar",attach:"Anexar Archivo"}},confirmationModal:{deleteTitle:"Excluir",deleteMessage:"Esta acci\xf3n no se puede revertir."},toasts:{success:"Acci\xf3n realizada satisfactoriamente",deleted:"Registro excluido"}},campaignsConfig:{title:"Configuraciones de Campa\xf1as"},queues:{title:"Filas",table:{name:"Nombre",color:"Color",greeting:"Mensaje de saludo",orderQueue:"Orden de la fila (bot)",actions:"Acciones",ID:"ID"},buttons:{add:"Agregar fila"},toasts:{success:"Fila guardada",deleted:"Fila excluida"},confirmationModal:{deleteTitle:"Eliminar",deleteMessage:"\xbfEst\xe1s seguro? \xa1Esta acci\xf3n no se puede revertir! Los tickets en esa fila seguir\xe1n existiendo, pero ya no tendr\xe1n ninguna fila asignada."}},queue:{queueData:"Datos"},queueSelect:{inputLabel:"Filas",inputLabelRO:"Filas solo para lectura"},queueIntegration:{title:"Integraciones",table:{id:"ID",type:"Tipo",name:"Nombre",projectName:"Nombre del Proyecto",language:"Idioma",lastUpdate:"Ultima actualizaci\xf3n",actions:"Acciones"},buttons:{add:"Agregar Proyecto"},searchPlaceholder:"Buscar...",confirmationModal:{deleteTitle:"Excluir",deleteMessage:"\xbfEst\xe1s seguro? \xa1Esta acci\xf3n no se puede revertir! Se eliminar\xe1n las filas y conexiones enlazadas"}},users:{title:"Usuarios",table:{status:"Status",name:"Nombre",email:"Correo Electr\xf3nico",profile:"Perfil",startWork:"Inicio del trabajo",endWork:"Final de trabajo",actions:"Acciones",ID:"ID"},buttons:{add:"Agregar usuario"},toasts:{deleted:"Usuario borrado satisfactoriamente."},confirmationModal:{deleteTitle:"Borrar",deleteMessage:"Toda la informaci\xf3n del usuario se perder\xe1. Los tickets abiertos de los usuarios se mover\xe1n a la fila."}},compaies:{title:"Empresas",table:{ID:"ID",status:"Activo",name:"Nombre",email:"Correo",password:"Contrase\xf1a",phone:"Tel\xe9fono",plan:"Plan",active:"Activo",numberAttendants:"Agentes",numberConections:"Conexiones",value:"Valor",namePlan:"Nombre del Plan",numberQueues:"Filas",useCampaigns:"Campa\xf1as",useExternalApi:"Rest API",useFacebook:"Facebook",useInstagram:"Instagram",useWhatsapp:"Whatsapp",useInternalChat:"Chat Interno",useSchedules:"Programa",createdAt:"F.Creaci\xf3n",dueDate:"Caducidad",lastLogin:"Ult. Login",actions:"Acciones",money:"MXN",yes:"Si",no:"No",document:"CURP/RFC",recurrence:"Recurencia",monthly:"Mensual",bimonthly:"Bimestral",quarterly:"Trimestral",semester:"Semestral",yearly:"Anual",clear:"Limpiar",delete:"Eliminar",user:"Usuario",save:"Guardar"},buttons:{add:"Agregar empresa"},toasts:{deleted:"Empresa excluida satisfactoriamente."},confirmationModal:{deleteTitle:"Excluir",deleteMessage:"Todas las informaciones de la empresa ser\xe1n eliminadas. Los tickets abiertos de este usu\xe1rio ser\xe1n movidos a la fila."}},plans:{form:{name:"Nombre",users:"Usuarios",connections:"Conexiones",campaigns:"Campa\xf1as",schedules:"Programas",enabled:"Activada",disabled:"Desactivada",clear:"Limpiar",delete:"Eliminar",save:"Guardar",yes:"Si",no:"No",money:"MXN"}},helps:{title:"Ayuda",settings:{codeVideo:"C\xf3digo del Video",description:"Descripci\xf3n",clear:"Limpiar",delete:"Eliminar",save:"Guardar"}},schedules:{title:"Programas",confirmationModal:{deleteTitle:"\xbfSeguro que quieres excluir este Programa?",deleteMessage:"Esta acci\xf3n no se puede revertir."},table:{contact:"Contacto",body:"Mensaje",sendAt:"Fecha del Programa",sentAt:"Fecha de Env\xedo",status:"Status",actions:"Acciones"},buttons:{add:"Nuevo Programa"},toasts:{deleted:"Programa eliminado satisfactoriamente."}},tags:{title:"Tags",confirmationModal:{deleteTitle:"\xbfSeguro que quieres excluir esta Tag?",deleteMessage:"Esta acci\xf3n no se puede revertir."},table:{name:"Nombre",kanban:"Kanban",color:"Color",tickets:"Registros Tags",contacts:"Contactos",actions:"Acciones"},buttons:{add:"Nueva Tag"},toasts:{deleted:"Tag eliminada satisfactoriamente."}},tagsKanban:{title:"Lanes",laneDefault:"Abierto(s)",confirmationModal:{deleteTitle:"\xbfSeguro que quieres excluir esta Lane?",deleteMessage:"Esta acci\xf3n no se puede revertir."},table:{name:"Nombre",color:"Color",tickets:"Tickets",actions:"Acciones"},buttons:{add:"Nueva Lane"},toasts:{deleted:"Lane eliminada satisfactoriamente."}},files:{title:"Listado de archivos",table:{name:"Nombre",contacts:"Contactos",actions:"Acci\xf3n"},toasts:{deleted:"Listado borrado satisfactoriamente!",deletedAll:"Todos los listados fueron borrados satisfactoriamente!"},buttons:{add:"Agregar",deleteAll:"Borrar Todos"},confirmationModal:{deleteTitle:"Borrar",deleteAllTitle:"Borrar Todos",deleteMessage:"Est\xe1s seguro de borrar este listado?",deleteAllMessage:"Est\xe1s seguro de borrar todos los listado?"}},settings:{success:"Configuraci\xf3n guardada satisfactoriamente.",title:"Configuraci\xf3n",tabs:{options:"Opciones",plans:"Planes",helps:"Ayuda"},settings:{userCreation:{name:"Creaci\xf3n de usuarios",options:{enabled:"Habilitado",disabled:"Deshabilitado"}},tabs:{options:"Opciones",schedules:"Horarios",plans:"Planes",help:"Ayuda"},options:{disabled:"Desactivadas",enabled:"Activadas",updating:"Actualizando...",creationCompanyUser:"Creaci\xf3n de Company/Usu\xe1rio",evaluations:"Evaluaciones",officeScheduling:"Programar horarios",queueManagement:"Gerenciar por Fila",companyManagement:"Gerenciar por Empresa",connectionManagement:"Gerenciar por Conexi\xf3n",sendGreetingAccepted:"Enviar saludos al aceptar ticket",sendMsgTransfTicket:"Enviar mensaje de transferencia (departamento/agente)",checkMsgIsGroup:"Ignorar mensajes de Grupos",chatBotType:"Tipo de Bot",userRandom:"Escojer agente aleatorio",buttons:"Botones",acceptCallWhatsapp:"No aceptar llamada en el whatsapp",sendSignMessage:"Permitir agente escoger ENVIAR Firma",sendGreetingMessageOneQueues:"Enviar saludos cuando hay solamente 1 fila",sendQueuePosition:"Enviar mensaje con la posici\xf3n de la fila",sendFarewellWaitingTicket:"Enviar mensaje de despedida(estado Esperando)",acceptAudioMessageContact:"Aceptar audios de todos",enableLGPD:"Habilitar opci\xf3n P.P.",requiredTag:"Tag obligatoria para cerrar ticket",closeTicketOnTransfer:"Cerrar ticket al transferir para otra fila",DirectTicketsToWallets:"Mover automaticamente cliente para cartera"},LGPD:{title:"Politica de Privacidad",welcome:"Mensaje de bienvenida (PP)",linkLGPD:"Link de la pol\xedtica de privacidad",obfuscateMessageDelete:"Ofuscar mensaje borrada",alwaysConsent:"Requerir siempre el consentimiento",obfuscatePhoneUser:"Ofuscar n\xfamero de telefono para usuarios",enabled:"Activado",disabled:"Desactivado"}}},messagesList:{header:{assignedTo:"Asignado a:",dialogRatingTitle:"\xbfQuieres dejar un mensaje de evaluaci\xf3n para el cliente?",dialogClosingTitle:"Finalizando la atenci\xf3n al cliente!",dialogRatingCancel:"Cerrar CON Mensaje de Despedida",dialogRatingSuccess:"Cerrar y Enviar Evaluaci\xf3n",dialogRatingWithoutFarewellMsg:"Cerrar SIN Mensaje de Despedida",ratingTitle:"Elegir men\xfa de evaluaci\xf3n",notMessage:"No hay mensaje seleccionado",buttons:{return:"Devolver",resolve:"Resolver",reopen:"Reabrir",accept:"Aceptar",rating:"Enviar Evaluaci\xf3n",enableIntegration:"Activar/Desactivar integraci\xf3n",logTicket:"Logs del Ticket",requiredTag:"Opps! Debes asignar una tag antes de cerrar el ticket."}}},messagesInput:{placeholderPrivateMessage:"Entre como un mensaje o con / para respuestas r\xe1pidas",placeholderOpen:"Entre como un mensaje o con / para respuestas r\xe1pidas",placeholderClosed:"Vuelva a abrir o acepte este ticket para enviar un mensaje.",signMessage:"Firmar",privateMessage:"Mensaje Privada"},contactDrawer:{header:"Detalles del contacto",buttons:{edit:"Editar contacto",block:"Bloquear",unblock:"Desbloquear"},extraInfo:"Otras informaciones"},messageVariablesPicker:{label:"Variables disponibles",vars:{contactFirstName:"Primer Nombre",contactName:"Nombre",user:"Agente",greeting:"Saludos",protocolNumber:"Protocolo",date:"Fecha",hour:"Hora",ticket_id:"N\xba del Ticket",queue:"Sector",connection:"Conexi\xf3n"}},ticketOptionsMenu:{schedule:"Programa",delete:"Borrar",transfer:"Transferir",registerAppointment:"Observaciones del Contacto",resolveWithNoFarewell:"Cerrar sin despedida",acceptAudioMessage:"\xbfAceptar audios del contacto?",appointmentsModal:{title:"Observaciones del Contacto",textarea:"Observaci\xf3n",placeholder:"Agregue aqui la informaci\xf3n"},confirmationModal:{title:"\xbfBorrar ticket #",titleFrom:"del contacto ",message:"\xa1Atenci\xf3n! Todos los mensajes Todos los mensajes relacionados con el ticket se perder\xe1n."},buttons:{delete:"Borrar",cancel:"Cancelar"}},confirmationModal:{buttons:{confirm:"Ok",cancel:"Cancelar"}},messageInput:{tooltip:{signature:"Activar/Desactivar firma",privateMessage:"Activar/Desactivar mensaje privado",meet:"Enviar link para videollamada"},type:{imageVideo:"Fotos y videos",cam:"C\xe1mara",contact:"Contacto",meet:"Link Jitsi Meet"}},messageOptionsMenu:{delete:"Borrar",reply:"Responder",edit:"Editar",forward:"Enviar",toForward:"Enviar",talkTo:"Platicar Con",confirmationModal:{title:"\xbfBorrar mensaje?",message:"Esta acci\xf3n no puede ser revertida."}},invoices:{table:{invoices:"Facturas",details:"Detalles",users:"Usuarios",connections:"Conexiones",queue:"Filas",value:"Valor",expirationDate:"Fecha Venc.",action:"Acci\xf3n"}},backendErrors:{ERR_NO_OTHER_WHATSAPP:"Debe haber al menos una conexi\xf3n de WhatsApp predeterminada.",ERR_NO_DEF_WAPP_FOUND:"No se encontr\xf3 WhatsApp predeterminado. Verifique la p\xe1gina de conexiones.",ERR_WAPP_NOT_INITIALIZED:"Esta sesi\xf3n de WhatsApp no \u200b\u200best\xe1 inicializada. Verifique la p\xe1gina de conexiones.",ERR_WAPP_CHECK_CONTACT:"No se pudo verificar el contacto de WhatsApp. Verifique la p\xe1gina de conexiones.",ERR_WAPP_INVALID_CONTACT:"Este no es un n\xfamero de whatsapp v\xe1lido.",ERR_WAPP_DOWNLOAD_MEDIA:"No se pudieron descargar los medios de WhatsApp. Verifique la p\xe1gina de conexiones.",ERR_INVALID_CREDENTIALS:"Error de autenticaci\xf3n. Vuelva a intentarlo.",ERR_SENDING_WAPP_MSG:"Error al enviar el mensaje de WhatsApp. Verifique la p\xe1gina de conexiones.",ERR_DELETE_WAPP_MSG:"No se pudo borrar el mensaje de WhatsApp.",ERR_OTHER_OPEN_TICKET:"Ya hay un ticket abierto para este contacto.",ERR_SESSION_EXPIRED:"Sesi\xf3n caducada. Inicie sesi\xf3n.",ERR_USER_CREATION_DISABLED:"La creaci\xf3n de usuarios fue deshabilitada por el administrador.",ERR_NO_PERMISSION:"No tienes permiso para acceder a este recurso.",ERR_DUPLICATED_CONTACT:"Ya existe un contacto con este n\xfamero.",ERR_NO_SETTING_FOUND:"No se encontr\xf3 ninguna configuraci\xf3n con este ID.",ERR_NO_CONTACT_FOUND:"No se encontr\xf3 ning\xfan contacto con este ID.",ERR_NO_TICKET_FOUND:"No se encontr\xf3 ning\xfan ticket con este ID.",ERR_NO_USER_FOUND:"No se encontr\xf3 ning\xfan usuario con este ID.",ERR_NO_WAPP_FOUND:"No se encontr\xf3 WhatsApp con este ID.",ERR_CREATING_MESSAGE:"Error al crear el mensaje en la base de datos.",ERR_CREATING_TICKET:"Error al crear el ticket en la base de datos.",ERR_FETCH_WAPP_MSG:"Error al obtener el mensaje en WhtasApp, tal vez sea demasiado antiguo.",ERR_QUEUE_COLOR_ALREADY_EXISTS:"Este color ya est\xe1 en uso, elija otro.",ERR_WAPP_GREETING_REQUIRED:"El mensaje de saludo es obligatorio cuando hay m\xe1s de una fila.",ERR_OUT_OF_HOURS:"\xa1Fuera del horario de oficina!"}}}};Qe.a.use(Ge.a).init({debug:!1,defaultNS:["translations"],fallbackLng:"pt",ns:["translations"],resources:Ve});var Ke=e=>{var a,t;const n=null===(a=e.response)||void 0===a||null===(t=a.data)||void 0===t?void 0:t.error;return n?Qe.a.exists("backendErrors.".concat(n))?void s.b.error(Qe.a.t("backendErrors.".concat(n)),{toastId:n,autoClose:2e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!1,draggable:!0,progress:void 0,theme:"light"}):void s.b.error(n,{toastId:n,autoClose:2e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!1,draggable:!0,progress:void 0,theme:"light"}):Object(A.isString)(e)?void s.b.error(e):void s.b.error("An error occurred!")},_e=t(283),Ye=t.n(_e);const Xe=Ye.a.create({baseURL:"https://backend.bonigroup.com.br",withCredentials:!0}),Je=Ye.a.create({baseURL:"https://backend.bonigroup.com.br"});var Ze=Xe,$e=t(678),ea=t.n($e);function aa(e){return ea()("https://backend.bonigroup.com.br",{transports:["websocket","polling","flashsocket"],pingTimeout:18e3,pingInterval:18e3,query:Object(A.isObject)(e)?{...e}:{userId:e.userId}})}function ta(){return{dateToClient:function(e){return y()(e).isValid()?y()(e).format("DD/MM/YYYY"):e},datetimeToClient:function(e){return y()(e).isValid()?y()(e).format("DD/MM/YYYY HH:mm"):e},dateToDatabase:function(e){return y()(e,"DD/MM/YYYY").isValid()?y()(e).format("YYYY-MM-DD HH:mm:ss"):e},returnDays:function(e){let a=new Date,t=new Date(e).getTime()-a.getTime(),n=Math.ceil(t/864e5);return-0===n&&(n=0),n}}}var na=()=>{const e=Object(f.useHistory)(),[a,t]=Object(n.useState)(!1),[l,o]=Object(n.useState)(!0),[r,i]=Object(n.useState)({});Ze.interceptors.request.use(e=>{const a=localStorage.getItem("token");return a&&(e.headers.Authorization="Bearer ".concat(JSON.parse(a)),t(!0)),e},e=>{Promise.reject(e)}),Ze.interceptors.response.use(e=>e,async e=>{var a,n;const l=e.config;if(403===(null===e||void 0===e||null===(a=e.response)||void 0===a?void 0:a.status)&&!l._retry){l._retry=!0;const{data:e}=await Ze.post("/auth/refresh_token");return e&&(localStorage.setItem("token",JSON.stringify(e.token)),Ze.defaults.headers.Authorization="Bearer ".concat(e.token)),Ze(l)}return 401===(null===e||void 0===e||null===(n=e.response)||void 0===n?void 0:n.status)&&(localStorage.removeItem("token"),Ze.defaults.headers.Authorization=void 0,t(!1)),Promise.reject(e)}),Object(n.useEffect)(()=>{const e=localStorage.getItem("token");(async()=>{if(e)try{const{data:e}=await Ze.post("/auth/refresh_token");Ze.defaults.headers.Authorization="Bearer ".concat(e.token),t(!0),i(e.user)}catch(a){Ke(a)}o(!1)})()},[]),Object(n.useEffect)(()=>{const e=r.companyId;if(e){const a=aa({companyId:e,userId:r.id});return a.on("company-".concat(e,"-user"),e=>{"update"===e.action&&e.user.id===r.id&&i(e.user)}),()=>{a.disconnect()}}},[r]);return{isAuth:a,user:r,loading:l,handleLogin:async a=>{o(!0);try{const{data:c}=await Ze.post("/auth/login",a),{user:{companyId:d,id:m,company:u}}=c;if(Object(A.has)(u,"companieSettings")&&Object(A.isArray)(u.companieSettings[0])){const e=u.companieSettings[0].find(e=>"campaignsEnabled"===e.key);e&&"true"===e.value&&localStorage.setItem("cshow",null)}if(Object(A.has)(u,"companieSettings")&&Object(A.isArray)(u.companieSettings[0])){const e=u.companieSettings[0].find(e=>"sendSignMessage"===e.key),a="enable"===e.value;e&&"enabled"===e.value&&localStorage.setItem("sendSignMessage",a)}let p;localStorage.setItem("profileImage",c.user.profileImage),y.a.locale("pt-br"),p=1===c.user.company.id?"2999-12-31T00:00:00.000Z":c.user.company.dueDate;y()(y()()).format("DD/MM/yyyy");const g=y()(p).format("DD/MM/yyyy");var n=y()(p).diff(y()(y()()).format()),l=y()(y()().format()).isBefore(p),r=y.a.duration(n).asDays();!0===l?(localStorage.setItem("token",JSON.stringify(c.token)),localStorage.setItem("companyDueDate",g),Ze.defaults.headers.Authorization="Bearer ".concat(c.token),i(c.user),t(!0),s.b.success(Qe.a.t("auth.toasts.success")),Math.round(r)<5&&s.b.warn("Sua assinatura vence em ".concat(Math.round(r)," ").concat(1===Math.round(r)?"dia":"dias"," ")),e.push("/tickets"),o(!1)):(Ze.defaults.headers.Authorization="Bearer ".concat(c.token),t(!0),Ke("Opss! Sua assinatura venceu ".concat(g,".\nEntre em contato com o Suporte para mais informa\xe7\xf5es! ")),e.push("/financeiro-aberto"),o(!1))}catch(c){Ke(c),o(!1)}},handleLogout:async()=>{o(!0);try{await Ze.delete("/auth/logout"),t(!1),i({}),localStorage.removeItem("token"),localStorage.removeItem("cshow"),Ze.defaults.headers.Authorization=void 0,o(!1),e.push("/login")}catch(a){Ke(a),o(!1)}},getCurrentUserInfo:async()=>{try{const{data:e}=await Ze.get("/auth/me");return e}catch(e){Ke(e)}}}};const la=Object(n.createContext)(),oa=e=>{let{children:a}=e;const{loading:t,user:n,isAuth:o,handleLogin:r,handleLogout:s}=na();return l.a.createElement(la.Provider,{value:{loading:t,user:n,isAuth:o,handleLogin:r,handleLogout:s}},a)},ra=(e,a)=>{if("LOAD_WHATSAPPS"===a.type){return[...a.payload]}if("UPDATE_WHATSAPPS"===a.type){const t=a.payload,n=e.findIndex(e=>e.id===t.id);return-1!==n?(e[n]=t,[...e]):[t,...e]}if("UPDATE_SESSION"===a.type){const t=a.payload,n=e.findIndex(e=>e.id===t.id);return-1!==n?(e[n].status=t.status,e[n].updatedAt=t.updatedAt,e[n].qrcode=t.qrcode,e[n].retries=t.retries,[...e]):[...e]}if("DELETE_WHATSAPPS"===a.type){const t=a.payload,n=e.findIndex(e=>e.id===t);return-1!==n&&e.splice(n,1),[...e]}if("RESET"===a.type)return[]};var sa=()=>{const[e,a]=Object(n.useReducer)(ra,[]),[t,l]=Object(n.useState)(!0),{user:o}=Object(n.useContext)(la);return Object(n.useEffect)(()=>{l(!0);(async()=>{try{const{data:e}=await Ze.get("/whatsapp/?session=0");a({type:"LOAD_WHATSAPPS",payload:e}),l(!1)}catch(e){l(!1),Ke(e)}})()},[]),Object(n.useEffect)(()=>{const e=o.companyId,t=o.id;if(e){const n=aa({companyId:e,userId:t});return n.on("company-".concat(e,"-whatsapp"),e=>{"update"===e.action&&a({type:"UPDATE_WHATSAPPS",payload:e.whatsapp})}),n.on("company-".concat(e,"-whatsapp"),e=>{"delete"===e.action&&a({type:"DELETE_WHATSAPPS",payload:e.whatsappId})}),n.on("company-".concat(e,"-whatsappSession"),e=>{"update"===e.action&&a({type:"UPDATE_SESSION",payload:e.session})}),()=>{n.disconnect()}}},[o]),{whatsApps:e,loading:t}};const ia=Object(n.createContext)(),ca=e=>{let{children:a}=e;const{loading:t,whatsApps:n}=sa();return l.a.createElement(ia.Provider,{value:{whatsApps:n,loading:t}},a)};var da={user:{static:[]},admin:{static:["dashboard:view","drawer-admin-items:view","tickets-manager:showall","user-modal:editProfile","user-modal:editQueues","ticket-options:deleteTicket","contacts-page:deleteContact","connections-page:actionButtons","connections-page:addConnection","connections-page:editOrDeleteConnection","tickets-manager:closeAll"]}};const ma=e=>{let{role:a,perform:t,data:n,yes:l,no:o}=e;return((e,a,t)=>{const n=da[e];if(!n)return!1;const l=n.static;if(l&&l.includes(a))return!0;const o=n.dynamic;if(o){const e=o[a];return!!e&&e(t)}return!1})(a,t,n)?l():o()};ma.defaultProps={yes:()=>null,no:()=>null};var ua=()=>({getPlanList:async e=>{const{data:a}=await Je.request({url:"/plans/list",method:"GET",params:e});return a},list:async e=>{const{data:a}=await Ze.request({url:"/plans/all",method:"GET",params:e});return a},save:async e=>{const{data:a}=await Ze.request({url:"/plans",method:"POST",data:e});return a},update:async e=>{const{data:a}=await Ze.request({url:"/plans/".concat(e.id),method:"PUT",data:e});return a},remove:async e=>{const{data:a}=await Ze.request({url:"/plans/".concat(e),method:"DELETE"});return a},getPlanCompany:async(e,a)=>{const{data:t}=await Ze.request({url:"/companies/listPlan/".concat(a),method:"GET",params:e});return t}});var pa=()=>({getVersion:async()=>{const{data:e}=await Ze.request({url:"/version",method:"GET"});return e}});function ga(e){const{icon:a,primary:t,to:n,className:o}=e,r=l.a.useMemo(()=>l.a.forwardRef((e,a)=>l.a.createElement(b.b,Object.assign({to:n,ref:a},e))),[n]);return l.a.createElement("li",null,l.a.createElement(G.a,{dense:!0,button:!0,component:r,className:o},a?l.a.createElement(V.a,null,a):null,l.a.createElement(K.a,{primary:t})))}const Ea=(e,a)=>{if("LOAD_CHATS"===a.type){const t=a.payload,n=[];return Object(A.isArray)(t)&&t.forEach(a=>{const t=e.findIndex(e=>e.id===a.id);-1!==t?e[t]=a:n.push(a)}),[...e,...n]}if("UPDATE_CHATS"===a.type){const t=a.payload,n=e.findIndex(e=>e.id===t.id);return-1!==n?(e[n]=t,[...e]):[t,...e]}if("DELETE_CHAT"===a.type){const t=a.payload,n=e.findIndex(e=>e.id===t);return-1!==n&&e.splice(n,1),[...e]}if("RESET"===a.type)return[];if("CHANGE_CHAT"===a.type){return e.map(e=>e.id===a.payload.chat.id?a.payload.chat:e)}};var ba=(e,a)=>{let{collapsed:t}=a;const{drawerClose:o}=e,{whatsApps:r}=Object(n.useContext)(ia),{user:s}=Object(n.useContext)(la),[i,c]=Object(n.useState)(!1),[d,m]=Object(n.useState)(!1),[u,p]=Object(n.useState)(!1),[g,E]=Object(n.useState)(!1),[b,h]=Object(n.useState)(!1),[v,y]=Object(n.useState)(!1),[A,C]=Object(n.useState)(!1),[x,T]=Object(n.useState)(!1),[k,S]=Object(n.useState)(!1),[w,M]=Object(n.useState)(!1),N=Object(f.useHistory)(),[R,D]=Object(n.useState)(!0),[F,L]=Object(n.useState)(1),[q]=Object(n.useState)(""),[W,B]=Object(n.useReducer)(Ea,[]),[z,H]=Object(n.useState)(!1),{getPlanCompany:U}=ua(),{getVersion:Q}=pa();Object(n.useEffect)(()=>{!async function(){const e=await Q();H(e.version)}()},[]),Object(n.useEffect)(()=>{B({type:"RESET"}),L(1)},[q]),Object(n.useEffect)(()=>{!async function(){const e=s.companyId,a=await U(void 0,e);E(a.plan.useCampaigns),h(a.plan.useKanban),y(a.plan.useOpenAi),C(a.plan.useIntegrations),T(a.plan.useSchedules),S(a.plan.useInternalChat),M(a.plan.useExternalApi)}()},[]),Object(n.useEffect)(()=>{const e=setTimeout(()=>{X()},500);return()=>clearTimeout(e)},[q,F]),Object(n.useEffect)(()=>{const e=s.companyId,a=aa({companyId:e,userId:s.id});return a.on("company-".concat(e,"-chat"),e=>{"new-message"===e.action&&B({type:"CHANGE_CHAT",payload:e}),"update"===e.action&&B({type:"CHANGE_CHAT",payload:e})}),()=>{a.disconnect()}},[]),Object(n.useEffect)(()=>{let e=0;if(W.length>0)for(let a of W)for(let t of a.users)t.userId===s.id&&(e+=t.unreads);D(!(e>0))},[W,s.id]),Object(n.useEffect)(()=>{const e=setTimeout(()=>{if(r.length>0){r.filter(e=>"qrcode"===e.status||"PAIRING"===e.status||"DISCONNECTED"===e.status||"TIMEOUT"===e.status||"OPENING"===e.status).length>0?c(!0):c(!1)}},2e3);return()=>clearTimeout(e)},[r]);const X=async()=>{try{const{data:e}=await Ze.get("/chats/",{params:{searchParam:q,pageNumber:F}});B({type:"LOAD_CHATS",payload:e.records})}catch(e){Ke(e)}};return l.a.createElement("div",{onClick:o},l.a.createElement(ma,{role:"enabled"===s.showDashboard?"admin":s.profile,perform:"dashboard:view",yes:()=>l.a.createElement(ga,{to:"/",primary:"Dashboard",icon:l.a.createElement(J.a,null)})}),l.a.createElement(ga,{to:"/tickets",primary:Qe.a.t("mainDrawer.listItems.tickets"),icon:l.a.createElement($.a,null)}),l.a.createElement(ga,{to:"/moments",primary:Qe.a.t("mainDrawer.listItems.chatsTempoReal"),icon:l.a.createElement(qe.a,null)}),l.a.createElement(ga,{to:"/quick-messages",primary:Qe.a.t("mainDrawer.listItems.quickMessages"),icon:l.a.createElement(me.a,null)}),b&&l.a.createElement(l.a.Fragment,null,l.a.createElement(G.a,{dense:!0,button:!0,onClick:()=>p(e=>!e)},l.a.createElement(V.a,null,l.a.createElement(fe.a,null)),l.a.createElement(K.a,{primary:Qe.a.t("mainDrawer.listItems.kanban")}),u?l.a.createElement(Oe.a,null):l.a.createElement(Se.a,null)),l.a.createElement(Y.a,{style:{paddingLeft:15},in:u,timeout:"auto",unmountOnExit:!0},l.a.createElement(I.a,{dense:!0,component:"div",disablePadding:!0},l.a.createElement(G.a,{onClick:()=>N.push("/kanban"),button:!0},l.a.createElement(V.a,null,l.a.createElement(je.a,null)),l.a.createElement(K.a,{primary:Qe.a.t("kanban.subMenus.list")})),l.a.createElement(ma,{role:s.profile,perform:"dashboard:view",yes:()=>l.a.createElement(G.a,{onClick:()=>N.push("/tagsKanban"),button:!0},l.a.createElement(V.a,null,l.a.createElement(We.a,null)),l.a.createElement(K.a,{primary:Qe.a.t("kanban.subMenus.tags")}))})))),l.a.createElement(ga,{to:"/contacts",primary:Qe.a.t("mainDrawer.listItems.contacts"),icon:l.a.createElement(se.a,null)}),x&&l.a.createElement(l.a.Fragment,null,l.a.createElement(ga,{to:"/schedules",primary:Qe.a.t("mainDrawer.listItems.schedules"),icon:l.a.createElement(ve.a,null)})),l.a.createElement(ga,{to:"/tags",primary:Qe.a.t("mainDrawer.listItems.tags"),icon:l.a.createElement(Ae.a,null)}),k&&l.a.createElement(l.a.Fragment,null,l.a.createElement(ga,{to:"/chats",primary:Qe.a.t("mainDrawer.listItems.chats"),icon:l.a.createElement(O.a,{color:"secondary",variant:"dot",invisible:R},l.a.createElement(De.a,null))})),l.a.createElement(ga,{to:"/helps",primary:Qe.a.t("mainDrawer.listItems.helps"),icon:l.a.createElement(pe.a,null)}),l.a.createElement(ma,{role:s.profile,perform:"drawer-admin-items:view",yes:()=>l.a.createElement(l.a.Fragment,null,l.a.createElement(j.a,null),l.a.createElement(_.a,{inset:!0},Qe.a.t("mainDrawer.listItems.administration")),g&&l.a.createElement(l.a.Fragment,null,l.a.createElement(G.a,{dense:!0,button:!0,onClick:()=>m(e=>!e)},l.a.createElement(V.a,null,l.a.createElement(xe.a,null)),l.a.createElement(K.a,{primary:Qe.a.t("mainDrawer.listItems.campaigns")}),d?l.a.createElement(Oe.a,null):l.a.createElement(Se.a,null)),l.a.createElement(Y.a,{style:{paddingLeft:15},in:d,timeout:"auto",unmountOnExit:!0},l.a.createElement(I.a,{dense:!0,component:"div",disablePadding:!0},l.a.createElement(G.a,{onClick:()=>N.push("/campaigns"),button:!0},l.a.createElement(V.a,null,l.a.createElement(je.a,null)),l.a.createElement(K.a,{primary:Qe.a.t("campaigns.subMenus.list")})),l.a.createElement(G.a,{onClick:()=>N.push("/contact-lists"),button:!0},l.a.createElement(V.a,null,l.a.createElement(Me.a,null)),l.a.createElement(K.a,{primary:Qe.a.t("campaigns.subMenus.listContacts")})),l.a.createElement(G.a,{onClick:()=>N.push("/campaigns-config"),button:!0},l.a.createElement(V.a,null,l.a.createElement(ne.a,null)),l.a.createElement(K.a,{primary:Qe.a.t("campaigns.subMenus.settings")}))))),s.super&&l.a.createElement(ga,{to:"/announcements",primary:Qe.a.t("mainDrawer.listItems.annoucements"),icon:l.a.createElement(Re.a,null)}),w&&l.a.createElement(l.a.Fragment,null,l.a.createElement(ga,{to:"/messages-api",primary:Qe.a.t("mainDrawer.listItems.messagesAPI"),icon:l.a.createElement(Ee.a,null)})),l.a.createElement(ga,{to:"/users",primary:Qe.a.t("mainDrawer.listItems.users"),icon:l.a.createElement(oe.a,null)}),l.a.createElement(ga,{to:"/queues",primary:Qe.a.t("mainDrawer.listItems.queues"),icon:l.a.createElement(ce.a,null)}),v&&l.a.createElement(ga,{to:"/prompts",primary:Qe.a.t("mainDrawer.listItems.prompts"),icon:l.a.createElement(Be.a,null)}),A&&l.a.createElement(ga,{to:"/queue-integration",primary:Qe.a.t("mainDrawer.listItems.queueIntegration"),icon:l.a.createElement(ze.a,null)}),l.a.createElement(ga,{to:"/connections",primary:Qe.a.t("mainDrawer.listItems.connections"),icon:l.a.createElement(O.a,{badgeContent:i?"!":0,color:"error"},l.a.createElement(ae.a,null))}),s.super&&l.a.createElement(ga,{to:"/allConnections",primary:Qe.a.t("mainDrawer.listItems.allConnections"),icon:l.a.createElement(He.a,null)}),l.a.createElement(ga,{to:"/files",primary:Qe.a.t("mainDrawer.listItems.files"),icon:l.a.createElement(Ue.a,null)}),l.a.createElement(ga,{to:"/settings",primary:Qe.a.t("mainDrawer.listItems.settings"),icon:l.a.createElement(ne.a,null)}),s.super&&l.a.createElement(ga,{to:"/companies",primary:Qe.a.t("mainDrawer.listItems.companies"),icon:l.a.createElement(Le.a,null)}),!t&&l.a.createElement(l.a.Fragment,null,l.a.createElement(j.a,null),l.a.createElement(P.a,{style:{fontSize:"12px",padding:"10px",textAlign:"right",fontWeight:"bold"}},"".concat(z))))}))},fa=t(1082),ha=t(513),va=t(692),ya=t(519),Aa=t.n(ya),Ca=t(984),xa=t(985),Ta=t(981),Oa=t.n(Ta),ka=t(1809),Sa=t(343),wa=t(1253),Ma=t(518),Ia=t.n(Ma),ja=t(124),Na=t.n(ja),Ra=t(703),Pa=t.n(Ra),Da=t(702),Fa=t.n(Da),La=t(982);const qa=["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","marker","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"],Wa=["a","b","strong","em","u","code","del"],Ba=e=>{let{children:a,...t}=e;return l.a.createElement("a",Object.assign({},t,{target:"_blank",rel:"noopener noreferrer"}),a)};var za=e=>{let{children:a}=e;const t=/\*(.*?)\*/g,n=/~(.*?)~/g;a&&a.includes("***")&&(a=a.replace(/\*\*\*/g,"###PIX_MARKER###")),a&&t.test(a)&&(a=a.replace(t,"**$1**")),a&&a.includes("###PIX_MARKER###")&&(a=a.replace(new RegExp("###PIX_MARKER###","g"),"***")),a&&n.test(a)&&(a=a.replace(n,"~~$1~~"));const o=l.a.useMemo(()=>{const e={disableParsingRawHTML:!0,forceInline:!0,overrides:{a:{component:Ba}}};return qa.forEach(a=>{Wa.includes(a)||(e.overrides[a]=e=>e.children||null)}),e},[]);return a?l.a.createElement(La.a,{options:o},a):null},Ha=t(954),Ua=t(983),Qa=t.n(Ua),Ga=t.p+"static/media/instagram.79535458.png",Va=t.p+"static/media/whatsapp.7f02d15e.png";const Ka=Object(n.createContext)(),_a=e=>{let{children:a}=e;const[t,o]=Object(n.useState)({id:null,code:null}),r=Object(f.useHistory)();return Object(n.useEffect)(()=>{null!==t.id&&("undefined"===typeof t.uuid?r.push("/tickets"):r.push("/tickets/".concat(t.uuid)))},[t]),l.a.createElement(Ka.Provider,{value:{currentTicket:t,setCurrentTicket:o}},a)},Ya=Object(x.a)(e=>({ticket:{position:"relative"},pendingTicket:{cursor:"unset"},noTicketsDiv:{display:"flex",height:"100px",margin:40,flexDirection:"column",alignItems:"center",justifyContent:"center"},noTicketsText:{textAlign:"center",color:"rgb(104, 121, 146)",fontSize:"14px",lineHeight:"1.4"},noTicketsTitle:{textAlign:"center",fontSize:"16px",fontWeight:"600",margin:"0px"},contactNameWrapper:{display:"flex",justifyContent:"space-between"},lastMessageTime:{position:"absolute",marginRight:5,right:20,bottom:30},closedBadge:{alignSelf:"center",justifySelf:"flex-end",marginRight:32,marginLeft:"auto"},contactLastMessage:{paddingRight:20},newMessagesCount:{alignSelf:"center",marginRight:8,marginLeft:"auto"},bottomButton:{top:"12px"},badgeStyle:{color:"white",backgroundColor:Sa.a[500]},acceptButton:{position:"absolute",left:"50%"},ticketQueueColor:{flex:"none",width:"8px",height:"100%",position:"absolute",top:"0%",left:"0%"},userTag:{position:"absolute",marginRight:110,right:20,bottom:30,backgroundColor:e.palette.background.default,color:e.palette.primary.main,border:"1px solid #CCC",padding:1,paddingLeft:5,paddingRight:5,borderRadius:10,fontSize:"0.9em"},divTags:{position:"absolute",marginRight:0,left:0,bottom:0,flexWrap:"wrap",display:"flex",flexDirection:"row",justifyContent:"flex-start",alignItems:"center"},tags:{color:"#FFF",border:"1px solid #CCC",padding:0,paddingLeft:5,paddingRight:5,borderRadius:0,fontSize:"0.6em",textAlign:"center"},divUser:{position:"absolute",marginRight:0,left:0,top:0,flexWrap:"wrap",display:"flex",flexDirection:"row",justifyContent:"flex-start",alignItems:"center"},user:{color:"#eee",border:"1px solid #CCC",padding:0,paddingLeft:5,paddingRight:5,borderRadius:0,fontSize:"0.6em",textAlign:"center"},tagsWrapper:{zIndex:500},badge:{backgroundColor:"#44b700",color:"#44b700",boxShadow:"0 0 0 2px ".concat(e.palette.background.paper),"&::after":{position:"absolute",top:0,left:0,width:"100%",height:"100%",borderRadius:"50%",animation:"$ripple 1.2s infinite ease-in-out",border:"1px solid currentColor",content:'""'}},"@keyframes ripple":{"0%":{transform:"scale(.8)",opacity:1},"100%":{transform:"scale(2.4)",opacity:0}}})),Xa=Object(T.a)(e=>({root:{width:22,height:22,border:"2px solid ".concat(e.palette.background.paper)}}))(k.a);var Ja=e=>{var a,t,o,r,s,i,c,d;let{ticket:m}=e;const u=Ya(),p=Object(f.useHistory)(),[g,E]=Object(n.useState)(!1),{ticketId:b}=Object(f.useParams)(),v=Object(n.useRef)(!0),{user:y}=Object(n.useContext)(la),{setCurrentTicket:A}=Object(n.useContext)(Ka);Object(n.useEffect)(()=>()=>{v.current=!1},[]);const C=async e=>{E(!0);try{await Ze.put("/tickets/".concat(e.id),{status:"pending"})}catch(a){E(!1),Ke(a)}v.current&&E(!1),T(e),p.push("/tickets/".concat(e.uuid))},x=async e=>{E(!0);try{await Ze.put("/tickets/".concat(e.id),{status:"closed"})}catch(a){E(!1),Ke(a)}v.current&&E(!1)},T=e=>{const a=Object(ka.a)(),{id:t,uuid:n}=e;A({id:t,uuid:n,code:a}),p.push("/tickets/".concat(e.uuid))},S=e=>e.replace(Oa()(),"").trim().split(" ")[0];return l.a.createElement(l.a.Fragment,{key:m.id},l.a.createElement(G.a,{dense:!0,button:!0,onClick:e=>{"pending"!==m.status&&T(m)},selected:b&&+b===m.id,className:Object(h.a)(u.ticket,{[u.pendingTicket]:"pending"===m.status})},l.a.createElement(Ha.a,{arrow:!0,placement:"right",title:(null===(a=m.queue)||void 0===a?void 0:a.name)||"Sem departamento"},l.a.createElement("span",{style:{backgroundColor:(null===(t=m.queue)||void 0===t?void 0:t.color)||"#7C7C7C"},className:u.ticketQueueColor})),l.a.createElement(wa.a,null,l.a.createElement(O.a,{overlap:"circular",anchorOrigin:{vertical:"bottom",horizontal:"right"},badgeContent:l.a.createElement(Xa,{alt:null===m||void 0===m?void 0:m.channel,src:(w=null===m||void 0===m?void 0:m.channel,"facebook"===w?Qa.a:"whatsapp"===w||"whatsappapi"===w?Va:"instagram"===w?Ga:void 0)})},l.a.createElement(k.a,{alt:null===m||void 0===m||null===(o=m.contact)||void 0===o?void 0:o.name,src:null===m||void 0===m||null===(r=m.contact)||void 0===r?void 0:r.urlPicture}))),l.a.createElement(K.a,{disableTypography:!0,primary:l.a.createElement("span",{className:u.contactNameWrapper},l.a.createElement(P.a,{noWrap:!0,component:"span",variant:"body2",color:"textPrimary"},m.contact.name),m.lastMessage&&l.a.createElement(P.a,{className:u.lastMessageTime,component:"span",variant:"body2",color:"textSecondary"},Object(Ca.a)(Object(xa.a)(m.updatedAt),new Date)?l.a.createElement(l.a.Fragment,null,Object(fa.a)(Object(xa.a)(m.updatedAt),"HH:mm")):l.a.createElement(l.a.Fragment,null,Object(fa.a)(Object(xa.a)(m.updatedAt),"dd/MM/yyyy"))),m.whatsappId&&l.a.createElement("div",{className:u.userTag,title:Qe.a.t("ticketsList.connectionTitle")},null===(s=m.whatsapp)||void 0===s?void 0:s.name)),secondary:l.a.createElement("span",{className:u.contactNameWrapper},"closed"===m.status&&(null===m||void 0===m?void 0:m.userRating)?function(e){let a="";return 1===e?a="\ud83d\ude21":2===e?a="\ud83d\ude20":3===e?a="\ud83d\ude10":4===e?a="\ud83d\ude03":5===e&&(a="\ud83d\ude0d"),a}(null===m||void 0===m||null===(i=m.userRating)||void 0===i?void 0:i.rate):null,l.a.createElement(P.a,{className:u.contactLastMessage,noWrap:!0,component:"span",variant:"body2",color:"textSecondary"},m.lastMessage?l.a.createElement(za,null,m.lastMessage):l.a.createElement("br",null)),l.a.createElement(O.a,{overlap:"rectangular",className:u.newMessagesCount,badgeContent:m.unreadMessages,classes:{badge:u.badgeStyle}}))}),"pending"===m.status&&l.a.createElement(M.a,{className:u.bottomButton,color:"primary",loading:g.toString(),onClick:e=>m.isBot?(async e=>{E(!0);try{await Ze.put("/tickets/".concat(e.id),{status:"open",userId:null===y||void 0===y?void 0:y.id})}catch(a){E(!1),Ke(a)}v.current&&E(!1),p.push("/tickets/".concat(e.uuid))})(m):(async e=>{E(!0);try{await Ze.put("/tickets/".concat(e.id),{status:"open",userId:null===y||void 0===y?void 0:y.id})}catch(a){E(!1),Ke(a)}v.current&&E(!1),T(e),p.push("/tickets/".concat(e.uuid))})(m)},l.a.createElement(Na.a,null)),"pending"===m.status&&l.a.createElement(M.a,{className:u.bottomButton,color:"primary",onClick:e=>C(m)},l.a.createElement(Ia.a,null)),l.a.createElement("div",{className:u.divTags},m.isGroup&&l.a.createElement("div",{className:u.tagsWrapper},l.a.createElement("div",{key:m.isGroup,className:u.tags,title:m.isGroup,style:{backgroundColor:"#7C7C7C"}},"Grupo")),(null===(c=m.user)||void 0===c?void 0:c.id)&&"ADMIN"===y.profile.toUpperCase()&&l.a.createElement("div",{className:u.tagsWrapper},l.a.createElement("div",{key:m.user.id,className:u.tags,title:S(m.user.name),style:{backgroundColor:""!==m.user.color&&m.user.color?m.user.color:"#7C7C7C"}},S(m.user.name))),(null===(d=m.tags)||void 0===d?void 0:d.length)>0&&l.a.createElement(l.a.Fragment,null,l.a.createElement("div",{className:u.tagsWrapper},l.a.createElement("div",{key:m.tags[0].id,className:u.tags,title:m.tags[0].name,style:{backgroundColor:m.tags[0].color}},m.tags[0].name)),m.tags.length>1&&l.a.createElement("div",{key:m.tags[1].id,className:u.tags,title:m.tags[1].name,style:{backgroundColor:m.tags[1].color}},"+",m.tags.length-1))),"pending"===m.status&&("enabled"===y.showDashboard||"admin"===y.profile)&&l.a.createElement(M.a,{className:u.bottomButton,color:"primary",onClick:e=>x(m)},l.a.createElement(Fa.a,null)),"open"===m.status&&l.a.createElement(M.a,{className:u.bottomButton,color:"primary",onClick:e=>C(m)},l.a.createElement(Pa.a,null)),"open"===m.status&&l.a.createElement(M.a,{className:u.bottomButton,color:"primary",onClick:e=>x(m)},l.a.createElement(Fa.a,null)),"closed"===m.status&&l.a.createElement(M.a,{className:u.bottomButton,color:"primary",onClick:e=>(async e=>{E(!0);try{await Ze.put("/tickets/".concat(e.id),{status:"open",userId:null===y||void 0===y?void 0:y.id})}catch(a){E(!1),Ke(a)}v.current&&E(!1),T(e),p.push("/tickets/".concat(e.uuid))})(m)},l.a.createElement(Pa.a,null)),"closed"===m.status&&l.a.createElement(M.a,{className:u.bottomButton,color:"primary"})),l.a.createElement(j.a,{variant:"inset",component:"li"}));var w},Za=t(1814);var $a=e=>{let{searchParam:a,tags:t,users:l,pageNumber:o,status:r,date:s,updatedAt:i,showAll:c,queueIds:d,withUnreadMessages:m,whatsappIds:u,statusFilter:p,forceSearch:g,userFilter:E}=e;const[b,f]=Object(n.useState)(!0),[h,v]=Object(n.useState)(!1),[y,A]=Object(n.useState)([]),[C,x]=Object(n.useState)(0);return Object(n.useEffect)(()=>{f(!0);const e=setTimeout(()=>{(async()=>{if(void 0===E||null===E)try{const{data:e}=await Ze.get("/tickets",{params:{searchParam:a,pageNumber:o,tags:t,users:l,status:r,date:s,updatedAt:i,showAll:c,queueIds:d,withUnreadMessages:m,whatsapps:u,statusFilter:p}});let n=[];n=e.tickets,A(n),v(e.hasMore),x(e.count),f(!1)}catch(e){f(!1),Ke(e)}else try{const{data:e}=await Ze.get("/dashboard/moments",{params:{status:r,showAll:c,queueIds:d,dateStart:Object(fa.a)(Object(Za.a)(new Date,{days:30}),"yyyy-MM-dd"),dateEnd:Object(fa.a)(new Date,"yyyy-MM-dd"),userId:E}});let a=[];a=e.filter(e=>e.userId==E),A(a),v(null),f(!1)}catch(e){f(!1),Ke(e)}})()},500);return()=>clearTimeout(e)},[a,t,l,o,r,s,i,c,d,m,u,p,g]),{tickets:y,loading:b,hasMore:h,count:C}},et=t(986),at=t.n(et);const tt=Object(x.a)(e=>({tabContainer:{overflowY:"auto",maxHeight:350,...e.scrollbarStyles},popoverPaper:{width:"100%",maxWidth:350,marginLeft:e.spacing(2),marginRight:e.spacing(1),[e.breakpoints.down("sm")]:{maxWidth:270}},noShadow:{boxShadow:"none !important"}}));var nt=e=>{const a=tt(),t=Object(f.useHistory)(),{user:o}=Object(n.useContext)(la),r=+t.location.pathname.split("/")[2],s=Object(n.useRef)(r),i=Object(n.useRef)(),[c,d]=Object(n.useState)(!1),[m,u]=Object(n.useState)([]),[p,g]=Object(n.useState)(!1),[,E]=Object(n.useState)([]),{tickets:b}=$a({withUnreadMessages:"true"}),[h]=Object(ha.a)(at.a,e),v=Object(n.useRef)(),y=Object(n.useRef)(t),{currentTicket:A,setCurrentTicket:C}=Object(n.useContext)(Ka);Object(n.useEffect)(()=>{(async()=>{try{"enable"===o.allTicket&&g(!0)}catch(e){Ke(e)}})()},[]),Object(n.useEffect)(()=>{v.current=h,"Notification"in window?Notification.requestPermission():console.log("This browser doesn't support notifications")},[h]),Object(n.useEffect)(()=>{(()=>{if(p)u(b);else{u(b)}})()},[b]),Object(n.useEffect)(()=>{s.current=r},[r]),Object(n.useEffect)(()=>{const e=aa({companyId:o.companyId,userId:o.id});return e.on("connect",()=>e.emit("joinNotification")),e.on("company-".concat(o.companyId,"-ticket"),e=>{"updateUnread"!==e.action&&"delete"!==e.action||(u(a=>{const t=a.findIndex(a=>a.id===e.ticketId);return-1!==t?(a.splice(t,1),[...a]):a}),E(a=>{const t=a.findIndex(a=>a.tag===String(e.ticketId));return-1!==t?(a[t].close(),a.splice(t,1),[...a]):a}))}),e.on("company-".concat(o.companyId,"-appMessage"),e=>{var a;if("create"===e.action&&!e.message.fromMe&&("pending"!==e.ticket.status&&"lgpd"!==e.ticket.status||"pending"===e.ticket.status&&p)&&(!e.message.read||"pending"===e.ticket.status)&&(e.ticket.userId===(null===o||void 0===o?void 0:o.id)||!e.ticket.userId)&&((null===o||void 0===o||null===(a=o.queues)||void 0===a?void 0:a.some(a=>a.id===e.ticket.queueId))||!e.ticket.queueId)){u(a=>{const t=a.findIndex(a=>a.id===e.ticket.id);return-1!==t?(a[t]=e.ticket,[...a]):[e.ticket,...a]});if(e.message.ticketId===s.current&&"visible"===document.visibilityState||e.ticket.userId&&e.ticket.userId!==(null===o||void 0===o?void 0:o.id)||e.ticket.isGroup)return;x(e)}}),()=>{e.disconnect()}},[o,p]);const x=e=>{const{message:a,contact:t,ticket:n}=e,l={body:"".concat(a.body," - ").concat(Object(fa.a)(new Date,"HH:mm")),icon:t.urlPicture,tag:n.id,renotify:!0},o=new Notification("".concat(Qe.a.t("tickets.notification.message")," ").concat(t.name),l);o.onclick=e=>{e.preventDefault(),window.focus(),(e=>{const a=Object(ka.a)(),{id:t,uuid:n}=e;C({id:t,uuid:n,code:a})})(n),y.current.push("/tickets/".concat(n.uuid))},E(e=>{const a=e.findIndex(e=>e.tag===o.tag);return-1!==a?(e[a]=o,[...e]):[o,...e]}),v.current()},T=()=>{d(!1)},k=e=>{let{children:a}=e;return l.a.createElement("div",{onClick:T},a)};return l.a.createElement(l.a.Fragment,null,l.a.createElement(M.a,{onClick:()=>{d(e=>!e)},ref:i,"aria-label":"Open Notifications",color:"inherit",style:{color:"white"}},l.a.createElement(O.a,{overlap:"rectangular",badgeContent:m.length,color:"secondary"},l.a.createElement(Aa.a,null))),l.a.createElement(va.a,{disableScrollLock:!0,open:c,anchorEl:i.current,anchorOrigin:{vertical:"bottom",horizontal:"right"},transformOrigin:{vertical:"top",horizontal:"right"},classes:{paper:a.popoverPaper},onClose:T},l.a.createElement(I.a,{dense:!0,className:a.tabContainer},0===m.length?l.a.createElement(G.a,null,l.a.createElement(K.a,null,Qe.a.t("notifications.noTickets"))):m.map(e=>l.a.createElement(k,{key:e.id},l.a.createElement(Ja,{ticket:e}))))))},lt=t(704),ot=t.n(lt),rt=t(987),st=t.n(rt),it=t(1183),ct=t(716);const dt=Object(x.a)(e=>({tabContainer:{padding:e.spacing(2)},popoverPaper:{width:"100%",maxWidth:350,marginLeft:e.spacing(2),marginRight:e.spacing(1),[e.breakpoints.down("sm")]:{maxWidth:270}},noShadow:{boxShadow:"none !important"},icons:{color:"#fff"},customBadge:{backgroundColor:"#f44336",color:"#fff"}}));var mt=e=>{let{volume:a,setVolume:t}=e;const o=dt(),r=Object(n.useRef)(),[s,i]=Object(n.useState)(!1);return l.a.createElement(l.a.Fragment,null,l.a.createElement(M.a,{className:o.icons,onClick:()=>{i(e=>!e)},ref:r,"aria-label":"Open Notifications"},l.a.createElement(ot.a,{color:"inherit"})),l.a.createElement(va.a,{disableScrollLock:!0,open:s,anchorEl:r.current,anchorOrigin:{vertical:"bottom",horizontal:"right"},transformOrigin:{vertical:"top",horizontal:"right"},classes:{paper:o.popoverPaper},onClose:()=>{i(!1)}},l.a.createElement(I.a,{dense:!0,className:o.tabContainer},l.a.createElement(it.a,{container:!0,spacing:2},l.a.createElement(it.a,{item:!0},l.a.createElement(st.a,null)),l.a.createElement(it.a,{item:!0,xs:!0},l.a.createElement(ct.a,{value:Number(a),"aria-labelledby":"continuous-slider",step:.1,min:0,max:1,onChange:(e,a)=>(e=>{t(e),localStorage.setItem("volume",e)})(a)})),l.a.createElement(it.a,{item:!0},l.a.createElement(ot.a,null))))))},ut=t(24),pt=t(6),gt=t(706),Et=t(961),bt=t(1327),ft=t(1330),ht=t(1329),vt=t(1328),yt=t(1331),At=t(1088),Ct=t(697),xt=t(578),Tt=t(1602);const Ot=Object(x.a)(e=>({chips:{display:"flex",flexWrap:"wrap"},chip:{margin:2}}));var kt=e=>{let{selectedQueueIds:a,onChange:t}=e;const o=Ot(),[r,s]=Object(n.useState)([]);Object(n.useEffect)(()=>{(async()=>{try{const{data:e}=await Ze.get("/queue");s(e)}catch(e){Ke(e)}})()},[]);return l.a.createElement("div",{style:{marginTop:6}},l.a.createElement(xt.a,{fullWidth:!0,margin:"dense",variant:"outlined"},l.a.createElement(Ct.a,null,Qe.a.t("queueSelect.inputLabel")),l.a.createElement(At.a,{multiple:!0,labelWidth:60,value:a,onChange:e=>{t(e.target.value)},MenuProps:{anchorOrigin:{vertical:"bottom",horizontal:"left"},transformOrigin:{vertical:"top",horizontal:"left"},getContentAnchorEl:null},renderValue:e=>l.a.createElement("div",{className:o.chips},(null===e||void 0===e?void 0:e.length)>0&&e.map(e=>{const a=r.find(a=>a.id===e);return a?l.a.createElement(Tt.a,{key:e,style:{backgroundColor:a.color},variant:"outlined",label:a.name,className:o.chip}):null}))},r.map(e=>l.a.createElement(F.a,{key:e.id,value:e.id},e.name)))))},St=t(288),wt=t(1595),Mt=t(1189),It=t(579);function jt(e){let a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return void 0!==window.ENV?window.ENV[e]||a:Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,REACT_APP_BACKEND_URL:"https://backend.bonigroup.com.br",REACT_APP_HOURS_CLOSE_TICKETS_AUTO:"24"})[e]||a}function Nt(){return jt("REACT_APP_BACKEND_URL")}var Rt=e=>{let{children:a,value:t,name:n,...o}=e;return t===n?l.a.createElement("div",Object.assign({role:"tabpanel",id:"simple-tabpanel-".concat(n),"aria-labelledby":"simple-tab-".concat(n)},o),l.a.createElement(l.a.Fragment,null,a)):null};const Pt=Nt(),Dt=t(639),Ft=Object(x.a)(e=>({root:{display:"flex",flexWrap:"wrap"},multFieldLine:{display:"flex","& > *:not(:last-child)":{marginRight:e.spacing(1)}},btnWrapper:{position:"relative"},buttonProgress:{color:Sa.a[500],position:"absolute",top:"50%",left:"50%",marginTop:-12,marginLeft:-12},formControl:{margin:e.spacing(1),minWidth:120},textField:{marginRight:e.spacing(1),flex:1},container:{display:"flex",flexWrap:"wrap"},avatar:{width:e.spacing(12),height:e.spacing(12),margin:e.spacing(2),cursor:"pointer",borderRadius:"50%",border:"2px solid #ccc"},updateDiv:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center"},updateInput:{display:"none"},updateLabel:{padding:e.spacing(1),margin:e.spacing(1),textTransform:"uppercase",textAlign:"center",cursor:"pointer",border:"2px solid #ccc",borderRadius:"5px",minWidth:160,fontWeight:"bold",color:"#555"},errorUpdate:{border:"2px solid red"},errorText:{color:"red",fontSize:"0.8rem",fontWeight:"bold"}})),Lt=ut.c().shape({name:ut.d().min(2,"Too Short!").max(50,"Too Long!").required("Required"),password:ut.d().min(5,"Too Short!").max(50,"Too Long!"),email:ut.d().email("Invalid email").required("Required"),allHistoric:ut.d().nullable()});var qt=e=>{let{open:a,onClose:t,userId:o}=e;const r=Ft(),i={name:"",email:"",password:"",profile:"user",startWork:"00:00",endWork:"23:59",farewellMessage:"",allTicket:"disable",allowGroup:!1,defaultTheme:"light",defaultMenu:"open",allHistoric:"disabled",allUserChat:"disabled",userClosePendingTicket:"enabled",showDashboard:"disabled"},{user:c}=Object(n.useContext)(la),[d,m]=Object(n.useState)(i),[u,p]=Object(n.useState)([]),[g,E]=Object(n.useState)(!1),{loading:b,whatsApps:f}=sa(),[h,v]=Object(n.useState)(null),[y,A]=Object(n.useState)("general"),C=Object(n.useRef)(),x=Object(n.useRef)();Object(n.useEffect)(()=>{(async()=>{if(o)try{var e;const{data:a}=await Ze.get("/users/".concat(o));m(e=>({...e,...a}));const{profileImage:t}=a;v("".concat(Pt,"/public/company").concat(a.companyId,"/user/").concat(t));const n=null===(e=a.queues)||void 0===e?void 0:e.map(e=>e.id);p(n),E(a.whatsappId?a.whatsappId:"")}catch(a){Ke(a)}})()},[o,a]);const T=()=>{t(),m(i)},O=(e,a)=>{A(a)};return l.a.createElement("div",{className:r.root},l.a.createElement(bt.a,{open:a,onClose:T,maxWidth:"sm",fullWidth:!0,scroll:"paper"},l.a.createElement(vt.a,{id:"form-dialog-title"},"".concat(o?Qe.a.t("userModal.title.edit"):Qe.a.t("userModal.title.add"))),l.a.createElement(pt.f,{initialValues:d,enableReinitialize:!0,validationSchema:Lt,onSubmit:(e,a)=>{setTimeout(()=>{(async e=>{const a=async e=>{const a=new FormData;a.append("userId",e.id),a.append("typeArch","user"),a.append("profileImage",e.profileImage);const{data:t}=await Ze.post("/users/".concat(e.id,"/media-upload"),a);localStorage.setItem("profileImage",t.user.profileImage)},t={...e,whatsappId:g,queueIds:u};try{if(o){const{data:n}=await Ze.put("/users/".concat(o),t);console.log(d,h,n),window.localStorage.setItem("preferredTheme",e.defaultTheme),d.profileImage&&d.profileImage!==Dt.basename(h)&&a(d)}else{const{data:n}=await Ze.post("/users",t);window.localStorage.setItem("preferredTheme",e.defaultTheme),d.profileImage&&d.avatar&&a(d)}s.b.success(Qe.a.t("userModal.success"))}catch(n){Ke(n)}T()})(e),a.setSubmitting(!1)},400)}},e=>{let{touched:a,errors:t,isSubmitting:n}=e;return l.a.createElement(pt.e,null,l.a.createElement(St.a,{className:r.mainPaper,elevation:1},l.a.createElement(wt.a,{value:y,indicatorColor:"primary",textColor:"primary",scrollButtons:"on",variant:"scrollable",onChange:O,className:r.tab},l.a.createElement(Mt.a,{label:Qe.a.t("userModal.tabs.general"),value:"general"}),l.a.createElement(Mt.a,{label:Qe.a.t("userModal.tabs.permissions"),value:"permissions"}))),l.a.createElement(St.a,{className:r.paper,elevation:0},l.a.createElement(ht.a,{dividers:!0},l.a.createElement(Rt,{className:r.container,value:y,name:"general"},l.a.createElement(it.a,{container:!0,spacing:1,alignContent:"center",alignItems:"center",justifyContent:"center"},l.a.createElement(xt.a,{className:r.updateDiv},l.a.createElement("label",{htmlFor:"profileImage"},l.a.createElement(k.a,{src:h||Q.a,alt:"profile-image",className:"".concat(r.avatar," ").concat(a.profileImage&&t.profileImage?r.errorUpdate:"")})),l.a.createElement(xt.a,{className:r.updateDiv},l.a.createElement("label",{htmlFor:"profileImage",className:"".concat(r.updateLabel," ").concat(a.profileImage&&t.profileImage?r.errorUpdate:"")},h?Qe.a.t("userModal.title.updateImage"):Qe.a.t("userModal.buttons.addImage")),a.profileImage&&t.profileImage&&l.a.createElement("span",{className:r.errorText},t.profileImage),l.a.createElement(It.a,{type:"file",name:"profileImage",id:"profileImage",className:r.updateInput,onChange:e=>(e=>{if(!e.target.files[0])return;const a=URL.createObjectURL(e.target.files[0]);m(t=>({...t,avatar:a,profileImage:e.target.files[0]})),v(a)})(e)})),d.avatar&&l.a.createElement(gt.a,{variant:"outlined",color:"secondary",onClick:()=>{m(e=>({...e,avatar:null,profileImage:null})),v(Q.a)}},Qe.a.t("userModal.title.removeImage")))),l.a.createElement(it.a,{container:!0,spacing:1},l.a.createElement(it.a,{item:!0,xs:12,md:6,xl:6},l.a.createElement(pt.c,{as:Et.a,label:Qe.a.t("userModal.form.name"),autoFocus:!0,name:"name",error:a.name&&Boolean(t.name),helperText:a.name&&t.name,variant:"outlined",margin:"dense",fullWidth:!0})),l.a.createElement(it.a,{item:!0,xs:12,md:6,xl:6},l.a.createElement(pt.c,{as:Et.a,label:Qe.a.t("userModal.form.password"),type:"password",name:"password",error:a.password&&Boolean(t.password),helperText:a.password&&t.password,variant:"outlined",margin:"dense",fullWidth:!0}))),l.a.createElement(it.a,{container:!0,spacing:1},l.a.createElement(it.a,{item:!0,xs:12,md:8,xl:8},l.a.createElement(pt.c,{as:Et.a,label:Qe.a.t("userModal.form.email"),name:"email",error:a.email&&Boolean(t.email),helperText:a.email&&t.email,variant:"outlined",margin:"dense",fullWidth:!0})),l.a.createElement(it.a,{item:!0,xs:12,md:4,xl:4},l.a.createElement(xt.a,{variant:"outlined",margin:"dense",fullWidth:!0},l.a.createElement(ma,{role:c.profile,perform:"user-modal:editProfile",yes:()=>l.a.createElement(l.a.Fragment,null,l.a.createElement(Ct.a,{id:"profile-selection-input-label"},Qe.a.t("userModal.form.profile")),l.a.createElement(pt.c,{as:At.a,label:Qe.a.t("userModal.form.profile"),name:"profile",labelId:"profile-selection-label",id:"profile-selection",required:!0},l.a.createElement(F.a,{value:"admin"},"Admin"),l.a.createElement(F.a,{value:"user"},"User")))})))),l.a.createElement(it.a,{container:!0,spacing:1},l.a.createElement(it.a,{item:!0,xs:12,md:12,xl:12},l.a.createElement(ma,{role:c.profile,perform:"user-modal:editQueues",yes:()=>l.a.createElement(kt,{selectedQueueIds:u,onChange:e=>p(e),fullWidth:!0})}))),l.a.createElement(it.a,{container:!0,spacing:1},l.a.createElement(it.a,{item:!0,xs:12,md:12,xl:12},l.a.createElement(ma,{role:c.profile,perform:"user-modal:editProfile",yes:()=>l.a.createElement(xt.a,{variant:"outlined",margin:"dense",className:r.maxWidth,fullWidth:!0},l.a.createElement(Ct.a,null,Qe.a.t("userModal.form.whatsapp")),l.a.createElement(pt.c,{as:At.a,value:g,onChange:e=>E(e.target.value),label:Qe.a.t("userModal.form.whatsapp")},l.a.createElement(F.a,{value:""},"\xa0"),f.map(e=>l.a.createElement(F.a,{key:e.id,value:e.id},e.name))))}))),l.a.createElement(ma,{role:c.profile,perform:"user-modal:editProfile",yes:()=>l.a.createElement(it.a,{container:!0,spacing:1},l.a.createElement(it.a,{item:!0,xs:12,md:6,xl:6},l.a.createElement(pt.c,{as:Et.a,label:Qe.a.t("userModal.form.startWork"),type:"time",ampm:"false",inputRef:C,InputLabelProps:{shrink:!0},inputProps:{step:600},fullWidth:!0,name:"startWork",error:a.startWork&&Boolean(t.startWork),helperText:a.startWork&&t.startWork,variant:"outlined",margin:"dense",className:r.textField})),l.a.createElement(it.a,{item:!0,xs:12,md:6,xl:6},l.a.createElement(pt.c,{as:Et.a,label:Qe.a.t("userModal.form.endWork"),type:"time",ampm:"false",inputRef:x,InputLabelProps:{shrink:!0},inputProps:{step:600},fullWidth:!0,name:"endWork",error:a.endWork&&Boolean(t.endWork),helperText:a.endWork&&t.endWork,variant:"outlined",margin:"dense",className:r.textField})))}),l.a.createElement(pt.c,{as:Et.a,label:Qe.a.t("userModal.form.farewellMessage"),type:"farewellMessage",multiline:!0,rows:4,fullWidth:!0,name:"farewellMessage",error:a.farewellMessage&&Boolean(t.farewellMessage),helperText:a.farewellMessage&&t.farewellMessage,variant:"outlined",margin:"dense"}),l.a.createElement(it.a,{container:!0,spacing:1},l.a.createElement(it.a,{item:!0,xs:12,md:6,xl:6},l.a.createElement(xt.a,{variant:"outlined",className:r.maxWidth,margin:"dense",fullWidth:!0},l.a.createElement(l.a.Fragment,null,l.a.createElement(Ct.a,null,Qe.a.t("userModal.form.defaultTheme")),l.a.createElement(pt.c,{as:At.a,label:Qe.a.t("userModal.form.defaultTheme"),name:"defaultTheme",type:"defaultTheme",required:!0},l.a.createElement(F.a,{value:"light"},Qe.a.t("userModal.form.defaultThemeLight")),l.a.createElement(F.a,{value:"dark"},Qe.a.t("userModal.form.defaultThemeDark")))))),l.a.createElement(it.a,{item:!0,xs:12,md:6,xl:6},l.a.createElement(xt.a,{variant:"outlined",className:r.maxWidth,margin:"dense",fullWidth:!0},l.a.createElement(l.a.Fragment,null,l.a.createElement(Ct.a,null,Qe.a.t("userModal.form.defaultMenu")),l.a.createElement(pt.c,{as:At.a,label:Qe.a.t("userModal.form.defaultMenu"),name:"defaultMenu",type:"defaultMenu",required:!0},l.a.createElement(F.a,{value:"open"},Qe.a.t("userModal.form.defaultMenuOpen")),l.a.createElement(F.a,{value:"closed"},Qe.a.t("userModal.form.defaultMenuClosed")))))))),l.a.createElement(Rt,{className:r.container,value:y,name:"permissions"},l.a.createElement(ma,{role:c.profile,perform:"user-modal:editProfile",yes:()=>l.a.createElement(l.a.Fragment,null,l.a.createElement(it.a,{container:!0,spacing:1},l.a.createElement(it.a,{item:!0,xs:12,md:6,xl:6},l.a.createElement(xt.a,{variant:"outlined",className:r.maxWidth,margin:"dense",fullWidth:!0},l.a.createElement(l.a.Fragment,null,l.a.createElement(Ct.a,null,Qe.a.t("userModal.form.allTicket")),l.a.createElement(pt.c,{as:At.a,label:Qe.a.t("userModal.form.allTicket"),name:"allTicket",type:"allTicket",required:!0},l.a.createElement(F.a,{value:"enable"},Qe.a.t("userModal.form.allTicketEnable")),l.a.createElement(F.a,{value:"disable"},Qe.a.t("userModal.form.allTicketDisable")))))),l.a.createElement(it.a,{item:!0,xs:12,md:6,xl:6},l.a.createElement(xt.a,{variant:"outlined",className:r.maxWidth,margin:"dense",fullWidth:!0},l.a.createElement(l.a.Fragment,null,l.a.createElement(Ct.a,null,Qe.a.t("userModal.form.allowGroup")),l.a.createElement(pt.c,{as:At.a,label:Qe.a.t("userModal.form.allowGroup"),name:"allowGroup",type:"allowGroup",required:!0},l.a.createElement(F.a,{value:!0},Qe.a.t("userModal.form.allTicketEnable")),l.a.createElement(F.a,{value:!1},Qe.a.t("userModal.form.allTicketDisable"))))))),l.a.createElement(it.a,{container:!0,spacing:1},l.a.createElement(it.a,{item:!0,xs:12,md:6,xl:6},l.a.createElement(xt.a,{variant:"outlined",className:r.maxWidth,margin:"dense",fullWidth:!0},l.a.createElement(l.a.Fragment,null,l.a.createElement(Ct.a,null,Qe.a.t("userModal.form.allHistoric")),l.a.createElement(pt.c,{as:At.a,label:Qe.a.t("userModal.form.allHistoric"),name:"allHistoric",type:"allHistoric",required:!0},l.a.createElement(F.a,{value:"disabled"},Qe.a.t("userModal.form.allHistoricDisabled")),l.a.createElement(F.a,{value:"enabled"},Qe.a.t("userModal.form.allHistoricEnabled")))))),l.a.createElement(it.a,{item:!0,xs:12,md:6,xl:6},l.a.createElement(xt.a,{variant:"outlined",className:r.maxWidth,margin:"dense",fullWidth:!0},l.a.createElement(l.a.Fragment,null,l.a.createElement(Ct.a,null,Qe.a.t("userModal.form.allUserChat")),l.a.createElement(pt.c,{as:At.a,label:Qe.a.t("userModal.form.allUserChat"),name:"allUserChat",type:"allUserChat",required:!0},l.a.createElement(F.a,{value:"disabled"},Qe.a.t("userModal.form.allHistoricDisabled")),l.a.createElement(F.a,{value:"enabled"},Qe.a.t("userModal.form.allHistoricEnabled"))))))),l.a.createElement(it.a,{container:!0,spacing:1},l.a.createElement(it.a,{item:!0,xs:12,md:6,xl:6},l.a.createElement(xt.a,{variant:"outlined",className:r.maxWidth,margin:"dense",fullWidth:!0},l.a.createElement(l.a.Fragment,null,l.a.createElement(Ct.a,null,Qe.a.t("userModal.form.showDashboard")),l.a.createElement(pt.c,{as:At.a,label:Qe.a.t("userModal.form.showDashboard"),name:"showDashboard",type:"showDashboard",required:!0},l.a.createElement(F.a,{value:"disabled"},Qe.a.t("userModal.form.allHistoricDisabled")),l.a.createElement(F.a,{value:"enabled"},Qe.a.t("userModal.form.allHistoricEnabled")))))),l.a.createElement(it.a,{item:!0,xs:12,md:6,xl:6},l.a.createElement(xt.a,{variant:"outlined",className:r.maxWidth,margin:"dense",fullWidth:!0},l.a.createElement(l.a.Fragment,null,l.a.createElement(Ct.a,null,Qe.a.t("userModal.form.userClosePendingTicket")),l.a.createElement(pt.c,{as:At.a,label:Qe.a.t("userModal.form.userClosePendingTicket"),name:"userClosePendingTicket",type:"userClosePendingTicket",required:!0},l.a.createElement(F.a,{value:"disabled"},Qe.a.t("userModal.form.allHistoricDisabled")),l.a.createElement(F.a,{value:"enabled"},Qe.a.t("userModal.form.allHistoricEnabled"))))))))})))),l.a.createElement(ft.a,null,l.a.createElement(gt.a,{onClick:T,color:"secondary",disabled:n,variant:"outlined"},Qe.a.t("userModal.buttons.cancel")),l.a.createElement(gt.a,{type:"submit",color:"primary",disabled:n,variant:"contained",className:r.btnWrapper},"".concat(o?Qe.a.t("userModal.buttons.okEdit"):Qe.a.t("userModal.buttons.okAdd")),n&&l.a.createElement(yt.a,{size:24,className:r.buttonProgress}))))})))},Wt=t(695);const Bt=Object(x.a)(e=>({backdrop:{zIndex:e.zIndex.drawer+1,color:"#fff"}}));var zt=()=>{const e=Bt();return l.a.createElement(Wt.a,{className:e.backdrop,open:!0},l.a.createElement(yt.a,{color:"inherit"}))},Ht=t(1332),Ut=t(529),Qt=t.n(Ut),Gt=t(530),Vt=t.n(Gt);Object(x.a)(e=>({icons:{color:"#fff"},switch:{color:"#fff"},visible:{display:"none"},btnHeader:{color:"#fff"}}));var Kt=t(1333);const _t=Object(x.a)(e=>({mainPaper:{flex:1,maxHeight:300,maxWidth:500,padding:e.spacing(1),overflowY:"scroll",...e.scrollbarStyles}}));function Yt(e){let{announcement:a,open:t,handleClose:n}=e;return l.a.createElement(bt.a,{open:t,onClose:()=>n(),"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description"},l.a.createElement(vt.a,{id:"alert-dialog-title"},a.title),l.a.createElement(ht.a,null,a.mediaPath&&l.a.createElement("div",{style:{border:"1px solid #f1f1f1",margin:"0 auto 20px",textAlign:"center",width:"95%",height:300,backgroundRepeat:"no-repeat",backgroundSize:"cover",backgroundPosition:"center"}},l.a.createElement("img",{alt:"announcement image",src:a.mediaPath,style:{width:"95%",height:"100%"}})),l.a.createElement(Kt.a,{id:"alert-dialog-description",style:{whiteSpace:"pre-line"}},a.text)),l.a.createElement(ft.a,null,l.a.createElement(gt.a,{onClick:()=>n(),color:"primary",autoFocus:!0},"Fechar")))}const Xt=(e,a)=>{if("LOAD_ANNOUNCEMENTS"===a.type){const t=a.payload,n=[];return Object(A.isArray)(t)&&t.forEach(a=>{const t=e.findIndex(e=>e.id===a.id);-1!==t?e[t]=a:n.push(a)}),[...e,...n]}if("UPDATE_ANNOUNCEMENTS"===a.type){const t=a.payload,n=e.findIndex(e=>e.id===t.id);return-1!==n?(e[n]=t,[...e]):[t,...e]}if("DELETE_ANNOUNCEMENT"===a.type){const t=a.payload,n=e.findIndex(e=>e.id===t);return-1!==n&&e.splice(n,1),[...e]}if("RESET"===a.type)return[]};function Jt(){const e=_t(),[a,t]=Object(n.useState)(!1),[o,r]=Object(n.useState)(null),[s,i]=Object(n.useState)(1),[c,d]=Object(n.useState)(!1),[m]=Object(n.useState)(""),[u,p]=Object(n.useReducer)(Xt,[]),[g,E]=Object(n.useState)(!1),[b,f]=Object(n.useState)({}),[h,v]=Object(n.useState)(!1),{user:C}=Object(n.useContext)(la);Object(n.useEffect)(()=>{p({type:"RESET"}),i(1)},[m]),Object(n.useEffect)(()=>{t(!0);const e=setTimeout(()=>{x()},500);return()=>clearTimeout(e)},[m,s]),Object(n.useEffect)(()=>{const e=aa({companyId:C.companyId,userId:C.id});return e.on("company-announcement",e=>{"update"!==e.action&&"create"!==e.action||(p({type:"UPDATE_ANNOUNCEMENTS",payload:e.record}),E(!1)),"delete"===e.action&&p({type:"DELETE_ANNOUNCEMENT",payload:+e.id})}),()=>{e.disconnect()}},[]);const x=async()=>{try{const{data:e}=await Ze.get("/announcements/",{params:{searchParam:m,pageNumber:s}});p({type:"LOAD_ANNOUNCEMENTS",payload:e.records}),d(e.hasMore),t(!1)}catch(e){Ke(e)}},T=Boolean(o),S=T?"simple-popover":void 0;return l.a.createElement("div",null,l.a.createElement(Yt,{announcement:b,open:h,handleClose:()=>v(!1)}),l.a.createElement(M.a,{variant:"contained","aria-describedby":S,onClick:e=>{r(e.currentTarget),E(!0)}},l.a.createElement(O.a,{color:"secondary",variant:"dot",invisible:g||u.length<1},l.a.createElement(Re.a,null))),l.a.createElement(va.a,{id:S,open:T,anchorEl:o,onClose:()=>{r(null)},anchorOrigin:{vertical:"bottom",horizontal:"center"},transformOrigin:{vertical:"top",horizontal:"center"}},l.a.createElement(St.a,{variant:"outlined",onScroll:e=>{if(!c||a)return;const{scrollTop:t,scrollHeight:n,clientHeight:l}=e.currentTarget;n-(t+100)<l&&i(e=>e+1)},className:e.mainPaper},l.a.createElement(I.a,{component:"nav","aria-label":"main mailbox folders",style:{minWidth:300}},Object(A.isArray)(u)&&u.map((e,a)=>{return l.a.createElement(G.a,{key:a,style:{background:a%2===0?"primary":"secondary",border:"1px solid #eee",borderLeft:(t=e.priority,1===t?"4px solid #b81111":2===t?"4px solid orange":3===t?"4px solid grey":void 0),cursor:"pointer"},onClick:()=>(f(e),v(!0),void r(null))},e.mediaPath&&l.a.createElement(wa.a,null,l.a.createElement(k.a,{src:e.mediaPath})),l.a.createElement(K.a,{primary:e.title,secondary:l.a.createElement(l.a.Fragment,null,l.a.createElement(P.a,{component:"span",style:{fontSize:12}},y()(e.createdAt).format("DD/MM/YYYY")),l.a.createElement("span",{style:{marginTop:5,display:"block"}}),l.a.createElement(P.a,{component:"span",variant:"body2"},e.text))}));var t}),Object(A.isArray)(u)&&0===u.length&&l.a.createElement(K.a,{primary:Qe.a.t("mainDrawer.appBar.notRegister")})))))}var Zt=t(413),$t=t.n(Zt),en=t(992),an=t.n(en);const tn=Object(x.a)(e=>({mainPaper:{flex:1,maxHeight:300,maxWidth:500,padding:e.spacing(1),overflowY:"scroll",...e.scrollbarStyles}})),nn=(e,a)=>{if("LOAD_CHATS"===a.type){const t=a.payload,n=[];return Object(A.isArray)(t)&&t.forEach(a=>{const t=e.findIndex(e=>e.id===a.id);-1!==t?e[t]=a:n.push(a)}),[...e,...n]}if("UPDATE_CHATS"===a.type){const t=a.payload,n=e.findIndex(e=>e.id===t.id);return-1!==n?(e[n]=t,[...e]):[t,...e]}if("DELETE_CHAT"===a.type){const t=a.payload,n=e.findIndex(e=>e.id===t);return-1!==n&&e.splice(n,1),[...e]}if("RESET"===a.type)return[];if("CHANGE_CHAT"===a.type){return e.map(e=>e.id===a.payload.chat.id?a.payload.chat:e)}};function ln(){const e=tn(),{user:a}=Object(n.useContext)(la),[t,o]=Object(n.useState)(!1),[r,s]=Object(n.useState)(null),[i,c]=Object(n.useState)(1),[d,m]=Object(n.useState)(!1),[u]=Object(n.useState)(""),[p,g]=Object(n.useReducer)(nn,[]),[E,b]=Object(n.useState)(!0),{datetimeToClient:f}=ta(),[h]=Object(ha.a)(an.a),v=Object(n.useRef)();Object(n.useEffect)(()=>{v.current=h,"Notification"in window?Notification.requestPermission():console.log("This browser doesn't support notifications")},[h]),Object(n.useEffect)(()=>{g({type:"RESET"}),c(1)},[u]),Object(n.useEffect)(()=>{o(!0);const e=setTimeout(()=>{y()},500);return()=>clearTimeout(e)},[u,i]),Object(n.useEffect)(()=>{const e=a.companyId,t=aa({companyId:e,userId:a.id});return t.on("company-".concat(e,"-chat"),e=>{if("new-message"===e.action){g({type:"CHANGE_CHAT",payload:e});e.newMessage.chat.users.map(e=>e.userId).includes(a.id)&&e.newMessage.senderId!==a.id&&v.current()}"update"===e.action&&g({type:"CHANGE_CHAT",payload:e})}),()=>{t.disconnect()}},[]),Object(n.useEffect)(()=>{let e=0;if(p.length>0)for(let t of p)for(let n of t.users)n.userId===a.id&&(e+=n.unreads);b(!(e>0))},[p,a.id]);const y=async()=>{try{const{data:e}=await Ze.get("/chats/",{params:{searchParam:u,pageNumber:i}});g({type:"LOAD_CHATS",payload:e.records}),m(e.hasMore),o(!1)}catch(e){Ke(e)}},C=Boolean(r),x=C?"simple-popover":void 0;return l.a.createElement("div",null,l.a.createElement(M.a,{"aria-describedby":x,variant:"contained",color:E?"default":"inherit",onClick:e=>{s(e.currentTarget),b(!0)},style:{color:"white"}},l.a.createElement(O.a,{color:"secondary",variant:"dot",invisible:E},l.a.createElement(De.a,null))),l.a.createElement(va.a,{id:x,open:C,anchorEl:r,onClose:()=>{s(null)},anchorOrigin:{vertical:"bottom",horizontal:"center"},transformOrigin:{vertical:"top",horizontal:"center"}},l.a.createElement(St.a,{variant:"outlined",onScroll:e=>{if(!d||t)return;const{scrollTop:a,scrollHeight:n,clientHeight:l}=e.currentTarget;n-(a+100)<l&&c(e=>e+1)},className:e.mainPaper},l.a.createElement(I.a,{component:"nav","aria-label":"main mailbox folders",style:{minWidth:300}},Object(A.isArray)(p)&&p.map((e,a)=>l.a.createElement(G.a,{key:a,style:{background:a%2===0?"#ededed":"white",border:"1px solid #eee",cursor:"pointer"},onClick:()=>{return a=e,void(window.location.href="/chats/".concat(a.uuid));var a},button:!0},l.a.createElement(K.a,{primary:e.lastMessage,secondary:l.a.createElement(l.a.Fragment,null,l.a.createElement(P.a,{component:"span",style:{fontSize:12}},f(e.updatedAt)),l.a.createElement("span",{style:{marginTop:5,display:"block"}}))}))),Object(A.isArray)(p)&&0===p.length&&l.a.createElement(K.a,{primary:Qe.a.t("mainDrawer.appBar.notRegister")})))))}t(993);var on=()=>({getAll:async e=>{const{data:a}=await Ze.request({url:"/settings",method:"GET",params:e});return a},update:async e=>{const{data:a}=await Ze.request({url:"/settings/".concat(e.key),method:"PUT",data:e});return a},get:async e=>{const{data:a}=await Ze.request({url:"/setting/".concat(e),method:"GET"});return a}});const rn=Nt(),sn=Object(x.a)(e=>({root:{display:"flex",height:"100vh",[e.breakpoints.down("sm")]:{height:"calc(100vh - 56px)"},backgroundColor:e.palette.fancyBackground,"& .MuiButton-outlinedPrimary":{color:"light"===e.mode?"#065183":"#FFF",border:"light"===e.mode?"1px solid rgba(0 124 102)":"1px solid rgba(255, 255, 255, 0.5)"},"& .MuiTab-textColorPrimary.Mui-selected":{color:"light"===e.mode?"#065183":"#FFF"}},chip:{background:"red",color:"white"},avatar:{width:"100%"},toolbar:{paddingRight:24,color:e.palette.dark.main,background:e.palette.barraSuperior},toolbarIcon:{display:"flex",alignItems:"center",justifyContent:"flex-end",backgroundSize:"cover",padding:"0 8px",minHeight:"48px",[e.breakpoints.down("sm")]:{height:"48px"}},appBar:{zIndex:e.zIndex.drawer+1,transition:e.transitions.create(["width","margin"],{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen})},appBarShift:{marginLeft:240,width:"calc(100% - ".concat(240,"px)"),transition:e.transitions.create(["width","margin"],{easing:e.transitions.easing.sharp,duration:e.transitions.duration.enteringScreen}),[e.breakpoints.down("sm")]:{display:"none"}},menuButton:{marginRight:36},menuButtonHidden:{display:"none"},title:{flexGrow:1,fontSize:14,color:"white"},drawerPaper:{position:"relative",whiteSpace:"nowrap",width:240,transition:e.transitions.create("width",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.enteringScreen})},drawerPaperClose:{overflowX:"hidden",transition:e.transitions.create("width",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen}),width:e.spacing(7),[e.breakpoints.up("sm")]:{width:e.spacing(9)}},appBarSpacer:{minHeight:"48px"},content:{flex:1,overflow:"auto"},container:{paddingTop:e.spacing(4),paddingBottom:e.spacing(4)},paper:{padding:e.spacing(2),display:"flex",overflow:"auto",flexDirection:"column"},containerWithScroll:{flex:1,padding:e.spacing(1),overflowY:"scroll",...e.scrollbarStyles},NotificationsPopOver:{},logo:{width:"100%",height:"48px",maxWidth:180,[e.breakpoints.down("sm")]:{width:"auto",height:"100%",maxWidth:180},logo:e.logo},avatar2:{width:e.spacing(4),height:e.spacing(4),cursor:"pointer",borderRadius:"50%",border:"2px solid #ccc"},updateDiv:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center"}})),cn=Object(T.a)(e=>({badge:{backgroundColor:"#44b700",color:"#44b700",boxShadow:"0 0 0 2px ".concat(e.palette.background.paper),"&::after":{position:"absolute",top:0,left:0,width:"100%",height:"100%",borderRadius:"50%",animation:"$ripple 1.2s infinite ease-in-out",border:"1px solid currentColor",content:'""'}},"@keyframes ripple":{"0%":{transform:"scale(.8)",opacity:1},"100%":{transform:"scale(2.4)",opacity:0}}}))(O.a);Object(T.a)(e=>({root:{width:22,height:22,border:"2px solid ".concat(e.palette.background.paper)}}))(k.a);var dn=e=>{var a,t,o,r;let{children:s,themeToggle:i}=e;const c=sn(),[d,m]=Object(n.useState)("disabled"),[u,p]=Object(n.useState)(!1),[b,f]=Object(n.useState)(!1),[v,y]=Object(n.useState)(null),[A,x]=Object(n.useState)(!1),{handleLogout:T,loading:O}=Object(n.useContext)(la),[L,W]=Object(n.useState)(!1),[z,U]=Object(n.useState)("permanent"),{user:Q}=Object(n.useContext)(la),G=Object(S.a)(),{colorMode:V}=Object(n.useContext)(E),K=Object(g.a)(G.breakpoints.up("sm")),[_,Y]=Object(n.useState)(localStorage.getItem("volume")||1),{dateToClient:X}=ta(),[J,Z]=Object(n.useState)(null),$=Object(n.useMemo)(()=>l.a.createElement(ba,{drawerOpen:L,collapsed:!L}),[Q,L]),ee=on();new C.WebSocketInterface("wss://192.168.2.4:8089/ws");Object(n.useEffect)(()=>{(async()=>{const e=await ee.get("wtV");m(e?e.value:"enabled")})()}),Object(n.useEffect)(()=>{document.body.offsetWidth>600&&("closed"===Q.defaultMenu?W(!1):W(!0)),"dark"===Q.defaultTheme&&"light"===G.mode&&te()},[Q]),Object(n.useEffect)(()=>{document.body.offsetWidth<600?U("temporary"):U("permanent")},[L]),Object(n.useEffect)(()=>{const e=Q.companyId,a=Q.id;if(e){const t=aa({companyId:e,userId:Q.id}),n=Q.profileImage;Z(void 0!==n&&null!==n?"".concat(rn,"/public/company").concat(e,"/user/").concat(n):"".concat(Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,REACT_APP_BACKEND_URL:"https://backend.bonigroup.com.br",REACT_APP_HOURS_CLOSE_TICKETS_AUTO:"24"}).FRONTEND_URL,"/nopicture.png")),t.on("company-".concat(e,"-auth"),e=>{e.user.id===+a&&(Ke("Sua conta foi acessada em outro computador."),setTimeout(()=>{localStorage.clear(),window.location.reload()},1e3))}),t.emit("userStatus");const l=setInterval(()=>{t.emit("userStatus")},3e5);return()=>{t.disconnect(),clearInterval(l)}}},[Q]);const ae=()=>{y(null),x(!1)},te=()=>{V.toggleColorMode()};return O?l.a.createElement(zt,null):l.a.createElement("div",{className:c.root},l.a.createElement(w.a,{variant:z,className:L?c.drawerPaper:c.drawerPaperClose,classes:{paper:Object(h.a)(c.drawerPaper,!L&&c.drawerPaperClose)},open:L},l.a.createElement("div",{className:c.toolbarIcon},l.a.createElement("img",{src:$t.a,style:{display:"block",margin:"0 auto",height:"50px",width:"100%"},alt:"logo"}),l.a.createElement(M.a,{onClick:()=>W(!L)},l.a.createElement(B.a,null))),l.a.createElement(I.a,{className:c.containerWithScroll},$),l.a.createElement(j.a,null)),l.a.createElement(N.a,{position:"absolute",className:Object(h.a)(c.appBar,L&&c.appBarShift),color:"primary"},l.a.createElement(R.a,{variant:"dense",className:c.toolbar},l.a.createElement(M.a,{edge:"start",variant:"contained","aria-label":"open drawer",style:{color:"white"},onClick:()=>W(!L),className:Object(h.a)(c.menuButton,L&&c.menuButtonHidden)},l.a.createElement(q.a,null)),l.a.createElement(P.a,{component:"h2",variant:"h6",color:"inherit",noWrap:!0,className:c.title},K&&"admin"===(null===Q||void 0===Q?void 0:Q.profile)&&(null===Q||void 0===Q||null===(a=Q.company)||void 0===a?void 0:a.dueDate)?l.a.createElement(l.a.Fragment,null,Qe.a.t("mainDrawer.appBar.user.message")," ",l.a.createElement("b",null,Q.name),","," ",Qe.a.t("mainDrawer.appBar.user.messageEnd")," ",l.a.createElement("b",null,null===Q||void 0===Q||null===(t=Q.company)||void 0===t?void 0:t.name),"! (",Qe.a.t("mainDrawer.appBar.user.active")," ",X(null===Q||void 0===Q||null===(o=Q.company)||void 0===o?void 0:o.dueDate),")"):l.a.createElement(l.a.Fragment,null,Qe.a.t("mainDrawer.appBar.user.message")," ",l.a.createElement("b",null,Q.name),","," ",Qe.a.t("mainDrawer.appBar.user.messageEnd")," ",l.a.createElement("b",null,null===Q||void 0===Q||null===(r=Q.company)||void 0===r?void 0:r.name),"!")),l.a.createElement(M.a,{edge:"start",onClick:te},"dark"===G.mode?l.a.createElement(Vt.a,{style:{color:"white"}}):l.a.createElement(Qt.a,{style:{color:"white"}})),l.a.createElement(mt,{setVolume:Y,volume:_}),l.a.createElement(M.a,{onClick:()=>{window.location.reload(!1)},"aria-label":Qe.a.t("mainDrawer.appBar.refresh"),color:"inherit"},l.a.createElement(H.a,{style:{color:"white"}})),Q.id&&l.a.createElement(nt,{volume:_}),l.a.createElement(Jt,null),l.a.createElement(ln,null),l.a.createElement("div",null,l.a.createElement(cn,{overlap:"circular",anchorOrigin:{vertical:"bottom",horizontal:"right"},variant:"dot",onClick:e=>{y(e.currentTarget),x(!0)}},l.a.createElement(k.a,{alt:"Whaticket",className:c.avatar2,src:J})),l.a.createElement(qt,{open:b,onClose:()=>f(!1),onImageUpdate:e=>Z(e),userId:null===Q||void 0===Q?void 0:Q.id}),l.a.createElement(D.a,{id:"menu-appbar",anchorEl:v,getContentAnchorEl:null,anchorOrigin:{vertical:"bottom",horizontal:"right"},transformOrigin:{vertical:"top",horizontal:"right"},open:A,onClose:ae},l.a.createElement(F.a,{onClick:()=>{f(!0),ae()}},Qe.a.t("mainDrawer.appBar.user.profile")),l.a.createElement(F.a,{onClick:()=>{"dark"===G.mode&&te(),ae(),T()}},Qe.a.t("mainDrawer.appBar.user.logout")))))),l.a.createElement("main",{className:c.content},l.a.createElement("div",{className:c.appBarSpacer}),s||null))},mn=t(1014),un=t.n(mn),pn=t(1016),gn=t.n(pn),En=t(1017),bn=t.n(En),fn=t(1015),hn=t.n(fn),vn=t(1012),yn=t.n(vn),An=t(1013),Cn=t.n(An),xn=t(560),Tn=t.n(xn),On=t(1018),kn=t.n(On),Sn=t(1019),wn=t.n(Sn),Mn=t(1020),In=t.n(Mn),jn=t(337),Nn=t(342),Rn=t(1338),Pn=t(1340),Dn=t(1336),Fn=t(1337),Ln=t(1339),qn=t(1335),Wn=t(1736),Bn=t(532),zn=t.n(Bn);t(1832);const Hn=Object(x.a)(e=>({on:{color:Sa.a[600],fontSize:"20px"},off:{color:jn.a[600],fontSize:"20px"},pointer:{cursor:"pointer"}}));function Un(e){const{loading:a,attendants:t}=e,n=Hn();function o(e){return y()().startOf("day").add(e,"minutes").format("HH[h] mm[m]")}return a?l.a.createElement(Wn.a,{variant:"rect",height:150}):l.a.createElement(Fn.a,{component:St.a},l.a.createElement(Rn.a,null,l.a.createElement(Ln.a,null,l.a.createElement(qn.a,null,l.a.createElement(Dn.a,null,Qe.a.t("dashboard.users.name")),l.a.createElement(Dn.a,{align:"center"},Qe.a.t("dashboard.assessments.score")),l.a.createElement(Dn.a,{align:"center"},Qe.a.t("dashboard.assessments.ratedCalls")),l.a.createElement(Dn.a,{align:"center"},Qe.a.t("dashboard.assessments.totalCalls")),l.a.createElement(Dn.a,{align:"center"},Qe.a.t("dashboard.cards.averageWaitingTime")),l.a.createElement(Dn.a,{align:"center"},Qe.a.t("dashboard.cards.averageServiceTime")),l.a.createElement(Dn.a,{align:"center"},Qe.a.t("dashboard.cards.status")))),l.a.createElement(Pn.a,null,t.map((e,a)=>l.a.createElement(qn.a,{key:a},l.a.createElement(Dn.a,null,e.name),l.a.createElement(Dn.a,{align:"center"},e.rating),l.a.createElement(Dn.a,{align:"center"},e.countRating),l.a.createElement(Dn.a,{align:"center"},e.tickets),l.a.createElement(Dn.a,{align:"center"},o(e.avgWaitTime)),l.a.createElement(Dn.a,{align:"center"},o(e.avgSupportTime)),l.a.createElement(Dn.a,{align:"center"},e.online?l.a.createElement(Ha.a,{title:"Online"},l.a.createElement(Na.a,{className:n.on})):l.a.createElement(Ha.a,{title:"Offline"},l.a.createElement(zn.a,{className:n.off}))))))))}var Qn=()=>({find:async e=>{const{data:a}=await Ze.request({url:"/dashboard",method:"GET",params:e});return a}});var Gn=e=>{let{searchParam:a,pageNumber:t,date:l,dateStart:o,dateEnd:r}=e;const[s,i]=Object(n.useState)(!0),[c,d]=Object(n.useState)(!1),[m,u]=Object(n.useState)([]),[p,g]=Object(n.useState)(0);return Object(n.useEffect)(()=>{i(!0);const e=setTimeout(()=>{(async()=>{try{const{data:e}=await Ze.get("/contacts",{params:{searchParam:a,pageNumber:t,date:l,dateStart:o,dateEnd:r}});u(e.contacts),d(e.hasMore),g(e.count),i(!1)}catch(e){i(!1),Ke(e)}})()},500);return()=>clearTimeout(e)},[a,t,l,o,r]),{contacts:m,loading:s,hasMore:c,count:p}};var Vn=e=>{let{fromMe:a,dateStart:t,dateEnd:l}=e;const[o,r]=Object(n.useState)(!0),[s,i]=Object(n.useState)(0);return Object(n.useEffect)(()=>{r(!0);const e=setTimeout(()=>{(async()=>{try{const{data:e}=await Ze.get("/messages-allMe",{params:{fromMe:a,dateStart:t,dateEnd:l}});i(e.count[0].count),r(!1)}catch(e){r(!1),Ke(e)}})()},500);return()=>clearTimeout(e)},[t,l]),{count:s}},Kn=t(80),_n=t(550),Yn=t(1084),Xn=t(375),Jn=t(377),Zn=t(1085),$n=t(1802),el=t(1816),al=t(1803),tl=t(1810);t(829);const nl=Object(x.a)(e=>({container:{paddingTop:e.spacing(1),paddingBottom:e.padding,paddingLeft:e.spacing(1),paddingRight:e.spacing(2)}}));Kn.f.register(Kn.e,Kn.j,Kn.c,Kn.p,Kn.q,Kn.h,Yn.a);const ll={responsive:!0,plugins:{legend:{position:"top",display:!1},title:{display:!0,text:"Tickets",position:"left"},datalabels:{display:!0,anchor:"start",offset:-30,align:"start",color:"#fff",textStrokeColor:"#000",textStrokeWidth:2,font:{size:20,weight:"bold"}}}},ol=()=>{nl();const[e,a]=Object(n.useState)(new Date),[t,o]=Object(n.useState)(new Date),[r,i]=Object(n.useState)({data:[]}),{user:c}=Object(n.useContext)(la),d=c.companyId;Object(n.useEffect)(()=>{u()},[]);const m={labels:r&&(null===r||void 0===r?void 0:r.data.length)>0&&(null===r||void 0===r?void 0:r.data.map(e=>e.nome)),datasets:[{data:(null===r||void 0===r?void 0:r.data.length)>0&&(null===r||void 0===r?void 0:r.data.map((e,a)=>e.quantidade)),backgroundColor:"#065183"}]},u=async()=>{try{const{data:a}=await Ze.get("/dashboard/ticketsUsers?initialDate=".concat(Object(fa.a)(e,"yyyy-MM-dd"),"&finalDate=").concat(Object(fa.a)(t,"yyyy-MM-dd"),"&companyId=").concat(d));i(a)}catch(a){s.b.error("Erro ao buscar informa\xe7\xf5es dos tickets")}};return l.a.createElement(l.a.Fragment,null,l.a.createElement(P.a,{component:"h2",variant:"h6",color:"primary",gutterBottom:!0},Qe.a.t("dashboard.users.totalCallsUser")),l.a.createElement(el.a,{direction:"row",spacing:2,alignItems:"center",sx:{my:2}},l.a.createElement(Zn.a,{dateAdapter:Xn.a,adapterLocale:Jn.a},l.a.createElement($n.a,{value:e,onChange:e=>{a(e)},label:Qe.a.t("dashboard.date.initialDate"),renderInput:e=>l.a.createElement(al.a,Object.assign({fullWidth:!0},e,{sx:{width:"20ch"}}))})),l.a.createElement(Zn.a,{dateAdapter:Xn.a,adapterLocale:Jn.a},l.a.createElement($n.a,{value:t,onChange:e=>{o(e)},label:Qe.a.t("dashboard.date.finalDate"),renderInput:e=>l.a.createElement(al.a,Object.assign({fullWidth:!0},e,{sx:{width:"20ch"}}))})),l.a.createElement(tl.a,{className:"buttonHover",onClick:u,variant:"contained"},"Filtrar")),l.a.createElement(_n.a,{options:ll,data:m,style:{maxWidth:"100%",maxHeight:"280px"}}))};var rl=t(1744),sl=t(1804),il=t(1009),cl=t(558);var dl=e=>{const{title:a,value:t,data:n,color:o}=e,r=JSON.parse("[".concat(String(n).replace(/'/g,'"'),"]")),s=1===[o].length?o:[JSON.stringify(o)];return l.a.createElement("div",null,l.a.createElement(rl.a,{width:300,height:300},l.a.createElement(sl.a,null,l.a.createElement(il.a,{data:r,dataKey:"value",nameKey:"name",cx:"50%",cy:"50%",outerRadius:100,innerRadius:50,labelLine:!1,strokeWidth:0,label:e=>{let{cx:n,cy:o,midAngle:r,innerRadius:s,outerRadius:i,percent:c,index:d}=e;const m=Math.PI/120,u=-100+s+(i-s),p=n+u*Math.cos(-r*m),g=o+u*Math.sin(-r*m);return l.a.createElement("text",{x:p,y:g,fill:"#000",textAnchor:"middle",dominantBaseline:"middle",fontWeight:"bold"},l.a.createElement("tspan",{fontWeight:"bold"},"".concat(a)),l.a.createElement("tspan",{x:p+1,y:g,dy:"1.2em",fontWeight:"bold"},"".concat(t,"%")))}},r.map((e,a)=>l.a.createElement(cl.a,{key:"cell-".concat(a),fill:s[a%s.length]}))))))};var ml=e=>l.a.createElement(P.a,{component:"h2",variant:"h6",color:"primary",gutterBottom:!0},e.children);var ul=e=>{let{classes:a,setDateStartTicket:t,setDateEndTicket:n,dateStartTicket:o,dateEndTicket:r,setQueueTicket:s,queueTicket:i,fetchData:c}=e;const[d]=l.a.useState(i),[m,u]=l.a.useState(o),[p,g]=l.a.useState(r),[E,b]=l.a.useState(!1);return l.a.createElement(it.a,{item:!0,xs:12},l.a.createElement(St.a,{className:a.customFixedHeightPaperLg,elevation:6},l.a.createElement(ml,null,"Filtros"),l.a.createElement(it.a,{container:!0,spacing:3},l.a.createElement(it.a,{item:!0,xs:12,sm:6,md:5},l.a.createElement(Et.a,{fullWidth:!0,name:"dateStart",label:Qe.a.t("dashboard.date.initialDate"),InputLabelProps:{shrink:!0},type:"date",defaultValue:m,onChange:e=>u(e.target.value)})),l.a.createElement(it.a,{item:!0,xs:12,sm:6,md:5},l.a.createElement(Et.a,{fullWidth:!0,name:"dateEnd",label:Qe.a.t("dashboard.date.finalDate"),InputLabelProps:{shrink:!0},type:"date",defaultValue:p,onChange:e=>g(e.target.value)})),l.a.createElement(it.a,{item:!0,xs:12,sm:6,md:2},l.a.createElement(gt.a,{fullWidth:!0,variant:"contained",color:"primary",onClick:()=>{s(d),t(m),n(p),b(!E),c(!E)}},"Filtrar")))))};Kn.f.register(Kn.e,Kn.j,Kn.c,Kn.p,Kn.q,Kn.h);const pl={responsive:!0,plugins:{legend:{position:"top",display:!1},title:{display:!0,text:"Tickets",position:"left"},datalabels:{display:!0,anchor:"start",offset:-30,align:"start",color:"#fff",textStrokeColor:"#000",textStrokeWidth:2,font:{size:20,weight:"bold"}}}},gl=()=>{const[e,a]=Object(n.useState)(new Date),[t,o]=Object(n.useState)(new Date),[r,i]=Object(n.useState)({data:[],count:0}),{user:c}=Object(n.useContext)(la),d=c.companyId;Object(n.useEffect)(()=>{u()},[]);const m={labels:r&&(null===r||void 0===r?void 0:r.data.length)>0&&(null===r||void 0===r?void 0:r.data.map(e=>e.hasOwnProperty("horario")?"Das ".concat(e.horario,":00 as ").concat(e.horario,":59"):e.data)),datasets:[{data:(null===r||void 0===r?void 0:r.data.length)>0&&(null===r||void 0===r?void 0:r.data.map((e,a)=>e.total)),backgroundColor:"#065183"}]},u=async()=>{try{const{data:a}=await Ze.get("/dashboard/ticketsDay?initialDate=".concat(Object(fa.a)(e,"yyyy-MM-dd"),"&finalDate=").concat(Object(fa.a)(t,"yyyy-MM-dd"),"&companyId=").concat(d));i(a)}catch(a){s.b.error("Erro ao buscar informa\xe7\xf5es dos tickets")}};return l.a.createElement(l.a.Fragment,null,l.a.createElement(P.a,{component:"h2",variant:"h6",color:"primary",gutterBottom:!0},Qe.a.t("dashboard.users.totalAttendances")," (",null===r||void 0===r?void 0:r.count,")"),l.a.createElement(el.a,{direction:"row",spacing:2,alignItems:"center",sx:{my:2}},l.a.createElement(Zn.a,{dateAdapter:Xn.a,adapterLocale:Jn.a},l.a.createElement($n.a,{value:e,onChange:e=>{a(e)},label:Qe.a.t("dashboard.date.initialDate"),renderInput:e=>l.a.createElement(al.a,Object.assign({fullWidth:!0},e,{sx:{width:"20ch"}}))})),l.a.createElement(Zn.a,{dateAdapter:Xn.a,adapterLocale:Jn.a},l.a.createElement($n.a,{value:t,onChange:e=>{o(e)},label:Qe.a.t("dashboard.date.finalDate"),renderInput:e=>l.a.createElement(al.a,Object.assign({fullWidth:!0},e,{sx:{width:"20ch"}}))})),l.a.createElement(tl.a,{className:"buttonHover",onClick:u,variant:"contained"},"Filtrar")),l.a.createElement(_n.a,{options:pl,data:m,style:{maxWidth:"100%",maxHeight:"280px"}}))};var El=t(1820),bl=t(1806),fl=t(1821),hl=t(1822),vl=t(1823),yl=t(1811),Al=t(1096),Cl=t(93);const xl=Object(x.a)(e=>({overline:{fontSize:"0.9rem",fontWeight:700,color:"grey",letterSpacing:"0.5px",lineHeight:2.5,textTransform:"uppercase",fontFamily:"'Plus Jakarta Sans', sans-serif'"},h4:{fontFamily:"'Plus Jakarta Sans', sans-serif'",fontWeight:500,fontSize:"2rem",lineHeight:1,color:"grey"},tab:{minWidth:"auto",width:"auto",padding:e.spacing(.5,1),borderRadius:8,transition:"0.3s",borderWidth:"1px",borderStyle:"solid",marginRight:e.spacing(.5),marginLeft:e.spacing(.5),[e.breakpoints.down("lg")]:{fontSize:"0.9rem",padding:e.spacing(.4,.8),marginRight:e.spacing(.4),marginLeft:e.spacing(.4)},[e.breakpoints.down("md")]:{fontSize:"0.8rem",padding:e.spacing(.3,.6),marginRight:e.spacing(.3),marginLeft:e.spacing(.3)},"&:hover":{backgroundColor:"rgba(6, 81, 131, 0.3)"},"&$selected":{color:"#FFF",backgroundColor:e.palette.primary.main}},tabIndicator:{borderWidth:"2px",borderStyle:"solid",height:6,bottom:0,color:"light"===e.mode?"#065183":"#FFF"},container:{paddingTop:e.spacing(1),paddingBottom:e.padding,maxWidth:"1150px",minWidth:"xs"},nps:{paddingTop:e.spacing(1),paddingBottom:e.padding},fixedHeightPaper:{padding:e.spacing(2),display:"flex",flexDirection:"column",height:240,overflowY:"auto",...e.scrollbarStyles},cardAvatar:{fontSize:"55px",color:jn.a[500],backgroundColor:"#ffffff",width:e.spacing(7),height:e.spacing(7)},cardTitle:{fontSize:"18px",color:Nn.a[700]},cardSubtitle:{color:jn.a[600],fontSize:"14px"},alignRight:{textAlign:"right"},fullWidth:{width:"100%"},selectContainer:{width:"100%",textAlign:"left"},iframeDashboard:{width:"100%",height:"calc(100vh - 64px)",border:"none"},container:{paddingTop:e.spacing(4),paddingBottom:e.spacing(4)},fixedHeightPaper:{padding:e.spacing(2),display:"flex",overflow:"auto",flexDirection:"column",height:240},customFixedHeightPaper:{padding:e.spacing(2),display:"flex",overflow:"auto",flexDirection:"column",height:120},customFixedHeightPaperLg:{padding:e.spacing(2),display:"flex",overflow:"auto",flexDirection:"column",height:"100%"},fixedHeightPaper2:{padding:e.spacing(2),display:"flex",overflow:"auto",flexDirection:"column"}}));var Tl=()=>{const e=Object(S.a)(),a=xl(),[t,o]=Object(n.useState)({}),[r,i]=Object(n.useState)([]),[c,d]=Object(n.useState)(1),[m,u]=Object(n.useState)(0),[p,g]=Object(n.useState)(y()("1","D").format("YYYY-MM-DD")),[E,b]=Object(n.useState)(y()().format("YYYY-MM-DD")),[f,h]=Object(n.useState)(!1),{find:v}=Qn(),[C,x]=Object(n.useState)("Indicadores"),[T,O]=Object(n.useState)([]),[k,w]=Object(n.useState)([]);let M=new Date,I=M.getDate(),j=M.getMonth()+1,N=M.getFullYear(),R="".concat(N,"-").concat(j<10?"0".concat(j):"".concat(j),"-01"),D="".concat(N,"-").concat(j<10?"0".concat(j):"".concat(j),"-").concat(I<10?"0".concat(I):"".concat(I));const[F,L]=Object(n.useState)(!1),[q,W]=Object(n.useState)(R),[B,z]=Object(n.useState)(D),[H,U]=Object(n.useState)(!1),[Q,G]=Object(n.useState)(!1),{user:V}=Object(n.useContext)(la);V.queues&&V.queues.length>0&&V.queues.map(e=>e.id),Object(n.useEffect)(()=>{async function e(){await async function(){h(!0);let e={};m>0&&(e={days:m});!Object(A.isEmpty)(q)&&y()(q).isValid()&&(e={...e,date_from:y()(q).format("YYYY-MM-DD")});!Object(A.isEmpty)(B)&&y()(B).isValid()&&(e={...e,date_to:y()(B).format("YYYY-MM-DD")});if(0===Object.keys(e).length)return s.b.error("Parametrize o filtro"),void h(!1);const a=await v(e);o(a.counters),Object(A.isArray)(a.attendants)?i(a.attendants):i([]);h(!1)}()}setTimeout(()=>{e()},1e3)},[Q]);function K(e){return y()().startOf("day").add(e,"minutes").format("HH[h] mm[m]")}const _=(e,a)=>{let t={};t=e?a?{fromMe:!0}:{fromMe:!1}:a?{fromMe:!0,dateStart:q,dateEnd:B}:{fromMe:!1,dateStart:q,dateEnd:B};const{count:n}=Vn(t);return n};return l.a.createElement("div",null,l.a.createElement(El.a,{maxWidth:"lg",className:a.container},l.a.createElement(Cl.a,{container:!0,spacing:3,className:a.container},l.a.createElement(Cl.a,{xs:12},l.a.createElement(tl.a,{onClick:function(){L(!F)},style:{float:"right"},color:"primary"},F?l.a.createElement(Cn.a,null):l.a.createElement(yn.a,null))),F&&l.a.createElement(ul,{classes:a,setDateStartTicket:W,setDateEndTicket:z,dateStartTicket:q,dateEndTicket:B,setQueueTicket:U,queueTicket:H,fetchData:G}),l.a.createElement(Cl.a,{container:!0,width:"100%",justifyContent:"center"},l.a.createElement(bl.a,{value:C,onChange:(e,a)=>{x(a)},variant:"fullWidth",indicatorColor:"primary",textColor:"primary","aria-label":"icon label tabs example",classes:{indicator:a.tabIndicator},sx:{borderRadius:"5px",borderColor:"#aaa",borderWidth:"1px",borderStyle:"solid",fontFamily:'"Plus Jakarta Sans", sans-serif'}},l.a.createElement(fl.a,{classes:{root:a.tab},style:{color:"light"===e.mode?"#065183":"#FFF"},value:"Indicadores",label:Qe.a.t("dashboard.tabs.indicators")}),l.a.createElement(fl.a,{classes:{root:a.tab},style:{color:"light"===e.mode?"#065183":"#FFF"},value:"NPS",label:Qe.a.t("dashboard.tabs.assessments")}),l.a.createElement(fl.a,{classes:{root:a.tab},style:{color:"light"===e.mode?"#065183":"#FFF"},value:"Atendentes",label:Qe.a.t("dashboard.tabs.attendants")}))),l.a.createElement(Rt,{className:a.container,value:C,name:"Indicadores"},l.a.createElement(El.a,{maxWidth:"xl"},l.a.createElement(Cl.a,{container:!0,spacing:3},l.a.createElement(Cl.a,{xs:12,sm:8,lg:4},l.a.createElement(hl.a,{sx:{height:"100%",backgroundColor:"light"===e.mode?"transparent":"rgba(170, 170, 170, 0.2)"}},l.a.createElement(vl.a,null,l.a.createElement(el.a,{alignItems:"flex-start",direction:"row",justifyContent:"space-between",spacing:3},l.a.createElement(el.a,{spacing:1},l.a.createElement(P.a,{color:"primary",variant:"overline",className:a.overline},Qe.a.t("dashboard.cards.inAttendance")),l.a.createElement(P.a,{variant:"h4",className:a.h4},t.supportHappening)),l.a.createElement(yl.a,{sx:{backgroundColor:"#0b708c",height:60,width:60}},l.a.createElement(Al.a,null,l.a.createElement(un.a,null))))))),l.a.createElement(Cl.a,{xs:12,sm:8,lg:4},l.a.createElement(hl.a,{sx:{height:"100%",backgroundColor:"light"===e.mode?"transparent":"rgba(170, 170, 170, 0.2)"}},l.a.createElement(vl.a,null,l.a.createElement(el.a,{alignItems:"flex-start",direction:"row",justifyContent:"space-between",spacing:3},l.a.createElement(el.a,{spacing:1},l.a.createElement(P.a,{color:"primary",variant:"overline",className:a.overline},Qe.a.t("dashboard.cards.waiting")),l.a.createElement(P.a,{variant:"h4",className:a.h4},t.supportPending)),l.a.createElement(yl.a,{sx:{backgroundColor:"#47606e",height:60,width:60}},l.a.createElement(Al.a,null,l.a.createElement(hn.a,null))))))),l.a.createElement(Cl.a,{xs:12,sm:8,lg:4},l.a.createElement(hl.a,{sx:{height:"100%",backgroundColor:"light"===e.mode?"transparent":"rgba(170, 170, 170, 0.2)"}},l.a.createElement(vl.a,null,l.a.createElement(el.a,{alignItems:"flex-start",direction:"row",justifyContent:"space-between",spacing:3},l.a.createElement(el.a,{spacing:1},l.a.createElement(P.a,{color:"primary",variant:"overline",className:a.overline},Qe.a.t("dashboard.cards.finalized")),l.a.createElement(P.a,{variant:"h4",className:a.h4},t.supportFinished)),l.a.createElement(yl.a,{sx:{backgroundColor:"#5852ab",height:60,width:60}},l.a.createElement(Al.a,null,l.a.createElement(Na.a,null))))))),l.a.createElement(Cl.a,{xs:12,sm:8,lg:4},l.a.createElement(hl.a,{sx:{height:"100%",backgroundColor:"light"===e.mode?"transparent":"rgba(170, 170, 170, 0.2)"}},l.a.createElement(vl.a,null,l.a.createElement(el.a,{alignItems:"flex-start",direction:"row",justifyContent:"space-between",spacing:3},l.a.createElement(el.a,{spacing:1},l.a.createElement(P.a,{color:"primary",variant:"overline",className:a.overline},Qe.a.t("dashboard.cards.activeAttendants")),l.a.createElement(P.a,{variant:"h4",className:a.h4},(()=>{let e,a=0;return r.forEach(e=>{!0===e.online&&(a+=1)}),e=0===a?0:a,e})(),"/",r.length)),l.a.createElement(yl.a,{sx:{backgroundColor:"#805753",height:60,width:60}},l.a.createElement(Al.a,null,l.a.createElement(gn.a,null))))))),l.a.createElement(Cl.a,{xs:12,sm:8,lg:4},l.a.createElement(hl.a,{sx:{height:"100%",backgroundColor:"light"===e.mode?"transparent":"rgba(170, 170, 170, 0.2)"}},l.a.createElement(vl.a,null,l.a.createElement(el.a,{alignItems:"flex-start",direction:"row",justifyContent:"space-between",spacing:3},l.a.createElement(el.a,{spacing:1},l.a.createElement(P.a,{color:"primary",variant:"overline",className:a.overline},Qe.a.t("dashboard.cards.newContacts")),l.a.createElement(P.a,{variant:"h4",className:a.h4},(e=>{let a={};a=e?{}:{dateStart:q,dateEnd:B};const{count:t}=Gn(a);return t})(!0))),l.a.createElement(yl.a,{sx:{backgroundColor:"#8c6b19",height:60,width:60}},l.a.createElement(Al.a,null,l.a.createElement(bn.a,null))))))),l.a.createElement(Cl.a,{xs:12,sm:8,lg:4},l.a.createElement(hl.a,{sx:{height:"100%",backgroundColor:"light"===e.mode?"transparent":"rgba(170, 170, 170, 0.2)"}},l.a.createElement(vl.a,null,l.a.createElement(el.a,{alignItems:"flex-start",direction:"row",justifyContent:"space-between",spacing:3},l.a.createElement(el.a,{spacing:1},l.a.createElement(P.a,{color:"primary",variant:"overline",className:a.overline},Qe.a.t("dashboard.cards.totalReceivedMessages")),l.a.createElement(P.a,{variant:"h4",className:a.h4},_(!1,!1),"/",_(!0,!1))),l.a.createElement(yl.a,{sx:{backgroundColor:"#333133",height:60,width:60}},l.a.createElement(Al.a,null,l.a.createElement(kn.a,null))))))),l.a.createElement(Cl.a,{xs:12,sm:8,lg:4},l.a.createElement(hl.a,{sx:{height:"100%",backgroundColor:"light"===e.mode?"transparent":"rgba(170, 170, 170, 0.2)"}},l.a.createElement(vl.a,null,l.a.createElement(el.a,{alignItems:"flex-start",direction:"row",justifyContent:"space-between",spacing:3},l.a.createElement(el.a,{spacing:1},l.a.createElement(P.a,{color:"primary",variant:"overline",className:a.overline},Qe.a.t("dashboard.cards.totalSentMessages")),l.a.createElement(P.a,{variant:"h4",className:a.h4},_(!1,!0),"/",_(!0,!0))),l.a.createElement(yl.a,{sx:{backgroundColor:"#558a59",height:60,width:60}},l.a.createElement(Al.a,null,l.a.createElement(Tn.a,null))))))),l.a.createElement(Cl.a,{xs:12,sm:8,lg:4},l.a.createElement(hl.a,{sx:{height:"100%",backgroundColor:"light"===e.mode?"transparent":"rgba(170, 170, 170, 0.2)"}},l.a.createElement(vl.a,null,l.a.createElement(el.a,{alignItems:"flex-start",direction:"row",justifyContent:"space-between",spacing:3},l.a.createElement(el.a,{spacing:1},l.a.createElement(P.a,{color:"primary",variant:"overline",className:a.overline},Qe.a.t("dashboard.cards.averageServiceTime")),l.a.createElement(P.a,{variant:"h4",className:a.h4},K(t.avgSupportTime))),l.a.createElement(yl.a,{sx:{backgroundColor:"#F79009",height:60,width:60}},l.a.createElement(Al.a,null,l.a.createElement(wn.a,null))))))),l.a.createElement(Cl.a,{xs:12,sm:8,lg:4},l.a.createElement(hl.a,{sx:{height:"100%",backgroundColor:"light"===e.mode?"transparent":"rgba(170, 170, 170, 0.2)"}},l.a.createElement(vl.a,null,l.a.createElement(el.a,{alignItems:"flex-start",direction:"row",justifyContent:"space-between",spacing:3},l.a.createElement(el.a,{spacing:1},l.a.createElement(P.a,{color:"primary",variant:"overline",className:a.overline},Qe.a.t("dashboard.cards.averageWaitingTime")),l.a.createElement(P.a,{variant:"h4",className:a.h4},K(t.avgWaitTime))),l.a.createElement(yl.a,{sx:{backgroundColor:"#8a2c40",height:60,width:60}},l.a.createElement(Al.a,null,l.a.createElement(In.a,null)))))))))),l.a.createElement(Rt,{className:a.container,value:C,name:"NPS"},l.a.createElement(Cl.a,{className:a.container},l.a.createElement(Cl.a,{container:!0,width:"100%",spacing:2},l.a.createElement(Cl.a,{xs:12,sm:6,md:3},l.a.createElement(St.a,{elevation:3},l.a.createElement(dl,{data:["{'name': 'Promotores', 'value': ".concat(100|t.npsPromotersPerc,"}"),"{'name': 'Detratores', 'value': ".concat(0|t.npsDetractorsPerc,"}"),"{'name': 'Neutros', 'value': ".concat(0|t.npsPassivePerc,"}")],value:0|t.npsScore,title:"Score",color:parseInt(0|t.npsPromotersPerc)+parseInt(0|t.npsDetractorsPerc)+parseInt(0|t.npsPassivePerc)===0?["#918F94"]:["#2EA85A","#F73A2C","#F7EC2C"]}))),l.a.createElement(Cl.a,{xs:12,sm:6,md:3},l.a.createElement(St.a,{elevation:3},l.a.createElement(dl,{title:Qe.a.t("dashboard.assessments.prosecutors"),value:0|t.npsPromotersPerc,data:["{'name': 'Promotores', 'value': 100}"],color:["#2EA85A"]}))),l.a.createElement(Cl.a,{xs:12,sm:6,md:3},l.a.createElement(St.a,{elevation:3},l.a.createElement(dl,{data:["{'name': 'Neutros', 'value': 100}"],title:Qe.a.t("dashboard.assessments.neutral"),value:0|t.npsPassivePerc,color:["#F7EC2C"]}))),l.a.createElement(Cl.a,{xs:12,sm:6,md:3},l.a.createElement(St.a,{elevation:3},l.a.createElement(dl,{data:["{'name': 'Detratores', 'value': 100}"],title:Qe.a.t("dashboard.assessments.detractors"),value:0|t.npsDetractorsPerc,color:["#F73A2C"]}))),l.a.createElement(Cl.a,{xs:12,sm:6,md:12},l.a.createElement(St.a,{elevation:3},l.a.createElement(P.a,{component:"h3",variant:"h6",paragraph:!0,style:{marginLeft:"10px"}},Qe.a.t("dashboard.assessments.totalCalls"),": ",t.tickets," ",l.a.createElement("br",null),Qe.a.t("dashboard.assessments.callsWaitRating"),": ",t.waitRating," ",l.a.createElement("br",null),Qe.a.t("dashboard.assessments.callsWithoutRating"),": ",t.withoutRating," ",l.a.createElement("br",null),Qe.a.t("dashboard.assessments.ratedCalls"),": ",t.withRating," ",l.a.createElement("br",null),Qe.a.t("dashboard.assessments.evaluationIndex"),": ",Number(t.percRating/100).toLocaleString(void 0,{style:"percent"})," ",l.a.createElement("br",null))))))),l.a.createElement(Rt,{className:a.container,value:C,name:"Atendentes"},l.a.createElement(El.a,{width:"100%",className:a.container},l.a.createElement(Cl.a,{container:!0,width:"100%"},l.a.createElement(Cl.a,{xs:12},r.length?l.a.createElement(Un,{attendants:r,loading:f}):null),l.a.createElement(Cl.a,{xs:12},l.a.createElement(St.a,{className:a.fixedHeightPaper2},l.a.createElement(ol,null))),l.a.createElement(Cl.a,{xs:12},l.a.createElement(St.a,{className:a.fixedHeightPaper2},l.a.createElement(gl,null)))))))))},Ol=t(1489),kl=t(1598),Sl=t(693),wl=t(1724),Ml=t(1755),Il=t(1756),jl=t(1757),Nl=t(1758),Rl=t(1759),Pl=t(1760),Dl=t(1025),Fl=t.n(Dl),Ll=t(1754),ql=t(1026),Wl=t.n(ql),Bl=t(1023),zl=t.n(Bl),Hl=t(1024),Ul=t.n(Hl),Ql=t(1745),Gl=t(1830);const Vl=Object(x.a)(e=>({button:{position:"relative"},buttonProgress:{color:Sa.a[500],position:"absolute",top:"50%",left:"50%",marginTop:-12,marginLeft:-12}}));var Kl=e=>{let{loading:a,children:t,...n}=e;const o=Vl();return l.a.createElement(gt.a,Object.assign({className:o.button,disabled:a},n),t,a&&l.a.createElement(yt.a,{size:24,className:o.buttonProgress}))},_l=t(52),Yl=t.n(_l),Xl=t(1186);function Jl(e){let{contact:a}=e;const[t,o]=Object(n.useState)([]),[r,s]=Object(n.useState)([]),i=Object(n.useRef)(!0);Object(n.useEffect)(()=>()=>{i.current=!1},[]),Object(n.useEffect)(()=>{i.current&&d().then(()=>{Array.isArray(a.tags)?s(a.tags):s([])})},[a]);const c=async e=>{try{const{data:a}=await Ze.post("/tags",e);return a}catch(a){Ke(a)}},d=async()=>{try{const{data:e}=await Ze.get("/tags/list",{params:{kanban:0}});o(e)}catch(e){Ke(e)}},m=async(e,t)=>{let n=[];if("create-option"===t){if(Object(A.isArray)(e))for(let a of e){if(a.length<3)return void Ke("Tag muito curta!");if(Object(A.isString)(a)){const e=await c({name:a,kanban:0,color:u()});n.push(e)}else n.push(a)}await d()}else n=e;s(n),await(async e=>{try{const{data:a}=await Ze.post("/tags/sync",e);return a}catch(a){Ke(a)}})({contactId:a.id,tags:n})};function u(){const e=Math.floor(256*Math.random()),a=Math.floor(256*Math.random()),t=Math.floor(256*Math.random());return"#".concat(e.toString(16).padStart(2,"0")).concat(a.toString(16).padStart(2,"0")).concat(t.toString(16).padStart(2,"0"))}return l.a.createElement(St.a,{style:{padding:2}},l.a.createElement(Gl.a,{multiple:!0,size:"small",options:t,value:r,freeSolo:!0,onChange:(e,a,t)=>m(a,t),getOptionLabel:e=>e.name,renderTags:(e,a)=>e.map((e,t)=>l.a.createElement(Tt.a,Object.assign({variant:"outlined",style:{backgroundColor:e.color||"#eee",color:"#FFF",marginRight:1,padding:1,fontWeight:"bold",paddingLeft:5,paddingRight:5,borderRadius:3,fontSize:"0.8em",whiteSpace:"nowrap"},label:e.name},a({index:t}),{size:"small"}))),renderInput:e=>l.a.createElement(Et.a,Object.assign({},e,{variant:"outlined",placeholder:"Tag"})),PaperComponent:e=>{let{children:a}=e;return l.a.createElement(St.a,{style:{width:400,marginLeft:6}},a)}}))}const Zl=Object(x.a)(e=>({root:{display:"flex",flexWrap:"wrap"},textField:{marginRight:e.spacing(1),flex:1},extraAttr:{display:"flex",justifyContent:"center",alignItems:"center"},btnWrapper:{position:"relative"},buttonProgress:{color:Sa.a[500],position:"absolute",top:"50%",left:"50%",marginTop:-12,marginLeft:-12}})),$l=ut.c().shape({name:ut.d().min(2,"Too Short!").max(50,"Too Long!").required("Required"),number:ut.d().min(8,"Too Short!").max(50,"Too Long!"),email:ut.d().email("Invalid email")});var eo=e=>{let{open:a,onClose:t,contactId:o,initialValues:r,onSave:i}=e;const c=Zl(),d=Object(n.useRef)(!0),m={name:"",number:"",email:"",disableBot:!1,lgpdAcceptedAt:""},[u,p]=Object(n.useState)(m),[g,E]=Object(n.useState)(!1);Object(n.useEffect)(()=>()=>{d.current=!1},[]),Object(n.useEffect)(()=>{(async()=>{if(r&&p(e=>({...e,...r})),o)try{const{data:e}=await Ze.get("/contacts/".concat(o));d.current&&(p(e),E(e.disableBot))}catch(e){Ke(e)}})()},[o,a,r]);const b=()=>{t(),p(m)};return l.a.createElement("div",{className:c.root},l.a.createElement(bt.a,{open:a,onClose:b,maxWidth:"lg",scroll:"paper"},l.a.createElement(vt.a,{id:"form-dialog-title"},"".concat(o?Qe.a.t("contactModal.title.edit"):Qe.a.t("contactModal.title.add"))),l.a.createElement(pt.f,{initialValues:u,enableReinitialize:!0,validationSchema:$l,onSubmit:(e,a)=>{setTimeout(()=>{(async e=>{try{if(o)await Ze.put("/contacts/".concat(o),{...e,disableBot:g}),b();else{const{data:a}=await Ze.post("/contacts",{...e,disableBot:g});i&&i(a),b()}s.b.success(Qe.a.t("contactModal.success"))}catch(a){Ke(a)}})(e),a.setSubmitting(!1)},400)}},e=>{let{values:a,errors:t,touched:n,isSubmitting:r,setFieldValue:s}=e;return l.a.createElement(pt.e,null,l.a.createElement(ht.a,{dividers:!0},l.a.createElement(P.a,{variant:"subtitle1",gutterBottom:!0},Qe.a.t("contactModal.form.mainInfo")),l.a.createElement(pt.c,{as:Et.a,label:Qe.a.t("contactModal.form.name"),name:"name",autoFocus:!0,error:n.name&&Boolean(t.name),helperText:n.name&&t.name,variant:"outlined",margin:"dense",className:c.textField}),l.a.createElement(pt.c,{as:Et.a,label:Qe.a.t("contactModal.form.number"),name:"number",error:n.number&&Boolean(t.number),helperText:n.number&&t.number,placeholder:"5513912344321",variant:"outlined",margin:"dense"}),l.a.createElement("div",null,l.a.createElement(pt.c,{as:Et.a,label:Qe.a.t("contactModal.form.email"),name:"email",error:n.email&&Boolean(t.email),helperText:n.email&&t.email,placeholder:"Email address",fullWidth:!0,margin:"dense",variant:"outlined"})),l.a.createElement("div",null,l.a.createElement(Jl,{contact:u,className:c.textField})),l.a.createElement(P.a,{style:{marginBottom:8,marginTop:12},variant:"subtitle1"},l.a.createElement(Xl.a,{size:"small",checked:g,onChange:()=>E(!g),name:"disableBot"}),Qe.a.t("contactModal.form.chatBotContact")),l.a.createElement(P.a,{style:{marginBottom:8,marginTop:12},variant:"subtitle1"},Qe.a.t("contactModal.form.whatsapp")," ",(null===u||void 0===u?void 0:u.whatsapp)?null===u||void 0===u?void 0:u.whatsapp.name:""),l.a.createElement(P.a,{style:{marginBottom:8,marginTop:12},variant:"subtitle1"},Qe.a.t("contactModal.form.termsLGDP")," ",(null===u||void 0===u?void 0:u.lgpdAcceptedAt)?Object(fa.a)(new Date(null===u||void 0===u?void 0:u.lgpdAcceptedAt),"dd/MM/yyyy '\xe0s' HH:mm"):""),l.a.createElement(P.a,{style:{marginBottom:8,marginTop:12},variant:"subtitle1"},Qe.a.t("contactModal.form.extraInfo")),l.a.createElement(pt.d,{name:"extraInfo"},e=>{let{push:t,remove:n}=e;return l.a.createElement(l.a.Fragment,null,a.extraInfo&&a.extraInfo.length>0&&a.extraInfo.map((e,a)=>l.a.createElement("div",{className:c.extraAttr,key:"".concat(a,"-info")},l.a.createElement(pt.c,{as:Et.a,label:Qe.a.t("contactModal.form.extraName"),name:"extraInfo[".concat(a,"].name"),variant:"outlined",margin:"dense",className:c.textField}),l.a.createElement(pt.c,{as:Et.a,label:Qe.a.t("contactModal.form.extraValue"),name:"extraInfo[".concat(a,"].value"),variant:"outlined",margin:"dense",className:c.textField}),l.a.createElement(M.a,{size:"small",onClick:()=>n(a)},l.a.createElement(Yl.a,null)))),l.a.createElement("div",{className:c.extraAttr},l.a.createElement(gt.a,{style:{flex:1,marginTop:8},variant:"outlined",color:"primary",onClick:()=>t({name:"",value:""})},"+ ".concat(Qe.a.t("contactModal.buttons.addExtraInfo")))))})),l.a.createElement(ft.a,null,l.a.createElement(gt.a,{onClick:b,color:"secondary",disabled:r,variant:"outlined"},Qe.a.t("contactModal.buttons.cancel")),l.a.createElement(gt.a,{type:"submit",color:"primary",disabled:r,variant:"contained",className:c.btnWrapper},"".concat(o?Qe.a.t("contactModal.buttons.okEdit"):Qe.a.t("contactModal.buttons.okAdd")),r&&l.a.createElement(yt.a,{size:24,className:c.buttonProgress}))))})))},ao=t(1747),to=t(1748),no=t(1749),lo=t(1742),oo=t(1746),ro=t(1819),so=t(1824),io=t(1818);var co=e=>{let{isOpen:a,handleClose:t,user:n,queue:o}=e;return l.a.createElement(lo.a,{open:a,onClose:t},l.a.createElement(oo.a,null,Qe.a.t("showTicketOpenModal.title.header")),l.a.createElement(ro.a,null,void 0!==n&&void 0!==o&&l.a.createElement(so.a,null,Qe.a.t("showTicketOpenModal.form.message")," ",l.a.createElement("br",null),"".concat(Qe.a.t("showTicketOpenModal.form.user"),": ").concat(n),l.a.createElement("br",null),"".concat(Qe.a.t("showTicketOpenModal.form.queue"),": ").concat(o),l.a.createElement("br",null)),!n&&l.a.createElement(so.a,null,Qe.a.t("showTicketOpenModal.form.messageWait")," ",l.a.createElement("br",null),o&&"".concat(Qe.a.t("showTicketOpenModal.form.queue"),": ").concat(o),l.a.createElement("br",null))),l.a.createElement(io.a,null,l.a.createElement(tl.a,{onClick:t,color:"primary"},"Fechar")))};const mo=Object(x.a)(e=>({online:{fontSize:11,color:"#25d366"},offline:{fontSize:11,color:"#e1306c"}})),uo=Object(Ql.a)({trim:!0});var po=e=>{var a;let{modalOpen:t,onClose:o,initialContact:r}=e;const i=mo(),[c,d]=Object(n.useState)([]),[m,u]=Object(n.useState)(!1),[p,g]=Object(n.useState)(""),[E,b]=Object(n.useState)(null),[f,h]=Object(n.useState)(""),[v,y]=Object(n.useState)(""),[A,C]=Object(n.useState)({}),[x,T]=Object(n.useState)([]),[O,k]=Object(n.useState)(!1),{user:S}=Object(n.useContext)(la),{companyId:w,whatsappId:M}=S,[I,j]=Object(n.useState)(!1),[N,R]=Object(n.useState)(""),[D,L]=Object(n.useState)("");Object(n.useEffect)(()=>{void 0!==(null===r||void 0===r?void 0:r.id)&&(d([r]),b(r))},[r]),Object(n.useEffect)(()=>{u(!0);const e=setTimeout(()=>{null!==M&&void 0!==M&&y(M),1===S.queues.length&&h(S.queues[0].id),(async()=>{Ze.get("/whatsapp",{params:{companyId:w,session:0}}).then(e=>{let{data:a}=e;return T(a)})})(),u(!1)},500);return()=>clearTimeout(e)},[]),Object(n.useEffect)(()=>{if(!t||p.length<3)return void u(!1);u(!0);const e=setTimeout(()=>{(async()=>{try{const{data:e}=await Ze.get("contacts",{params:{searchParam:p}});d(e.contacts),u(!1)}catch(e){u(!1),Ke(e)}})()},500);return()=>clearTimeout(e)},[p,t]);const q=e=>{switch(e){case"facebook":return l.a.createElement(ao.a,{style:{color:"#3b5998",verticalAlign:"middle"}});case"instagram":return l.a.createElement(to.a,{style:{color:"#e1306c",verticalAlign:"middle"}});case"whatsapp":return l.a.createElement(no.a,{style:{color:"#25d366",verticalAlign:"middle"}});default:return"error"}},W=()=>{o(),g(""),j(!1),R(""),L(""),b(null)},B=async e=>{if(e)if(""!==f){u(!0);try{const a=""!==f?f:null,t=""!==v?v:null,{data:n}=await Ze.post("/tickets",{contactId:e,queueId:a,whatsappId:t,userId:S.id,status:"open"});o(n)}catch(n){const e=JSON.parse(n.response.data.error);var a,t;if(e.userId!==(null===S||void 0===S?void 0:S.id))j(!0),R(null===e||void 0===e||null===(a=e.user)||void 0===a?void 0:a.name),L(null===e||void 0===e||null===(t=e.queue)||void 0===t?void 0:t.name);else j(!1),R(""),L(""),u(!1),o(e)}u(!1)}else s.b.error("Selecione uma fila")},z=(e,a)=>{const t=uo(e,a);return""!==a.inputValue&&!m&&p.length>=3&&t.push({name:"".concat(a.inputValue)}),t},H=e=>e.number?l.a.createElement(l.a.Fragment,null,q(e.channel),l.a.createElement(P.a,{component:"span",style:{fontSize:14,marginLeft:"10px",display:"inline-flex",alignItems:"center",lineHeight:"2"}},e.name," - ",e.number)):"".concat(Qe.a.t("newTicketModal.add")," ").concat(e.name),U=e=>e.number?"".concat(e.name," - ").concat(e.number):"".concat(e.name);return l.a.createElement(l.a.Fragment,null,l.a.createElement(bt.a,{open:t,onClose:W},l.a.createElement(vt.a,{id:"form-dialog-title"},Qe.a.t("newTicketModal.title")),l.a.createElement(ht.a,{dividers:!0},l.a.createElement(it.a,{style:{width:300},container:!0,spacing:2},void 0===r||void 0===r.id?l.a.createElement(it.a,{xs:12,item:!0},l.a.createElement(Gl.a,{fullWidth:!0,options:c,loading:m,clearOnBlur:!0,autoHighlight:!0,freeSolo:!0,clearOnEscape:!0,getOptionLabel:U,renderOption:H,filterOptions:z,onChange:(e,a)=>((e,a)=>{(null===a||void 0===a?void 0:a.number)?b(a):(null===a||void 0===a?void 0:a.name)&&(C({name:a.name}),k(!0))})(0,a),renderInput:e=>l.a.createElement(Et.a,Object.assign({},e,{label:Qe.a.t("newTicketModal.fieldLabel"),variant:"outlined",autoFocus:!0,onChange:e=>g(e.target.value),onKeyPress:e=>{!m&&E&&"Enter"===e.key&&B(E.id)},InputProps:{...e.InputProps,endAdornment:l.a.createElement(l.a.Fragment,null,m?l.a.createElement(yt.a,{color:"inherit",size:20}):null,e.InputProps.endAdornment)}}))})):null,l.a.createElement(it.a,{xs:12,item:!0},l.a.createElement(At.a,{required:!0,fullWidth:!0,displayEmpty:!0,variant:"outlined",value:f,onChange:e=>{h(e.target.value)},MenuProps:{anchorOrigin:{vertical:"bottom",horizontal:"left"},transformOrigin:{vertical:"top",horizontal:"left"},getContentAnchorEl:null},renderValue:()=>{if(""===f)return"Selecione uma fila";return S.queues.find(e=>e.id===f).name}},(null===(a=S.queues)||void 0===a?void 0:a.length)>0&&S.queues.map((e,a)=>l.a.createElement(F.a,{dense:!0,key:a,value:e.id},l.a.createElement(K.a,{primary:e.name}))))),l.a.createElement(it.a,{xs:12,item:!0},l.a.createElement(At.a,{required:!0,fullWidth:!0,displayEmpty:!0,variant:"outlined",value:v,onChange:e=>{y(e.target.value)},MenuProps:{anchorOrigin:{vertical:"bottom",horizontal:"left"},transformOrigin:{vertical:"top",horizontal:"left"},getContentAnchorEl:null},renderValue:()=>{if(""===v)return"Selecione uma Conex\xe3o";const e=x.find(e=>e.id===v);return null===e||void 0===e?void 0:e.name}},(null===x||void 0===x?void 0:x.length)>0&&x.map((e,a)=>l.a.createElement(F.a,{dense:!0,key:a,value:e.id},l.a.createElement(K.a,{primary:l.a.createElement(l.a.Fragment,null,q(e.channel),l.a.createElement(P.a,{component:"span",style:{fontSize:14,marginLeft:"10px",display:"inline-flex",alignItems:"center",lineHeight:"2"}},e.name," \xa0 ",l.a.createElement("p",{className:"CONNECTED"===e.status?i.online:i.offline},"(",e.status,")")))}))))))),l.a.createElement(ft.a,null,l.a.createElement(gt.a,{onClick:W,color:"secondary",disabled:m,variant:"outlined"},Qe.a.t("newTicketModal.buttons.cancel")),l.a.createElement(Kl,{variant:"contained",type:"button",disabled:!E,onClick:()=>B(E.id),color:"primary",loading:m},Qe.a.t("newTicketModal.buttons.ok"))),O&&l.a.createElement(eo,{open:O,initialValues:A,onClose:()=>{k(!1)},onSave:e=>{b(e)}}),I&&l.a.createElement(co,{isOpen:I,handleClose:()=>{j(!1),u(!1),j(!1),R(""),L("")},user:N,queue:D})))},go=t(561),Eo=t.n(go),bo=t(1614);const fo=Object(bo.a)(e=>({tag:{padding:"1px 5px",borderRadius:"3px",fontSize:"0.8em",fontWeight:"bold",color:"#FFF",marginRight:"5px",whiteSpace:"nowrap"}}));var ho=e=>{let{tag:a}=e;const t=fo();return l.a.createElement("div",{className:t.tag,style:{backgroundColor:a.color,marginTop:"2px"}},a.name.toUpperCase())},vo=t(1021),yo=t.n(vo),Ao=t(1022),Co=t.n(Ao);var xo=e=>{let{connectionType:a}=e;return l.a.createElement(l.a.Fragment,null,"whatsapp"===a&&l.a.createElement($.a,{fontSize:"small",style:{marginBottom:"-5px",color:"#25D366"}}),"instagram"===a&&l.a.createElement(yo.a,{fontSize:"small",style:{marginBottom:"-5px",color:"#e1306c"}}),"facebook"===a&&l.a.createElement(Co.a,{fontSize:"small",style:{marginBottom:"-5px",color:"#3b5998"}}))};var To=()=>({getAll:async e=>{const{data:a}=await Ze.request({url:"/companySettings/".concat(e),method:"GET"});return a},get:async e=>{const{data:a}=await Ze.request({url:"/companySettingOne",method:"GET",params:e});return a},update:async e=>{const{data:a}=await Ze.request({url:"/companySettings",method:"PUT",data:e});return a}});const Oo=Object(x.a)(e=>({autoComplete:{width:300},maxWidth:{width:"100%"},buttonColorError:{color:e.palette.error.main,borderColor:e.palette.error.main}}));var ko=e=>{let{modalOpen:a,onClose:t,ticketId:o,ticket:r}=e;const s=Object(f.useHistory)(),i=Oo(),[c,d]=Object(n.useState)(""),[m,u]=Object(n.useState)(!1),{user:p}=Object(n.useContext)(la),[g,E]=Object(n.useState)(!1),[b,h]=Object(n.useState)(""),[v,y]=Object(n.useState)(""),{setCurrentTicket:A}=Object(n.useContext)(Ka),{get:C}=To();Object(n.useEffect)(()=>{try{1===p.queues.length&&d(p.queues[0].id)}catch(e){u(!1),Ke(e)}},[c]);const x=()=>{t(),d("")},T=e=>{const a=Object(ka.a)(),{id:t,uuid:n}=e;A({id:t,uuid:n,code:a})},O=async e=>{u(!0);try{const a=await Ze.put("/tickets/".concat(o),{status:r.isGroup&&"whatsapp"===r.channel?"group":"open",userId:(null===p||void 0===p?void 0:p.id)||null,queueId:e});a.data.id!==r.id?a.data.userId!==(null===p||void 0===p?void 0:p.id)?(E(!0),h(a.data.user.name),y(a.data.queue.name)):(u(!1),T(a.data),s.push("/tickets/".concat(a.data.uuid))):((async e=>{var a;let t=!1;try{"enabled"===(await C({column:"sendGreetingAccepted"})).sendGreetingAccepted&&(t=!0)}catch(n){Ke(n)}if(t&&(!r.isGroup||"enabled"===(null===(a=r.whatsapp)||void 0===a?void 0:a.groupAsTicket))&&"pending"===r.status){const a="{{ms}} *{{name}}*, ".concat(Qe.a.t("mainDrawer.appBar.user.myName")," *").concat(null===p||void 0===p?void 0:p.name,"* ").concat(Qe.a.t("mainDrawer.appBar.user.continuity"),"."),t={read:1,fromMe:!0,mediaUrl:"",body:"*".concat(Qe.a.t("mainDrawer.appBar.user.virtualAssistant"),":*\n").concat(a.trim())};try{await Ze.post("/messages/".concat(e),t)}catch(n){Ke(n)}}})(r.id),u(!1),T(r),s.push("/tickets/".concat(r.uuid)),x())}catch(a){u(!1),Ke(a)}};return l.a.createElement(l.a.Fragment,null,l.a.createElement(bt.a,{open:a,onClose:x},l.a.createElement(vt.a,{id:"form-dialog-title"},Qe.a.t("ticketsList.acceptModal.title")),l.a.createElement(ht.a,{dividers:!0},l.a.createElement(xt.a,{variant:"outlined",className:i.maxWidth},l.a.createElement(Ct.a,null,Qe.a.t("ticketsList.acceptModal.queue")),l.a.createElement(At.a,{value:c,className:i.autoComplete,onChange:e=>d(e.target.value),label:Qe.a.t("ticketsList.acceptModal.queue")},l.a.createElement(F.a,{value:""},"\xa0"),p.queues.map(e=>l.a.createElement(F.a,{key:e.id,value:e.id},e.name))))),l.a.createElement(ft.a,null,l.a.createElement(gt.a,{onClick:x,className:i.buttonColorError,disabled:m,variant:"outlined"},Qe.a.t("ticketsList.buttons.cancel")),l.a.createElement(Kl,{variant:"contained",type:"button",disabled:""===c,onClick:()=>O(c),color:"primary",loading:m},Qe.a.t("ticketsList.buttons.start"))),l.a.createElement(co,{isOpen:g,handleClose:()=>{E(!1),u(!1)},user:b,queue:v})))};var So=()=>({findAll:async()=>{const{data:e}=await Ze.get("/queue");return e}});const wo=Object(x.a)(e=>({on:{color:Sa.a[600],fontSize:"20px"},off:{color:jn.a[600],fontSize:"20px"}}));var Mo=e=>{let{user:a}=e;const t=wo();return a.online?l.a.createElement(Ha.a,{title:"Online"},l.a.createElement(Na.a,{className:t.on})):l.a.createElement(Ha.a,{title:"Offline"},l.a.createElement(zn.a,{className:t.off}))};const Io=Object(x.a)(e=>({maxWidth:{width:"100%"}})),jo=Object(Ql.a)({trim:!0});var No=e=>{let{modalOpen:a,onClose:t,ticketid:o,ticket:r}=e;const s=Object(f.useHistory)(),[i,c]=Object(n.useState)([]),[d,m]=Object(n.useState)([]),[u,p]=Object(n.useState)([]),[g,E]=Object(n.useState)(!1),[b,h]=Object(n.useState)(""),[v,y]=Object(n.useState)(null),[A,C]=Object(n.useState)(""),{findAll:x}=(Io(),So()),T=Object(n.useRef)(!0),[O,k]=Object(n.useState)("");Object(n.useEffect)(()=>()=>{T.current=!1},[]),Object(n.useEffect)(()=>{if(T.current){(async()=>{const e=await x();p(e),m(e)})()}},[]),Object(n.useEffect)(()=>{if(!a||b.length<3)return E(!1),void C("");const e=setTimeout(()=>{E(!0);(async()=>{try{const{data:e}=await Ze.get("/users/",{params:{searchParam:b}});c(e.users),E(!1)}catch(e){E(!1),Ke(e)}})()},500);return()=>clearTimeout(e)},[b,a]);const S=()=>{t(),h(""),y(null)};return l.a.createElement(bt.a,{open:a,onClose:S,maxWidth:"md",fullWidth:!0,scroll:"paper"},l.a.createElement(vt.a,{id:"form-dialog-title"},Qe.a.t("transferTicketModal.title")),l.a.createElement(ht.a,{dividers:!0},l.a.createElement(it.a,{container:!0,spacing:2},l.a.createElement(it.a,{item:!0,xs:12,sm:6,xl:6},l.a.createElement(Gl.a,{fullWidth:!0,getOptionLabel:e=>"".concat(e.name),onChange:(e,a)=>{y(a),null!=a&&Array.isArray(a.queues)?(1===a.queues.length&&C(a.queues[0].id),m(a.queues)):(m(u),C(""))},options:i,filterOptions:jo,freeSolo:!0,autoHighlight:!0,noOptionsText:Qe.a.t("transferTicketModal.noOptions"),loading:g,renderOption:e=>l.a.createElement("span",null," ",l.a.createElement(Mo,{user:e})," ",e.name),renderInput:e=>l.a.createElement(Et.a,Object.assign({},e,{label:Qe.a.t("transferTicketModal.fieldLabel"),variant:"outlined",autoFocus:!0,onChange:e=>h(e.target.value),InputProps:{...e.InputProps,endAdornment:l.a.createElement(l.a.Fragment,null,g?l.a.createElement(yt.a,{color:"inherit",size:20}):null,e.InputProps.endAdornment)}}))})),l.a.createElement(it.a,{xs:12,sm:6,xl:6,item:!0},l.a.createElement(xt.a,{variant:"outlined",fullWidth:!0},l.a.createElement(Ct.a,null,Qe.a.t("transferTicketModal.fieldQueueLabel")),l.a.createElement(At.a,{value:A,onChange:e=>C(e.target.value),label:Qe.a.t("transferTicketModal.fieldQueuePlaceholder")},d.map(e=>l.a.createElement(F.a,{key:e.id,value:e.id},e.name)))))),l.a.createElement(it.a,{container:!0,spacing:2},l.a.createElement(it.a,{item:!0,xs:12,sm:12,xl:12},l.a.createElement(Et.a,{label:Qe.a.t("transferTicketModal.msgTransfer"),value:O,onChange:e=>{k(e.target.value)},variant:"outlined",multiline:!0,maxRows:5,minRows:5,fullWidth:!0})))),l.a.createElement(ft.a,null,l.a.createElement(gt.a,{onClick:S,color:"secondary",disabled:g,variant:"outlined"},Qe.a.t("transferTicketModal.buttons.cancel")),l.a.createElement(Kl,{variant:"contained",type:"submit",color:"primary",loading:g,disabled:""===A,onClick:()=>(async e=>{if(o&&A&&""!==A){E(!0);try{let e={};e.userId=v?v.id:null,e.status=v?r.isGroup?"group":"open":"pending",e.queueId=A,e.msgTransfer=O||null,e.isTransfered=!0,await Ze.put("/tickets/".concat(o),e),E(!1),s.push("/tickets/"),S()}catch(a){E(!1),Ke(a)}}})()},Qe.a.t("transferTicketModal.buttons.ok"))))},Ro=t(1750),Po=t(1751),Do=t(1752),Fo=t(1753),Lo=t(1825),qo=t(1826),Wo=t(1827),Bo=t(1616),zo=t(1812),Ho=t(1828);const Uo=Object(x.a)(e=>({ticket:{position:"relative"},pendingTicket:{cursor:"unset"},queueTag:{background:"#FCFCFC",color:"#000",marginRight:1,padding:1,fontWeight:"bold",borderRadius:3,fontSize:"0.5em",whiteSpace:"nowrap"},noTicketsDiv:{display:"flex",height:"100px",margin:40,flexDirection:"column",alignItems:"center",justifyContent:"center"},newMessagesCount:{justifySelf:"flex-end",textAlign:"right",position:"relative",top:0,color:"green",fontWeight:"bold",marginRight:"10px",borderRadius:0},noTicketsText:{textAlign:"center",color:"rgb(104, 121, 146)",fontSize:"14px",lineHeight:"1.4"},connectionTag:{background:"green",color:"#FFF",marginRight:1,padding:1,fontWeight:"bold",borderRadius:3,fontSize:"0.6em"},noTicketsTitle:{textAlign:"center",fontSize:"16px",fontWeight:"600",margin:"0px"},contactNameWrapper:{display:"flex",justifyContent:"space-between",marginLeft:"5px",fontWeight:"bold",color:"light"===e.mode?"black":"white"},lastMessageTime:{justifySelf:"flex-end",textAlign:"right",position:"relative",top:-30,marginRight:"1px",color:"light"===e.mode?"black":jn.a[400]},lastMessageTimeUnread:{justifySelf:"flex-end",textAlign:"right",position:"relative",top:-30,color:"green",fontWeight:"bold",marginRight:"1px"},closedBadge:{alignSelf:"center",justifySelf:"flex-end",marginRight:32,marginLeft:"auto"},contactLastMessage:{paddingRight:"0%",marginLeft:"5px",color:"light"===e.mode?"black":jn.a[400]},contactLastMessageUnread:{paddingRight:20,fontWeight:"bold",color:"light"===e.mode?"black":jn.a[400],width:"50%"},badgeStyle:{color:"white",backgroundColor:Sa.a[500]},acceptButton:{position:"absolute",right:"1px"},ticketQueueColor:{flex:"none",height:"100%",position:"absolute",top:"0%",left:"0%"},ticketInfo:{position:"relative",top:-13},secondaryContentSecond:{display:"flex",alignItems:"flex-start",flexWrap:"nowrap",flexDirection:"row",alignContent:"flex-start"},ticketInfo1:{position:"relative",top:13,right:0},Radiusdot:{"& .MuiBadge-badge":{borderRadius:2,position:"inherit",height:16,margin:2,padding:3},"& .MuiBadge-anchorOriginTopRightRectangle":{transform:"scale(1) translate(0%, -40%)"}},connectionIcon:{marginRight:e.spacing(1)}}));var Qo=e=>{var a,t,o,r,i,c,d;let{handleChangeTab:m,ticket:u}=e;const p=Uo(),g=Object(f.useHistory)(),[E,b]=Object(n.useState)(!1),[v,y]=Object(n.useState)(!1),[C,x]=Object(n.useState)(!1),[T,O]=Object(n.useState)(!1),[k,S]=Object(n.useState)(""),[w,M]=Object(n.useState)(""),{ticketId:I}=Object(f.useParams)(),j=Object(n.useRef)(!0),{setCurrentTicket:N}=Object(n.useContext)(Ka),{user:R}=Object(n.useContext)(la),{get:P}=To();Object(n.useEffect)(()=>()=>{j.current=!1},[]);const D=Object(n.useCallback)(()=>{y(!0)},[]),F=(e,a)=>{if(!Object(A.isNil)(e))return e.length>a?e.substring(0,a)+"...":e},L=Object(n.useCallback)(()=>{j.current&&x(!1)},[]),q=async e=>{b(!0);try{const n=await Ze.put("/tickets/".concat(e),{status:u.isGroup&&"whatsapp"===u.channel?"group":"open",userId:null===R||void 0===R?void 0:R.id});if(n.data.id!==u.id)n.data.userId!==(null===R||void 0===R?void 0:R.id)?(O(!0),S(n.data.user.name),M(n.data.queue.name)):(b(!1),m(null,u.isGroup?"group":"open"),z(n.data),g.push("/tickets/".concat(n.data.uuid)));else{var a;let e;try{e=await P({column:"sendGreetingAccepted"})}catch(t){Ke(t)}console.log(u),"enabled"!==e.sendGreetingAccepted||u.isGroup&&"enabled"!==(null===(a=u.whatsapp)||void 0===a?void 0:a.groupAsTicket)||W(u.id),j.current&&b(!1),m(null,u.isGroup?"group":"open"),z(u),g.push("/tickets/".concat(u.uuid))}}catch(t){b(!1),Ke(t)}},W=async e=>{const a="{{ms}} *{{name}}*, ".concat(Qe.a.t("mainDrawer.appBar.user.myName")," *").concat(null===R||void 0===R?void 0:R.name,"* ").concat(Qe.a.t("mainDrawer.appBar.user.continuity"),"."),t={read:1,fromMe:!0,mediaUrl:"",body:"*".concat(Qe.a.t("mainDrawer.appBar.user.virtualAssistant"),":*\n").concat(a.trim())};try{await Ze.post("/messages/".concat(e),t)}catch(n){Ke(n)}},B=Object(n.useCallback)(()=>{O(!1),b(!1)},[]),z=e=>{const a=Object(ka.a)(),{id:t,uuid:n}=e;N({id:t,uuid:n,code:a})};return l.a.createElement(l.a.Fragment,{key:u.id},T&&l.a.createElement(co,{isOpen:T,handleClose:B,user:k,queue:w}),v&&l.a.createElement(ko,{modalOpen:v,onClose:e=>y(!1),ticketId:u.id,ticket:u}),C&&l.a.createElement(No,{modalOpen:C,onClose:L,ticketid:u.id,ticket:u}),l.a.createElement(Lo.a,{dense:!0,onClick:e=>{z(u)},selected:I&&I===u.uuid,className:Object(h.a)(p.ticket,{[p.pendingTicket]:"pending"===u.status})},l.a.createElement(qo.a,{sx:{marginLeft:"-15px"}},l.a.createElement(yl.a,{sx:{width:"50px",height:"50px",borderRadius:"50%"},src:"".concat(null===u||void 0===u||null===(a=u.contact)||void 0===a?void 0:a.urlPicture)})),l.a.createElement(Wo.a,{disableTypography:!0,primary:l.a.createElement("span",{className:p.contactNameWrapper},l.a.createElement(Bo.a,{noWrap:!0,component:"span",variant:"body2"},u.isGroup&&"whatsapp"===u.channel&&l.a.createElement(Eo.a,{fontSize:"small",style:{color:jn.a[700],marginBottom:"-1px",marginLeft:"5px"}})," \xa0",u.channel&&l.a.createElement(xo,{width:"20",height:"20",className:p.connectionIcon,connectionType:u.channel})," \xa0",F(null===(t=u.contact)||void 0===t?void 0:t.name,60))),secondary:l.a.createElement("span",{className:p.contactNameWrapper},l.a.createElement(Bo.a,{className:Number(u.unreadMessages)>0?p.contactLastMessageUnread:p.contactLastMessage,noWrap:!0,component:"span",variant:"body2"},u.lastMessage?l.a.createElement(l.a.Fragment,null,u.lastMessage.includes("data:image/png;base64")?l.a.createElement(za,null,"Localiza\xe7\xe3o"):l.a.createElement(l.a.Fragment,null," ",u.lastMessage.includes("BEGIN:VCARD")?l.a.createElement(za,null,"Contato"):l.a.createElement(za,null,F(u.lastMessage,40)))):l.a.createElement("br",null),l.a.createElement("span",{className:p.secondaryContentSecond},(null===u||void 0===u?void 0:u.whatsapp)?l.a.createElement(zo.a,{className:p.connectionTag},null===(o=u.whatsapp)||void 0===o?void 0:o.name.toUpperCase()):l.a.createElement("br",null),l.a.createElement(zo.a,{sx:{backgroundColor:(null===(r=u.queue)||void 0===r?void 0:r.color)||"#7c7c7c"},className:p.connectionTag},u.queueId?null===(i=u.queue)||void 0===i?void 0:i.name.toUpperCase():"lgpd"===u.status?"LGPD":"SEM FILA"),(null===u||void 0===u?void 0:u.user)&&l.a.createElement(zo.a,{sx:{backgroundColor:"#000000"},className:p.connectionTag},null===(c=u.user)||void 0===c?void 0:c.name.toUpperCase())),l.a.createElement("span",{className:p.secondaryContentSecond},null===(d=u.tags)||void 0===d?void 0:d.map(e=>l.a.createElement(ho,{tag:e,key:"ticket-contact-tag-".concat(u.id,"-").concat(e.id)})))),l.a.createElement(zo.a,{className:p.newMessagesCount,badgeContent:u.unreadMessages,classes:{badge:p.badgeStyle}}))}),l.a.createElement(Ho.a,null,u.lastMessage&&l.a.createElement(l.a.Fragment,null,l.a.createElement(Bo.a,{className:Number(u.unreadMessages)>0?p.lastMessageTimeUnread:p.lastMessageTime,component:"span",variant:"body2"},Object(Ca.a)(Object(xa.a)(u.updatedAt),new Date)?l.a.createElement(l.a.Fragment,null,Object(fa.a)(Object(xa.a)(u.updatedAt),"HH:mm")):l.a.createElement(l.a.Fragment,null,Object(fa.a)(Object(xa.a)(u.updatedAt),"dd/MM/yyyy"))),l.a.createElement("br",null))),l.a.createElement(Ho.a,null,l.a.createElement("span",{className:p.secondaryContentSecond},"pending"===u.status&&(null===u.queueId||void 0===u.queueId)&&l.a.createElement(Kl,{style:{backgroundColor:"transparent",boxShadow:"none",border:"none",color:"green",padding:"0px",borderRadius:"50%",right:"51px",fontSize:"0.6rem",bottom:"-30px",minWidth:"2em",width:"auto"},variant:"contained",className:p.acceptButton,size:"small",loading:E,onClick:e=>D()},l.a.createElement(Ha.a,{title:"".concat(Qe.a.t("ticketsList.buttons.accept"))},l.a.createElement(Ro.a,null)))),l.a.createElement("span",{className:p.secondaryContentSecond},"pending"===u.status&&null!==u.queueId&&l.a.createElement(Kl,{style:{backgroundColor:"transparent",boxShadow:"none",border:"none",color:"green",padding:"0px",borderRadius:"50%",right:"51px",fontSize:"0.6rem",bottom:"-30px",minWidth:"2em",width:"auto"},variant:"contained",className:p.acceptButton,size:"small",loading:E,onClick:e=>q(u.id)},l.a.createElement(Ha.a,{title:"".concat(Qe.a.t("ticketsList.buttons.accept"))},l.a.createElement(Ro.a,null)))),l.a.createElement("span",{className:p.secondaryContentSecond1},("pending"===u.status||"open"===u.status||"group"===u.status)&&l.a.createElement(Kl,{style:{backgroundColor:"transparent",boxShadow:"none",border:"none",color:"purple",padding:"0px",borderRadius:"50%",right:"26px",position:"absolute",fontSize:"0.6rem",bottom:"-30px",minWidth:"2em",width:"auto"},variant:"contained",className:p.acceptButton,size:"small",loading:E,onClick:()=>{b(!0),x(!0),j.current&&b(!1),z(u),g.push("/tickets/".concat(u.uuid))}},l.a.createElement(Ha.a,{title:"".concat(Qe.a.t("ticketsList.buttons.transfer"))},l.a.createElement(Po.a,null)))),l.a.createElement("span",{className:p.secondaryContentSecond},("open"===u.status||"group"===u.status)&&l.a.createElement(Kl,{style:{backgroundColor:"transparent",boxShadow:"none",border:"none",color:"red",padding:"0px",bottom:"0px",borderRadius:"50%",right:"1px",fontSize:"0.6rem",bottom:"-30px",minWidth:"2em",width:"auto"},variant:"contained",className:p.acceptButton,size:"small",loading:E,onClick:e=>(async e=>{if("enabled"===(await P({column:"requiredTag"})).requiredTag)try{(await Ze.get("/contactTags/".concat(u.contact.id))).data.tags?(await Ze.put("/tickets/".concat(e),{status:"closed",userId:(null===R||void 0===R?void 0:R.id)||null}),j.current&&b(!1),g.push("/tickets/")):s.b.warning(Qe.a.t("messagesList.header.buttons.requiredTag"))}catch(a){b(!1),Ke(a)}else{b(!0);try{await Ze.put("/tickets/".concat(e),{status:"closed",userId:(null===R||void 0===R?void 0:R.id)||null})}catch(a){b(!1),Ke(a)}j.current&&b(!1),g.push("/tickets/")}})(u.id)},l.a.createElement(Ha.a,{title:"".concat(Qe.a.t("ticketsList.buttons.closed"))},l.a.createElement(Do.a,null)))),l.a.createElement("span",{className:p.secondaryContentSecond},("pending"===u.status||"lgpd"===u.status)&&("enabled"===R.userClosePendingTicket||"admin"===R.profile)&&l.a.createElement(Kl,{style:{backgroundColor:"transparent",boxShadow:"none",border:"none",color:"red",padding:"0px",bottom:"0px",borderRadius:"50%",right:"1px",fontSize:"0.6rem",bottom:"-30px",minWidth:"2em",width:"auto"},variant:"contained",className:p.acceptButton,size:"small",loading:E,onClick:e=>(async e=>{b(!0);try{await Ze.put("/tickets/".concat(e),{status:"closed",userId:(null===R||void 0===R?void 0:R.id)||null,sendFarewellMessage:!1,amountUsedBotQueues:0})}catch(a){b(!1),Ke(a)}j.current&&b(!1),g.push("/tickets/")})(u.id)},l.a.createElement(Ha.a,{title:"".concat(Qe.a.t("ticketsList.buttons.ignore"))},l.a.createElement(Do.a,null)))),l.a.createElement("span",{className:p.secondaryContentSecond},"closed"===u.status&&(null===u.queueId||void 0===u.queueId)&&l.a.createElement(Kl,{style:{backgroundColor:"transparent",boxShadow:"none",border:"none",color:"orange",padding:"0px",bottom:"0px",borderRadius:"50%",right:"1px",fontSize:"0.6rem",bottom:"-30px",minWidth:"2em",width:"auto"},variant:"contained",className:p.acceptButton,size:"small",loading:E,onClick:e=>D()},l.a.createElement(Ha.a,{title:"".concat(Qe.a.t("ticketsList.buttons.reopen"))},l.a.createElement(Fo.a,null)))),l.a.createElement("span",{className:p.secondaryContentSecond},"closed"===u.status&&null!==u.queueId&&l.a.createElement(Kl,{style:{backgroundColor:"transparent",boxShadow:"none",border:"none",color:"orange",padding:"0px",bottom:"0px",borderRadius:"50%",right:"1px",fontSize:"0.6rem",bottom:"-30px",minWidth:"2em",width:"auto"},variant:"contained",className:p.acceptButton,size:"small",loading:E,onClick:e=>q(u.id)},l.a.createElement(Ha.a,{title:"".concat(Qe.a.t("ticketsList.buttons.reopen"))},l.a.createElement(Fo.a,null)))))))};var Go=()=>l.a.createElement(l.a.Fragment,null,l.a.createElement(G.a,{dense:!0},l.a.createElement(wa.a,null,l.a.createElement(Wn.a,{animation:"wave",variant:"circle",width:40,height:40})),l.a.createElement(K.a,{primary:l.a.createElement(Wn.a,{animation:"wave",height:20,width:60}),secondary:l.a.createElement(Wn.a,{animation:"wave",height:20,width:90})})),l.a.createElement(j.a,{variant:"inset"}),l.a.createElement(G.a,{dense:!0},l.a.createElement(wa.a,null,l.a.createElement(Wn.a,{animation:"wave",variant:"circle",width:40,height:40})),l.a.createElement(K.a,{primary:l.a.createElement(Wn.a,{animation:"wave",height:20,width:70}),secondary:l.a.createElement(Wn.a,{animation:"wave",height:20,width:120})})),l.a.createElement(j.a,{variant:"inset"}),l.a.createElement(G.a,{dense:!0},l.a.createElement(wa.a,null,l.a.createElement(Wn.a,{animation:"wave",variant:"circle",width:40,height:40})),l.a.createElement(K.a,{primary:l.a.createElement(Wn.a,{animation:"wave",height:20,width:60}),secondary:l.a.createElement(Wn.a,{animation:"wave",height:20,width:90})})),l.a.createElement(j.a,{variant:"inset"}));const Vo=Object(x.a)(e=>({ticketsListWrapper:{position:"relative",display:"flex",height:"100%",flexDirection:"column",overflow:"hidden",borderTopRightRadius:0,borderBottomRightRadius:0},ticketsList:{flex:1,maxHeight:"100%",overflowY:"scroll",...e.scrollbarStyles,borderTop:"2px solid rgba(0, 0, 0, 0.12)"},ticketsListHeader:{color:"rgb(67, 83, 105)",zIndex:2,backgroundColor:"white",borderBottom:"1px solid rgba(0, 0, 0, 0.12)",display:"flex",alignItems:"center",justifyContent:"space-between"},ticketsCount:{fontWeight:"normal",color:"rgb(104, 121, 146)",marginLeft:"8px",fontSize:"14px"},noTicketsText:{textAlign:"center",color:"rgb(104, 121, 146)",fontSize:"14px",lineHeight:"1.4"},noTicketsTitle:{textAlign:"center",fontSize:"16px",fontWeight:"600",margin:"0px"},noTicketsDiv:{display:"flex",margin:40,flexDirection:"column",alignItems:"center",justifyContent:"center"}})),Ko=(e,a)=>{if("LOAD_TICKETS"===a.type){return a.payload.forEach(a=>{const t=e.findIndex(e=>e.id===a.id);-1!==t?(e[t]=a,a.unreadMessages>0&&e.unshift(e.splice(t,1)[0])):e.push(a)}),[...e]}if("RESET_UNREAD"===a.type){const t=a.payload,n=e.findIndex(e=>e.id===t);return-1!==n&&(e[n].unreadMessages=0),[...e]}if("UPDATE_TICKET"===a.type){const t=a.payload,n=e.findIndex(e=>e.id===t.id);return-1!==n?e[n]=t:e.unshift(t),[...e]}if("UPDATE_TICKET_UNREAD_MESSAGES"===a.type){const t=a.payload,n=e.findIndex(e=>e.id===t.id);return-1!==n?(e[n]=t,e.unshift(e.splice(n,1)[0])):e.unshift(t),[...e]}if("UPDATE_TICKET_CONTACT"===a.type){const t=a.payload,n=e.findIndex(e=>e.contactId===t.id);return-1!==n&&(e[n].contact=t),[...e]}if("DELETE_TICKET"===a.type){const t=a.payload,n=e.findIndex(e=>e.id===t);return-1!==n&&e.splice(n,1),[...e]}if("RESET"===a.type)return[]};var _o=e=>{const{handleChangeTab:a,status:t,searchParam:o,tags:r,users:s,showAll:i,selectedQueueIds:c,updateCount:d,style:m,whatsappIds:u,forceSearch:p,statusFilter:g,userFilter:E}=e,b=Vo(),[f,h]=Object(n.useState)(1),[v,y]=Object(n.useReducer)(Ko,[]),{user:A}=Object(n.useContext)(la),{profile:C,queues:x}=A,T="enable"===A.allTicket;A.allHistoric,A.allowGroup;Object(n.useEffect)(()=>{y({type:"RESET"}),h(1)},[t,o,y,i,r,s,p,c,u,g]);const{tickets:O,hasMore:k,loading:S}=$a({pageNumber:f,searchParam:o,status:t,showAll:i,tags:JSON.stringify(r),users:JSON.stringify(s),queueIds:JSON.stringify(c),whatsappIds:JSON.stringify(u),statusFilter:JSON.stringify(g),userFilter:E});Object(n.useEffect)(()=>{y({type:"LOAD_TICKETS",payload:O})},[O]),Object(n.useEffect)(()=>{const e=A.companyId,a=e=>(!(null===e||void 0===e?void 0:e.userId)||(null===e||void 0===e?void 0:e.userId)===(null===A||void 0===A?void 0:A.id)||i)&&(!(null===e||void 0===e?void 0:e.queueId)||c.indexOf(null===e||void 0===e?void 0:e.queueId)>-1),n=e=>c.indexOf(null===e||void 0===e?void 0:e.queueId)>-1&&((null===e||void 0===e?void 0:e.userId)===(null===A||void 0===A?void 0:A.id)||!(null===e||void 0===e?void 0:e.userId)),l=aa({companyId:e,userId:A.id});return l.on("connect",()=>{t?l.emit("joinTickets",t):l.emit("joinNotification")}),l.on("company-".concat(e,"-ticket"),e=>{var t;"updateUnread"===e.action&&y({type:"RESET_UNREAD",payload:e.ticketId}),("update"!==e.action||"admin"!==A.profile&&!T?n(e.ticket):a(e.ticket))&&y({type:"UPDATE_TICKET",payload:e.ticket}),"update"===e.action&&((t=e.ticket).queueId&&-1===c.indexOf(t.queueId))&&y({type:"DELETE_TICKET",payload:e.ticket.id}),"delete"===e.action&&y({type:"DELETE_TICKET",payload:e.ticketId})}),l.on("company-".concat(e,"-appMessage"),e=>{var t;const l=x.map(e=>e.id);("user"!==C||-1!==l.indexOf(null===(t=e.ticket.queue)||void 0===t?void 0:t.id)&&null!==e.ticket.queue)&&("create"!==e.action||"admin"!==A.profile&&!T?n(e.ticket):a(e.ticket))&&y({type:"UPDATE_TICKET_UNREAD_MESSAGES",payload:e.ticket})}),l.on("company-".concat(e,"-contact"),e=>{"update"===e.action&&y({type:"UPDATE_TICKET_CONTACT",payload:e.contact})}),()=>{l.disconnect()}},[t,o,i,A,c,r,s,C,x,u,g,T]),Object(n.useEffect)(()=>{"function"===typeof d&&d(v.length)},[v]);return l.a.createElement(St.a,{className:b.ticketsListWrapper,style:m},l.a.createElement(St.a,{square:!0,name:"closed",elevation:0,className:b.ticketsList,onScroll:e=>{if(!k||S)return;const{scrollTop:a,scrollHeight:t,clientHeight:n}=e.currentTarget;t-(a+100)<n&&h(e=>e+1)}},l.a.createElement(I.a,{style:{paddingTop:0}},0!==v.length||S?l.a.createElement(l.a.Fragment,null,v.map(e=>l.a.createElement(Qo,{ticket:e,key:e.id,handleChangeTab:a}))):l.a.createElement("div",{className:b.noTicketsDiv},l.a.createElement("span",{className:b.noTicketsTitle},Qe.a.t("ticketsList.noTicketsTitle")),l.a.createElement("p",{className:b.noTicketsText},Qe.a.t("ticketsList.noTicketsMessage"))),S&&l.a.createElement(Go,null))))},Yo=t(1596);const Xo=Object(x.a)(e=>({menuListItem:{paddingTop:0,paddingBottom:0},menuItem:{maxHeight:30}}));var Jo=e=>{let{userQueues:a,selectedQueueIds:t=[],onChange:n}=e;const o=Xo();return l.a.createElement("div",{style:{width:120,marginTop:-4}},l.a.createElement(xt.a,{fullWidth:!0,margin:"dense"},l.a.createElement(At.a,{multiple:!0,displayEmpty:!0,variant:"outlined",value:t,onChange:e=>{n(e.target.value)},style:{borderRadius:8,height:30},MenuProps:{anchorOrigin:{vertical:"bottom",horizontal:"center"},transformOrigin:{vertical:"top",horizontal:"center"},getContentAnchorEl:null,PaperProps:{style:{borderRadius:"0 0 8px 8px"}},MenuListProps:{className:o.menuListItem}},renderValue:()=>Qe.a.t("ticketsQueueSelect.placeholder")},(null===a||void 0===a?void 0:a.length)>0&&a.map(e=>l.a.createElement(F.a,{dense:!0,key:e.id,value:e.id,className:o.menuItem},l.a.createElement(Yo.a,{style:{color:e.color},size:"small",color:"primary",checked:t.indexOf(e.id)>-1}),l.a.createElement(K.a,{primary:e.name,classes:{primary:o.listItemText}}))))))},Zo=t(713);function $o(e){let{onFiltered:a}=e;const[t,o]=Object(n.useState)([]),[r,s]=Object(n.useState)([]);Object(n.useEffect)(()=>{!async function(){await i()}()},[]);const i=async()=>{try{const{data:e}=await Ze.get("/tags/list");o(e)}catch(e){Ke(e)}};return l.a.createElement(Zo.a,{style:{padding:10}},l.a.createElement(Gl.a,{multiple:!0,size:"small",options:t,value:r,onChange:(e,t,n)=>(async e=>{s(e),a(e)})(t),getOptionLabel:e=>e.name,renderTags:(e,a)=>e.map((e,t)=>l.a.createElement(Tt.a,Object.assign({variant:"outlined",style:{backgroundColor:e.color||"#eee",textShadow:"1px 1px 1px #000",color:"white"},label:e.name},a({index:t}),{size:"small"}))),renderInput:e=>l.a.createElement(Et.a,Object.assign({},e,{variant:"outlined",placeholder:"Filtro por Tags"}))}))}function er(e){let{onFiltered:a,initialUsers:t}=e;const[o,r]=Object(n.useState)([]),[s,i]=Object(n.useState)([]);Object(n.useEffect)(()=>{!async function(){await c()}()},[]),Object(n.useEffect)(()=>{i([]),Array.isArray(t)&&Array.isArray(o)&&o.length>0&&d(t)},[t,o]);const c=async()=>{try{const{data:e}=await Ze.get("/users/list"),a=e.map(e=>({id:e.id,name:e.name}));r(a)}catch(e){Ke(e)}},d=async e=>{i(e),a(e)};return l.a.createElement(Zo.a,{style:{padding:"0px 10px 10px"}},l.a.createElement(Gl.a,{multiple:!0,size:"small",options:o,value:s,onChange:(e,a,t)=>d(a),getOptionLabel:e=>e.name,getOptionSelected:(e,a)=>(null===e||void 0===e?void 0:e.id)===(null===a||void 0===a?void 0:a.id)||(null===e||void 0===e?void 0:e.name.toLowerCase())===(null===a||void 0===a?void 0:a.name.toLowerCase()),renderTags:(e,a)=>e.map((e,t)=>l.a.createElement(Tt.a,Object.assign({variant:"outlined",style:{backgroundColor:"#bfbfbf",textShadow:"1px 1px 1px #000",color:"white"},label:e.name},a({index:t}),{size:"small"}))),renderInput:e=>l.a.createElement(Et.a,Object.assign({},e,{variant:"outlined",placeholder:Qe.a.t("tickets.search.filterUsers")}))}))}function ar(e){let{onFiltered:a}=e;const[t,o]=Object(n.useState)([]);Object(n.useEffect)(()=>{!async function(){}()},[]);const r=[{status:"open",name:"".concat(Qe.a.t("tickets.search.filterConectionsOptions.open"))},{status:"closed",name:"".concat(Qe.a.t("tickets.search.filterConectionsOptions.closed"))},{status:"pending",name:"".concat(Qe.a.t("tickets.search.filterConectionsOptions.pending"))},{status:"group",name:"Grupos"}];return l.a.createElement(Zo.a,{style:{padding:"0px 10px 10px"}},l.a.createElement(Gl.a,{multiple:!0,size:"small",options:r,value:t,onChange:(e,t,n)=>(async e=>{o(e),a(e)})(t),getOptionLabel:e=>e.name,renderTags:(e,a)=>e.map((e,t)=>l.a.createElement(Tt.a,Object.assign({variant:"outlined",style:{backgroundColor:e.color||"#eee",textShadow:"1px 1px 1px #000",color:"white"},label:e.name},a({index:t}),{size:"small"}))),renderInput:e=>l.a.createElement(Et.a,Object.assign({},e,{variant:"outlined",placeholder:"Filtro por Status"}))}))}function tr(e){let{onFiltered:a,initialWhatsapps:t}=e;const[o,r]=Object(n.useState)([]),[s,i]=Object(n.useState)([]);Object(n.useEffect)(()=>{!async function(){await c()}()},[]),Object(n.useEffect)(()=>{i([]),Array.isArray(t)&&Array.isArray(o)&&o.length>0&&d(t)},[t,o]);const c=async()=>{try{const{data:e}=await Ze.get("/whatsapp"),a=e.map(e=>({id:e.id,name:e.name,channel:e.channel}));r(a)}catch(e){Ke(e)}},d=async e=>{i(e),a(e)};return l.a.createElement(Zo.a,{style:{padding:"0px 10px 10px"}},l.a.createElement(Gl.a,{multiple:!0,size:"small",options:o,value:s,onChange:(e,a,t)=>d(a),getOptionLabel:e=>e.name,getOptionSelected:(e,a)=>(null===e||void 0===e?void 0:e.id)===(null===a||void 0===a?void 0:a.id)||(null===e||void 0===e?void 0:e.name.toLowerCase())===(null===a||void 0===a?void 0:a.name.toLowerCase()),renderTags:(e,a)=>e.map((e,t)=>l.a.createElement(Tt.a,Object.assign({variant:"outlined",style:{backgroundColor:"#bfbfbf",textShadow:"1px 1px 1px #000",color:"white"},label:e.name},a({index:t}),{size:"small"}))),renderInput:e=>l.a.createElement(Et.a,Object.assign({},e,{variant:"outlined",placeholder:Qe.a.t("tickets.search.filterConections")}))}))}var nr=t(1194);const lr=Object(n.createContext)(),or=e=>{let{children:a}=e;const[t,o]=Object(n.useState)([]);return l.a.createElement(lr.Provider,{value:{selectedQueuesMessage:t,setSelectedQueuesMessage:o}},a)},rr=Object(x.a)(e=>({ticketsWrapper:{position:"relative",display:"flex",height:"100%",flexDirection:"column",overflow:"hidden",borderTopRightRadius:0,borderBottomRightRadius:0},tabsHeader:{minWidth:"auto",width:"auto",borderRadius:8,marginTop:e.spacing(.5),marginBottom:e.spacing(.5),marginLeft:e.spacing(.5),marginRight:e.spacing(.5)},settingsIcon:{alignSelf:"center",marginLeft:"auto",padding:e.spacing(1)},tab:{minWidth:"auto",width:"auto",padding:e.spacing(.5,1),borderRadius:8,transition:"0.3s",borderColor:"#aaa",borderWidth:"1px",borderStyle:"solid",marginRight:e.spacing(.5),marginLeft:e.spacing(.5),[e.breakpoints.down("lg")]:{fontSize:"0.9rem",padding:e.spacing(.4,.8),marginRight:e.spacing(.4),marginLeft:e.spacing(.4)},[e.breakpoints.down("md")]:{fontSize:"0.8rem",padding:e.spacing(.3,.6),marginRight:e.spacing(.3),marginLeft:e.spacing(.3)},"&:hover":{backgroundColor:"rgba(0, 0, 0, 0.1)"},"&$selected":{color:"#FFF",backgroundColor:e.palette.primary.main}},tabPanelItem:{minWidth:"33%",fontSize:11,marginLeft:0},tabIndicator:{height:6,bottom:0,borderRadius:"0 0 8px 8px",backgroundColor:"light"===e.mode?"#065183":"#FFF"},tabsBadge:{top:"105%",right:"55%",transform:"translate(45%, 0)",whiteSpace:"nowrap",borderRadius:"12px",padding:"0 8px",backgroundColor:"light"===e.mode?"#065183":"#FFF",color:"light"===e.mode?"#FFF":"#065183"},ticketOptionsBox:{display:"flex",justifyContent:"space-between",alignItems:"center",background:e.palette.optionsBackground,borderRadius:8,borderColor:"#aaa",borderWidth:"1px",borderStyle:"solid",marginTop:e.spacing(.5),marginBottom:e.spacing(1),marginLeft:e.spacing(1),marginRight:e.spacing(1),padding:e.spacing(.5)},serachInputWrapper:{flex:1,height:40,background:e.palette.total,display:"flex",borderRadius:40,padding:4,borderColor:"#aaa",borderWidth:"1px",borderStyle:"solid",marginTop:e.spacing(.5),marginBottom:e.spacing(.5),marginLeft:e.spacing(.5),marginRight:e.spacing(.5)},searchIcon:{color:"grey",marginLeft:6,marginRight:6,alignSelf:"center"},searchInput:{flex:1,border:"none",borderRadius:30},badge:{},customBadge:{right:"-10px",backgroundColor:"#f44336",color:"#fff"},show:{display:"block"},hide:{display:"none !important"},closeAllFab:{backgroundColor:"red",marginBottom:"4px","&:hover":{backgroundColor:"darkred"}},speedDial:{position:"absolute",bottom:e.spacing(1),right:e.spacing(1),"& .MuiFab-root":{width:"40px",height:"40px",marginTop:"4px"},"& .MuiFab-label":{width:"100%",height:"100%",display:"flex",alignItems:"center",justifyContent:"center"}},snackbar:{display:"flex",justifyContent:"space-between",backgroundColor:e.palette.primary.main,color:"white",borderRadius:30,[e.breakpoints.down("sm")]:{fontSize:"0.8em"},[e.breakpoints.up("md")]:{fontSize:"1em"}},yesButton:{backgroundColor:"#FFF",color:"rgba(0, 100, 0, 1)",padding:"4px 4px",fontSize:"1em",fontWeight:"bold",textTransform:"uppercase",marginRight:e.spacing(1),"&:hover":{backgroundColor:"darkGreen",color:"#FFF"},borderRadius:30},noButton:{backgroundColor:"#FFF",color:"rgba(139, 0, 0, 1)",padding:"4px 4px",fontSize:"1em",fontWeight:"bold",textTransform:"uppercase","&:hover":{backgroundColor:"darkRed",color:"#FFF"},borderRadius:30},filterIcon:{marginRight:6,alignSelf:"center",color:"light"===e.mode?"#0872b9":"#FFF",cursor:"pointer"},button:{height:30,width:30,border:"2px solid",borderColor:"#aaa",borderRadius:8,marginRight:8,"&:hover":{borderColor:"light"===e.mode?"#065183":"#FFF"}},icon:{color:"#aaa","&:hover":{color:"light"===e.mode?"#065183":"#FFF"}},buttonOpen:{"& $icon":{color:"light"===e.mode?"#065183":"#FFF"}}}));var sr=()=>{const e=Object(S.a)(),a=rr(),t=Object(f.useHistory)(),[o,r]=Object(n.useState)(""),[s,i]=Object(n.useState)("open"),[c,d]=Object(n.useState)("open"),[m,u]=Object(n.useState)(!1),[p,g]=Object(n.useState)(!1),E=Object(n.useRef)(),{user:b}=Object(n.useContext)(la),{profile:h}=b,{setSelectedQueuesMessage:v}=Object(n.useContext)(lr),[y,A]=Object(n.useState)(0),[C,x]=Object(n.useState)(0),[T,k]=Object(n.useState)(0),w=b.queues.map(e=>e.id),[I,j]=Object(n.useState)(w||[]),[N,R]=Object(n.useState)([]),[D,F]=Object(n.useState)([]),[L,q]=Object(n.useState)([]),[W,B]=Object(n.useState)(!1),[z,H]=Object(n.useState)([]),[U,Q]=Object(n.useState)(!1),[G,V]=Object(n.useState)(!1),[K,_]=Object(n.useState)(null),[Y,X]=Object(n.useState)(!1),[J,Z]=Object(n.useState)(!1),[$,ee]=Object(n.useState)(!1),[ae,te]=Object(n.useState)(!1),[ne,le]=Object(n.useState)(!1),[oe,re]=Object(n.useState)(!1),{setCurrentTicket:se}=Object(n.useContext)(Ka);let ie;Object(n.useEffect)(()=>{v(I)},[I]),Object(n.useEffect)(()=>{"ADMIN"!==b.profile.toUpperCase()&&"ENABLED"!==b.allUserChat.toUpperCase()||g(!1)},[]),Object(n.useEffect)(()=>{"search"===s&&E.current.focus(),B(!W)},[s]);const ce=(e,a)=>{i(a)},de=(e,a)=>{"pending"!==a&&"group"!==a||t.push("/tickets"),d(a)},me=e=>{if(c!==e)return{width:0,height:0}},ue=()=>{V(!1)},pe=e=>{u(!1),void 0!==e&&void 0!==e.uuid&&((e=>{const a=Object(ka.a)(),{id:t,uuid:n}=e;se({id:t,uuid:n,code:a})})(e),t.push("/tickets/".concat(e.uuid)))},ge=()=>{U?(Q(!1),i("open")):Q(!0),i("search")},[Ee,be]=l.a.useState(!1),[fe,he]=l.a.useState(!1);return l.a.createElement(St.a,{elevation:0,variant:"outlined",className:a.ticketsWrapper},l.a.createElement(po,{modalOpen:m,onClose:e=>{pe(e)}}),l.a.createElement("div",{className:a.serachInputWrapper},l.a.createElement(wl.a,{className:a.searchIcon}),l.a.createElement(Sl.a,{className:a.searchInput,inputRef:E,placeholder:Qe.a.t("tickets.search.placeholder"),type:"search",onChange:e=>{const a=e.target.value.toLowerCase();if(clearTimeout(ie),""===a)return r(a),B(!W),void i("open");"search"!==s&&(ge(),i("search")),ie=setTimeout(()=>{r(a),B(!W)},500)}}),l.a.createElement(M.a,{style:{backgroundColor:"transparent",boxShadow:"none",border:"none",borderRadius:"50%",justifyContent:"flex-end",alignItems:"center"},variant:"contained","aria-label":"filter",className:a.filterIcon,onClick:()=>{re(e=>!e),ge()}},oe?l.a.createElement(zl.a,{className:a.icon}):l.a.createElement(Ul.a,{className:a.icon}))),!0===U&&l.a.createElement(l.a.Fragment,null,l.a.createElement($o,{onFiltered:e=>{const a=e.map(e=>e.id);clearTimeout(ie),0===a.length?B(!W):"search"!==s&&i("search"),ie=setTimeout(()=>{R(a),B(!W)},500)}}),l.a.createElement(tr,{onFiltered:e=>{const a=e.map(e=>e.id);clearTimeout(ie),0===a.length?B(!W):"search"!==s&&i("search"),ie=setTimeout(()=>{q(a),B(!W)},500)}}),l.a.createElement(ar,{onFiltered:e=>{const a=e.map(e=>e.status);clearTimeout(ie),0===a.length?B(!W):"search"!==s&&i("search"),ie=setTimeout(()=>{H(a),B(!W)},500)}}),"admin"===h&&l.a.createElement(l.a.Fragment,null,l.a.createElement(er,{onFiltered:e=>{const a=e.map(e=>e.id);clearTimeout(ie),0===a.length?B(!W):"search"!==s&&i("search"),ie=setTimeout(()=>{F(a),B(!W)},500)}}))),l.a.createElement(St.a,{square:!0,elevation:0,className:a.ticketOptionsBox},l.a.createElement(it.a,{container:!0,alignItems:"center",justifyContent:"space-between"},l.a.createElement(it.a,{item:!0},l.a.createElement(ma,{role:"enabled"===b.allUserChat&&"user"===b.profile?"admin":b.profile,perform:"tickets-manager:showall",yes:()=>l.a.createElement(O.a,{color:"primary",invisible:!Y||J||$||ae||ne,badgeContent:"Todos",classes:{badge:a.tabsBadge}},l.a.createElement(Ll.a,{onMouseEnter:()=>X(!0),onMouseLeave:()=>X(!1),className:a.button,value:"uncheck",selected:p,onChange:()=>g(e=>!e)},p?l.a.createElement(Ia.a,{className:a.icon}):l.a.createElement(Fl.a,{className:a.icon})))}),l.a.createElement(nr.a,{open:G,onClose:ue,message:Qe.a.t("tickets.inbox.closedAllTickets"),ContentProps:{className:a.snackbar},action:l.a.createElement(l.a.Fragment,null,l.a.createElement(gt.a,{className:a.yesButton,size:"small",onClick:async()=>{try{const{data:e}=await Ze.post("/tickets/closeAll",{status:c,selectedQueueIds:I});ue()}catch(e){console.log("Error: ",e)}}},Qe.a.t("tickets.inbox.yes")),l.a.createElement(gt.a,{className:a.noButton,size:"small",onClick:ue},Qe.a.t("tickets.inbox.no")))}),l.a.createElement(O.a,{color:"primary",invisible:Y||!J||$||ae||ne,badgeContent:Qe.a.t("tickets.inbox.newTicket"),classes:{badge:a.tabsBadge}},l.a.createElement(M.a,{onMouseEnter:()=>Z(!0),onMouseLeave:()=>Z(!1),className:a.button,onClick:()=>{u(!0)}},l.a.createElement(Ml.a,{className:a.icon}))),"admin"===b.profile&&l.a.createElement(O.a,{color:"primary",invisible:Y||J||!$||ae||ne,badgeContent:Qe.a.t("tickets.inbox.closedAll"),classes:{badge:a.tabsBadge}},l.a.createElement(M.a,{onMouseEnter:()=>ee(!0),onMouseLeave:()=>ee(!1),className:a.button,onClick:()=>{V(!0)}},l.a.createElement(Wl.a,{style:{color:"green"}}))),l.a.createElement(O.a,{color:"primary",invisible:!("open"===s&&!Y&&!J&&!$&&!ne)&&!ae,badgeContent:Qe.a.t("tickets.inbox.open"),classes:{badge:a.tabsBadge}},l.a.createElement(M.a,{onMouseEnter:()=>{te(!0),_("open")},onMouseLeave:()=>{te(!1),_(null)},style:{height:30,width:30,border:ae||"open"===s?"light"===e.mode?"3px solid #065183":"3px solid #FFF":(e.mode,"2px solid #aaa"),borderRadius:8,marginRight:8},onClick:()=>ce(0,"open")},l.a.createElement(Il.a,{style:{color:ae||"open"===s?"light"===e.mode?"#065183":"#FFF":"#aaa"}}))),l.a.createElement(O.a,{color:"primary",invisible:!("closed"===s&&!Y&&!J&&!$&&!ae)&&!ne,badgeContent:Qe.a.t("tickets.inbox.resolverd"),classes:{badge:a.tabsBadge}},l.a.createElement(M.a,{onMouseEnter:()=>{le(!0),_("closed")},onMouseLeave:()=>{le(!1),_(null)},style:{height:30,width:30,border:ne||"closed"===s?"light"===e.mode?"3px solid #065183":"3px solid #FFF":(e.mode,"2px solid #aaa"),borderRadius:8,marginRight:8},onClick:()=>ce(0,"closed")},l.a.createElement(jl.a,{style:{color:ne||"closed"===s?"light"===e.mode?"#065183":"#FFF":"#aaa"}})))),l.a.createElement(it.a,{item:!0},l.a.createElement(Jo,{selectedQueueIds:I,userQueues:null===b||void 0===b?void 0:b.queues,onChange:e=>j(e)})))),l.a.createElement(Rt,{value:s,name:"open",className:a.ticketsWrapper},l.a.createElement(wt.a,{value:c,onChange:de,indicatorColor:"primary",textColor:"primary",variant:"fullWidth"},l.a.createElement(Mt.a,{label:l.a.createElement(it.a,{container:!0,alignItems:"center",justifyContent:"center"},l.a.createElement(it.a,{item:!0},l.a.createElement(O.a,{overlap:"rectangular",className:a.badge,badgeContent:y,color:"primary"},l.a.createElement(Nl.a,{style:{fontSize:18}}))),l.a.createElement(it.a,{item:!0},l.a.createElement(P.a,{style:{marginLeft:8,fontSize:10,fontWeight:600}},Qe.a.t("ticketsList.assignedHeader")))),value:"open",name:"open",classes:{root:a.tabPanelItem}}),l.a.createElement(Mt.a,{label:l.a.createElement(it.a,{container:!0,alignItems:"center",justifyContent:"center"},l.a.createElement(it.a,{item:!0},l.a.createElement(O.a,{overlap:"rectangular",classes:{badge:a.customBadge},badgeContent:C,color:"primary"},l.a.createElement(Rl.a,{style:{fontSize:18}}))),l.a.createElement(it.a,{item:!0},l.a.createElement(P.a,{style:{marginLeft:8,fontSize:10,fontWeight:600}},Qe.a.t("ticketsList.pendingHeader")))),value:"pending",name:"pending",classes:{root:a.tabPanelItem}}),l.a.createElement(Mt.a,{label:l.a.createElement(it.a,{container:!0,alignItems:"center",justifyContent:"center"},l.a.createElement(it.a,{item:!0},l.a.createElement(O.a,{overlap:"rectangular",classes:{badge:a.customBadge},badgeContent:T,color:"primary"},l.a.createElement(Pl.a,{style:{fontSize:18}}))),l.a.createElement(it.a,{item:!0},l.a.createElement(P.a,{style:{marginLeft:8,fontSize:10,fontWeight:600}},Qe.a.t("ticketsList.groupingHeader")))),value:"group",name:"group",classes:{root:a.tabPanelItem}})),l.a.createElement(St.a,{className:a.ticketsWrapper},l.a.createElement(_o,{status:"open",showAll:p,selectedQueueIds:I,updateCount:e=>A(e),style:me("open"),handleChangeTab:de}),l.a.createElement(_o,{status:"pending",selectedQueueIds:I,showAll:("admin"===b.profile||"enabled"===b.allUserChat)&&p,updateCount:e=>x(e),style:me("pending"),handleChangeTab:de}),l.a.createElement(_o,{status:"group",showAll:p,selectedQueueIds:I,updateCount:e=>k(e),style:me("group"),handleChangeTab:de}))),l.a.createElement(Rt,{value:s,name:"closed",className:a.ticketsWrapper},l.a.createElement(_o,{status:"closed",showAll:p,selectedQueueIds:I,handleChangeTab:de})),l.a.createElement(Rt,{value:s,name:"search",className:a.ticketsWrapper},"admin"===h&&l.a.createElement(l.a.Fragment,null,l.a.createElement(_o,{statusFilter:z,searchParam:o,showAll:p,tags:N,users:D,selectedQueueIds:I,whatsappIds:L,forceSearch:W,status:"search"})),"user"===h&&l.a.createElement(_o,{statusFilter:z,searchParam:o,showAll:!1,tags:N,selectedQueueIds:I,whatsappIds:L,forceSearch:W,status:"search"})))},ir=t(1027),cr=t.n(ir),dr=t(1472),mr=t(1028),ur=t.n(mr);class pr{setPhoneFormatMask(e){if(!e||e.length<12)return;const a=(""+e).replace(/\D/g,"");if(a.length<=12){const e=a.match(/^(\d{2})(\d{2})(\d{4})(\d{4})$/);return"+"+e[1]+" ("+e[2]+") "+e[3]+"-"+e[4]}if(13===a.length){const e=a.match(/^(\d{2})(\d{2})(\d{5})(\d{4})$/);return"+"+e[1]+" ("+e[2]+") "+e[3]+"-"+e[4]}return null}removeMask(e){return e.replace(/\D/g,"")}maskPhonePattern(e){return e.length<13?"+55 (99) 9999 9999":"+55 (99) 99999 9999"}}var gr=e=>{const a=new pr,t=null===e||void 0===e?void 0:e.replace("@c.us","");return a.setPhoneFormatMask(t)},Er=t(1081);const br=Object(x.a)(e=>({messageMedia:{objectFit:"cover",width:"100%",height:200,borderTopLeftRadius:8,borderTopRightRadius:8,borderBottomLeftRadius:8,borderBottomRightRadius:8}}));var fr=e=>{let{imageUrl:a}=e;const t=br(),[o,r]=Object(n.useState)(!0),[s,i]=Object(n.useState)("");return Object(n.useEffect)(()=>{if(!a)return;(async()=>{const{data:e,headers:t}=await Ze.get(a,{responseType:"blob"}),n=window.URL.createObjectURL(new Blob([e],{type:t["content-type"]}));i(n),r(!1)})()},[a]),l.a.createElement(Er.a,{className:t.messageMedia,smallSrcSet:o?a:s,medium:o?a:s,large:o?a:s,alt:"image"})};var hr=e=>{let{classes:a}=e;return l.a.createElement("div",{className:a.content},l.a.createElement(St.a,{square:!0,variant:"outlined",className:a.contactHeader},l.a.createElement(it.a,{container:!0},l.a.createElement(it.a,{item:!0},l.a.createElement(Wn.a,{animation:"wave",variant:"circle",width:160,height:160,className:a.contactAvatar})),l.a.createElement(it.a,{item:!0},l.a.createElement(Wn.a,{animation:"wave",height:25,width:90}),l.a.createElement(Wn.a,{animation:"wave",height:25,width:80}),l.a.createElement(Wn.a,{animation:"wave",height:25,width:80})))),l.a.createElement(St.a,{square:!0,className:a.contactDetails},l.a.createElement(P.a,{variant:"subtitle1"},Qe.a.t("contactDrawer.extraInfo")),l.a.createElement(St.a,{square:!0,variant:"outlined",className:a.contactExtraInfo},l.a.createElement(Wn.a,{animation:"wave",height:20,width:60}),l.a.createElement(Wn.a,{animation:"wave",height:20,width:160})),l.a.createElement(St.a,{square:!0,variant:"outlined",className:a.contactExtraInfo},l.a.createElement(Wn.a,{animation:"wave",height:20,width:60}),l.a.createElement(Wn.a,{animation:"wave",height:20,width:160})),l.a.createElement(St.a,{square:!0,variant:"outlined",className:a.contactExtraInfo},l.a.createElement(Wn.a,{animation:"wave",height:20,width:60}),l.a.createElement(Wn.a,{animation:"wave",height:20,width:160}))))},vr=t(1471);const yr=Object(x.a)(e=>({root:{display:"flex",flexWrap:"wrap"},textField:{marginRight:e.spacing(1),flex:1},extraAttr:{display:"flex",justifyContent:"center",alignItems:"center"},btnWrapper:{position:"relative"},buttonProgress:{color:Sa.a[500],position:"absolute",top:"50%",left:"50%",marginTop:-12,marginLeft:-12},textCenter:{backgroundColor:"red"}})),Ar=ut.c().shape({name:ut.d().min(2,"Too Short!").max(50,"Too Long!").required("Required"),number:ut.d().min(8,"Too Short!").max(50,"Too Long!"),email:ut.d().email("Invalid email")});function Cr(e){let{initialContact:a,onSave:t,onCancel:o}=e;const r=yr(),[i,c]=Object(n.useState)(a);Object(n.useEffect)(()=>{c(a)},[a]);return l.a.createElement(pt.f,{initialValues:i,enableReinitialize:!0,validationSchema:Ar,onSubmit:(e,a)=>{setTimeout(()=>{(async e=>{try{if(i.id)await Ze.put("/contacts/".concat(i.id),e);else{const{data:a}=await Ze.post("/contacts",e);t&&t(a)}s.b.success(Qe.a.t("contactModal.success"))}catch(a){Ke(a)}})(e),a.setSubmitting(!1)},400)}},e=>{let{values:a,errors:t,touched:n,isSubmitting:s}=e;return l.a.createElement(pt.e,null,l.a.createElement(it.a,{container:!0,spacing:1},l.a.createElement(it.a,{item:!0,xs:12},l.a.createElement(pt.c,{as:Et.a,label:Qe.a.t("contactModal.form.name"),name:"name",autoFocus:!0,error:n.name&&Boolean(t.name),helperText:n.name&&t.name,variant:"outlined",margin:"dense",className:r.textField,fullWidth:!0})),l.a.createElement(it.a,{item:!0,xs:12},l.a.createElement(pt.c,{as:Et.a,label:Qe.a.t("contactModal.form.number"),name:"number",error:n.number&&Boolean(t.number),helperText:n.number&&t.number,placeholder:"5513912344321",variant:"outlined",margin:"dense",fullWidth:!0})),l.a.createElement(it.a,{item:!0,xs:12},l.a.createElement(pt.c,{as:Et.a,label:Qe.a.t("contactModal.form.email"),name:"email",error:n.email&&Boolean(t.email),helperText:n.email&&t.email,placeholder:"Email address",fullWidth:!0,margin:"dense",variant:"outlined"})),l.a.createElement(it.a,{item:!0,xs:12,spacing:1},l.a.createElement(it.a,{container:!0,spacing:1},l.a.createElement(it.a,{xs:6,item:!0},l.a.createElement(gt.a,{onClick:o,color:"secondary",disabled:s,variant:"outlined",fullWidth:!0},Qe.a.t("contactModal.buttons.cancel"))),l.a.createElement(it.a,{classes:r.textCenter,xs:6,item:!0},l.a.createElement(gt.a,{type:"submit",color:"primary",disabled:s,variant:"contained",className:r.btnWrapper,fullWidth:!0},i.id?"".concat(Qe.a.t("contactModal.buttons.okEdit")):"".concat(Qe.a.t("contactModal.buttons.okAdd")),s&&l.a.createElement(yt.a,{size:24,className:r.buttonProgress})))))))})}var xr=t(1470),Tr=t(364),Or=t.n(Tr);const kr=Object(x.a)(e=>({inline:{width:"100%"}}));function Sr(e){const{note:a,deleteItem:t,editItem:n}=e,o=kr();return l.a.createElement(G.a,{alignItems:"flex-start"},l.a.createElement(wa.a,null,l.a.createElement(k.a,{alt:a.user.name,src:"/static/images/avatar/1.jpg"})),l.a.createElement(K.a,{primary:l.a.createElement(l.a.Fragment,null,l.a.createElement(P.a,{component:"span",variant:"body2",className:o.inline,color:"textPrimary"},a.note)),secondary:l.a.createElement(l.a.Fragment,null,a.user.name,", ",y()(a.createdAt).format("DD/MM/YY HH:mm"))}),l.a.createElement(xr.a,{style:{display:"flex",flexDirection:"column"}},l.a.createElement(M.a,{onClick:()=>{t(a)},edge:"end","aria-label":"delete"},l.a.createElement(Or.a,null))))}var wr=e=>{let{title:a,children:t,open:n,onClose:o,onConfirm:r}=e;return l.a.createElement(bt.a,{open:n,onClose:()=>o(!1),"aria-labelledby":"confirm-dialog"},l.a.createElement(vt.a,{id:"confirm-dialog"},a),l.a.createElement(ht.a,{dividers:!0},l.a.createElement(P.a,null,t)),l.a.createElement(ft.a,null,l.a.createElement(gt.a,{variant:"contained",onClick:()=>o(!1),color:"default"},Qe.a.t("confirmationModal.buttons.cancel")),l.a.createElement(gt.a,{variant:"contained",onClick:()=>{o(!1),r()},color:"secondary"},Qe.a.t("confirmationModal.buttons.confirm"))))};function Mr(e){let{open:a,onClose:t,note:o,onSave:r}=e;const[s,i]=Object(n.useState)(o);return l.a.createElement(bt.a,{open:a,onClose:t,maxWidth:"xs",fullWidth:!0},l.a.createElement(vt.a,null,"Edit Note"),l.a.createElement(ht.a,null,l.a.createElement(Et.a,{label:"Edit Note",fullWidth:!0,multiline:!0,rows:4,value:o,onChange:e=>i(e.target.value)})),l.a.createElement(ft.a,null,l.a.createElement(gt.a,{onClick:t,color:"primary"},"Cancel"),l.a.createElement(gt.a,{onClick:()=>{r(s),t()},color:"primary"},"Save")))}var Ir=()=>({saveNote:async e=>{const{data:a}=await Ze.request({url:"/ticket-notes",method:"POST",data:e});return a},deleteNote:async e=>{const{data:a}=await Ze.request({url:"/ticket-notes/".concat(e),method:"DELETE"});return a},listNotes:async e=>{const{data:a}=await Ze.request({url:"/ticket-notes/list",method:"GET",params:e});return a}});const jr=Object(x.a)(e=>({root:{"& .MuiTextField-root":{margin:e.spacing(1),width:"350px"}},list:{width:"100%",maxWidth:"350px",maxHeight:"200px",backgroundColor:e.palette.background.paper,overflow:"auto"},inline:{width:"100%"}})),Nr=ut.c().shape({note:ut.d().min(2,"Too Short!").required("Required")});function Rr(e){let{ticket:a}=e;const{id:t,contactId:o}=a,r=jr(),[i,c]=Object(n.useState)({note:""}),[d,m]=Object(n.useState)(!1),[u,p]=Object(n.useState)(!1),[g,E]=Object(n.useState)({}),[b,f]=Object(n.useState)([]),{saveNote:h,deleteNote:v,listNotes:y}=Ir(),[A,C]=Object(n.useState)(null);Object(n.useEffect)(()=>{!async function(){x(),await S()}()},[]);const x=()=>{c({note:""}),m(!1)},T=e=>{c({note:e.target.value})},O=async e=>{m(!0);try{await h({...e,ticketId:t,contactId:o}),await S(),c({note:""}),s.b.success("Observa\xe7\xe3o adicionada com sucesso!")}catch(a){s.b.error(a)}m(!1)},k=e=>{E(e),p(!0)},S=async()=>{m(!0);try{const e=await y({ticketId:t,contactId:o});f(e)}catch(e){s.b.error(e)}m(!1)},w=()=>b.map(e=>l.a.createElement(Sr,{note:e,key:e.id,deleteItem:k,editItem:()=>(e=>{console.log(e),C(e)})(e)}));return l.a.createElement(l.a.Fragment,null,l.a.createElement(Mr,{open:null!==A,onClose:()=>C(null),note:A?A.note:"",onSave:O}),l.a.createElement(wr,{title:"Excluir Registro",open:u,onClose:p,onConfirm:async()=>{m(!0);try{await v(g.id),await S(),E({}),s.b.success("Observa\xe7\xe3o exclu\xedda com sucesso!")}catch(e){s.b.error(e)}m(!1)}},"Deseja realmente excluir este registro?"),l.a.createElement(pt.f,{initialValues:i,enableReinitialize:!0,validationSchema:Nr,onSubmit:(e,a)=>{setTimeout(()=>{O(e),a.setSubmitting(!1)},400)}},e=>{let{touched:a,errors:t,setErrors:n}=e;return l.a.createElement(pt.e,null,l.a.createElement(it.a,{container:!0,spacing:2},l.a.createElement(it.a,{xs:12,item:!0},l.a.createElement(pt.c,{as:Et.a,name:"note",rows:3,label:Qe.a.t("ticketOptionsMenu.appointmentsModal.textarea"),placeholder:Qe.a.t("ticketOptionsMenu.appointmentsModal.placeholder"),multiline:!0,error:a.note&&Boolean(t.note),helperText:a.note&&t.note,variant:"outlined",onChange:T,fullWidth:!0})),b.length>0&&l.a.createElement(it.a,{xs:12,item:!0},l.a.createElement(I.a,{className:r.list},w())),l.a.createElement(it.a,{xs:12,item:!0},l.a.createElement(it.a,{container:!0,spacing:2},l.a.createElement(it.a,{xs:6,item:!0},l.a.createElement(gt.a,{onClick:()=>{c(""),n({})},color:"primary",variant:"outlined",fullWidth:!0},"Cancelar")),l.a.createElement(it.a,{xs:6,item:!0},l.a.createElement(Kl,{loading:d,color:"primary",type:"submit",variant:"contained",autoFocus:!0,fullWidth:!0},"Salvar"))))))}))}const Pr=Object(x.a)(e=>({drawer:{width:320,flexShrink:0},drawerPaper:{width:320,display:"flex",borderTop:"1px solid rgba(0, 0, 0, 0.12)",borderRight:"1px solid rgba(0, 0, 0, 0.12)",borderBottom:"1px solid rgba(0, 0, 0, 0.12)",borderTopRightRadius:4,borderBottomRightRadius:4},header:{display:"flex",borderBottom:"1px solid rgba(0, 0, 0, 0.12)",backgroundColor:e.palette.inputBackground,alignItems:"center",padding:e.spacing(0,1),minHeight:"50px",justifyContent:"flex-start"},content:{display:"flex",backgroundColor:e.palette.inputBackground,flexDirection:"column",padding:"8px 0px 8px 8px",height:"100%",justifyContent:"center",overflowY:"scroll",...e.scrollbarStyles},contactAvatar:{margin:15,width:160,height:160,borderRadius:10},contactHeader:{display:"flex",padding:8,flexDirection:"column",alignItems:"center",justifyContent:"center","& > *":{margin:4}},contactDetails:{marginTop:8,padding:8,display:"flex",flexDirection:"column"},contactExtraInfo:{marginTop:4,padding:6}}));var Dr=e=>{var a;let{open:t,handleDrawerClose:o,contact:r,ticket:i,loading:c}=e;const d=Pr(),[m,u]=Object(n.useState)(!1),[p,g]=Object(n.useState)(r.active),[E,b]=Object(n.useState)(!1),{get:f}=To(),[h,v]=Object(n.useState)(!1),{user:y}=Object(n.useContext)(la),[A,C]=Object(n.useState)(r.disableBot);Object(n.useEffect)(()=>{!async function(){"enabled"===await f({column:"lgpdHideNumber"})&&v(!0)}()},[]),Object(n.useEffect)(()=>{b(!1),C(r.disableBot)},[t,r]);return c?null:l.a.createElement(l.a.Fragment,null,l.a.createElement(w.a,{className:d.drawer,variant:"persistent",anchor:"right",open:t,PaperProps:{style:{position:"absolute"}},BackdropProps:{style:{position:"absolute"}},ModalProps:{container:document.getElementById("drawer-container"),style:{position:"absolute"}},classes:{paper:d.drawerPaper}},l.a.createElement("div",{className:d.header},l.a.createElement(M.a,{onClick:o},l.a.createElement(cr.a,null)),l.a.createElement(P.a,{style:{justifySelf:"center"}},Qe.a.t("contactDrawer.header"))),l.a.createElement("div",null,c?l.a.createElement("br",null):l.a.createElement(l.a.Fragment,null,l.a.createElement(P.a,{style:{marginBottom:8,marginTop:12},variant:"subtitle1"},l.a.createElement(Xl.a,{size:"small",checked:A,onChange:()=>(async()=>{const{id:e}=r;try{const{data:a}=await Ze.put("/contacts/toggleDisableBot/".concat(e));r.disableBot=a.disableBot,C(a.disableBot)}catch(a){Ke(a)}})(),name:"disableBot",color:"primary"}),Qe.a.t("contactModal.form.chatBotContact")))),c?l.a.createElement(hr,{classes:d}):l.a.createElement("div",{className:d.content},l.a.createElement(St.a,{square:!0,variant:"outlined",className:d.contactHeader},l.a.createElement(fr,{imageUrl:null===r||void 0===r?void 0:r.urlPicture}),l.a.createElement(vr.a,{onClick:()=>{},style:{cursor:"pointer",width:"100%"},titleTypographyProps:{noWrap:!0},subheaderTypographyProps:{noWrap:!0},title:l.a.createElement(l.a.Fragment,null,l.a.createElement(P.a,{onClick:()=>b(!0)},r.name,l.a.createElement(ur.a,{style:{fontSize:16,marginLeft:5}}))),subheader:l.a.createElement(l.a.Fragment,null,l.a.createElement(P.a,{style:{fontSize:12}},h&&"user"===y.profile?gr(r.number).slice(0,-6)+"**-**"+r.number.slice(-2):gr(r.number)),l.a.createElement(P.a,{style:{color:"primary",fontSize:12}},l.a.createElement(dr.a,{href:"mailto:".concat(r.email)},r.email)))}),l.a.createElement(gt.a,{variant:"outlined",color:"primary",onClick:()=>u(!E),style:{fontSize:12}},Qe.a.t("contactDrawer.buttons.edit")),l.a.createElement(gt.a,{variant:"outlined",color:"secondary",onClick:()=>r.active?(async e=>{try{await Ze.put("/contacts/block/".concat(e),{active:!1}),s.b.success("Contato bloqueado")}catch(a){Ke(a)}g(!0)})(r.id):(async e=>{try{await Ze.put("/contacts/block/".concat(e),{active:!0}),s.b.success("Contato desbloqueado")}catch(a){Ke(a)}g(!1)})(r.id),disabled:c},r.active?"Bloquear contato":"Desbloquear contato"),r.id&&E&&l.a.createElement(Cr,{initialContact:r,onCancel:()=>b(!1)})),l.a.createElement(St.a,{square:!0,variant:"outlined",className:d.contactDetails},l.a.createElement(P.a,{variant:"subtitle1",style:{marginBottom:10}},Qe.a.t("ticketOptionsMenu.appointmentsModal.title")),l.a.createElement(Rr,{ticket:i})),l.a.createElement(St.a,{square:!0,variant:"outlined",className:d.contactDetails},l.a.createElement(eo,{open:m,onClose:()=>u(!1),contactId:r.id}),l.a.createElement(P.a,{variant:"subtitle1"},Qe.a.t("contactDrawer.extraInfo")),null===r||void 0===r||null===(a=r.extraInfo)||void 0===a?void 0:a.map(e=>l.a.createElement(St.a,{key:e.id,square:!0,variant:"outlined",className:d.contactExtraInfo},l.a.createElement(Ct.a,null,e.name),l.a.createElement(P.a,{component:"div",noWrap:!0,style:{paddingTop:2}},l.a.createElement(za,null,e.value))))))))},Fr=(t(1473),t(1078)),Lr=t(959),qr=t(1184),Wr=t(339),Br=t(1764),zr=t(1765),Hr=t(1766),Ur=t(1768),Qr=t(1769),Gr=t(1770),Vr=t(1771),Kr=t(1772),_r=t(1773),Yr=t(1774),Xr=t(1762),Jr=t(1775),Zr=t(1725),$r=t(427),es=t.n($r),as=t(1767),ts=t(1029),ns=t.n(ts);const ls=Object(n.createContext)(),os=e=>{let{children:a}=e;const[t,o]=Object(n.useState)(null);return l.a.createElement(ls.Provider,{value:{replyingMessage:t,setReplyingMessage:o}},a)},rs=Object(x.a)(e=>({timerBox:{display:"flex",marginLeft:10,marginRight:10,alignItems:"center"}}));var ss=()=>{const e=rs(),[a,t]=Object(n.useState)({minutes:0,seconds:0});Object(n.useEffect)(()=>{const e=setInterval(()=>t(e=>59===e.seconds?{...e,minutes:e.minutes+1,seconds:0}:{...e,seconds:e.seconds+1}),1e3);return()=>{clearInterval(e)}},[]);const o=e=>e<10?"0"+e:e;return l.a.createElement("div",{className:e.timerBox},l.a.createElement("span",null,"".concat(o(a.minutes),":").concat(o(a.seconds))))};var is=()=>({save:async e=>{const{data:a}=await Ze.request({url:"/quick-messages",method:"POST",data:e});return a},update:async e=>{const{data:a}=await Ze.request({url:"/quick-messages/".concat(e.id),method:"PUT",data:e});return a},deleteRecord:async e=>{const{data:a}=await Ze.request({url:"/quick-messages/".concat(e),method:"DELETE"});return a},list:async e=>{const{data:a}=await Ze.request({url:"/quick-messages/list",method:"GET",params:e});return a}});const cs=Object(x.a)(e=>({online:{fontSize:11,color:"#25d366"},offline:{fontSize:11,color:"#e1306c"}})),ds=Object(Ql.a)({trim:!0});var ms=e=>{let{modalOpen:a,onClose:t}=e;cs();const[o,r]=Object(n.useState)([]),[s,i]=Object(n.useState)(!1),[c,d]=Object(n.useState)(""),[m,u]=Object(n.useState)(null),[p,g]=Object(n.useState)({}),[E,b]=Object(n.useState)(!1),{user:f}=Object(n.useContext)(la),{companyId:h,whatsappId:v}=f;Object(n.useEffect)(()=>{if(!a||c.length<3)return void i(!1);i(!0);const e=setTimeout(()=>{(async()=>{try{const{data:e}=await Ze.get("contacts",{params:{searchParam:c,channel:"whatsapp",isGroup:"false"}});r(e.contacts),i(!1)}catch(e){i(!1),Ke(e)}})()},500);return()=>clearTimeout(e)},[c,a]);const y=()=>{t(),d(""),u(null)},A=async e=>{if(e){i(!0);try{t(e)}catch(a){}i(!1)}},C=(e,a)=>{const t=ds(e,a);return""!==a.inputValue&&!s&&c.length>=3&&t.push({name:"".concat(a.inputValue)}),t},x=e=>e.number?l.a.createElement(l.a.Fragment,null,l.a.createElement(P.a,{component:"span",style:{fontSize:14,marginLeft:"10px",display:"inline-flex",alignItems:"center",lineHeight:"2"}},e.name," - ",e.number)):"".concat(Qe.a.t("SendContactModal.add")," ").concat(e.name),T=e=>e.number?"".concat(e.name," - ").concat(e.number):"".concat(e.name);return l.a.createElement(l.a.Fragment,null,l.a.createElement(eo,{open:E,initialValues:p,onClose:()=>{b(!1)},onSave:e=>{A(e)}}),l.a.createElement(bt.a,{open:a,onClose:y},l.a.createElement(vt.a,{id:"form-dialog-title"},Qe.a.t("SendContactModal.title")),l.a.createElement(ht.a,{dividers:!0},l.a.createElement(it.a,{style:{width:300},container:!0,spacing:2},l.a.createElement(it.a,{xs:12,item:!0},l.a.createElement(Gl.a,{fullWidth:!0,options:o,loading:s,clearOnBlur:!0,autoHighlight:!0,freeSolo:!0,clearOnEscape:!0,getOptionLabel:T,renderOption:x,filterOptions:C,onChange:(e,a)=>((e,a)=>{(null===a||void 0===a?void 0:a.number)?u(a):(null===a||void 0===a?void 0:a.name)&&(g({name:a.name}),b(!0))})(0,a),renderInput:e=>l.a.createElement(Et.a,Object.assign({},e,{label:Qe.a.t("SendContactModal.fieldLabel"),variant:"outlined",autoFocus:!0,onChange:e=>d(e.target.value),onKeyPress:e=>{!s&&m&&"Enter"===e.key&&A(m)},InputProps:{...e.InputProps,endAdornment:l.a.createElement(l.a.Fragment,null,s?l.a.createElement(yt.a,{color:"inherit",size:20}):null,e.InputProps.endAdornment)}}))})))),l.a.createElement(ft.a,null,l.a.createElement(gt.a,{onClick:y,color:"secondary",disabled:s,variant:"outlined"},Qe.a.t("SendContactModal.buttons.cancel")),l.a.createElement(Kl,{variant:"contained",type:"button",disabled:!m,onClick:()=>A(m),color:"primary",loading:s},Qe.a.t("SendContactModal.buttons.ok")))))},us=t(708),ps=t.n(us),gs=t(709),Es=t.n(gs);t(1483);ps.a.setAppElement("#root");const bs={overlay:{backgroundColor:"rgba(0, 0, 0, 0.5)"},content:{width:"80%",height:"70%",maxWidth:"780px",maxHeight:"85vh",top:"50%",left:"50%",transform:"translate(-50%, -50%)",borderRadius:"8px",boxShadow:"0 0 10px rgba(0, 0, 0, 0.3)",border:"none",padding:"0",background:"none",display:"flex",flexDirection:"column",alignItems:"center"}};var fs=e=>{let{isOpen:a,onRequestClose:t,onCapture:o}=e;const[r,s]=Object(n.useState)(null);return l.a.createElement(ps.a,{isOpen:a,onRequestClose:t,style:bs},l.a.createElement("div",{style:{flex:1}},l.a.createElement(Es.a,{onTakePhoto:e=>{s(e)},idealFacingMode:gs.FACING_MODES.ENVIRONMENT,isImageMirror:!1,style:bs})),r&&(fetch(r).then(e=>e.blob()).then(e=>{o(e)}),s(null),void t()))};const hs=Object(n.createContext)(),vs=e=>{let{children:a}=e;const[t,o]=Object(n.useState)(!1),[r,s]=Object(n.useState)([]),[i,c]=Object(n.useState)(!1);return l.a.createElement(hs.Provider,{value:{showSelectMessageCheckbox:t,setShowSelectMessageCheckbox:o,selectedMessages:r,setSelectedMessages:s,forwardMessageModalOpen:i,setForwardMessageModalOpen:c}},a)};var ys=t(1817),As=t(1761),Cs=t(1726),xs=t(1763);var Ts=e=>{let{url:a}=e;const t=Object(n.useRef)(null),[o,r]=Object(n.useState)(parseFloat(localStorage.getItem("audioMessageRate")||"1")),[s,i]=Object(n.useState)(!1),c=/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream;Object(n.useEffect)(()=>{t.current.playbackRate=o,localStorage.setItem("audioMessageRate",o)},[o]),Object(n.useEffect)(()=>{t.current.onplaying=()=>{i(!0)},t.current.onpause=()=>{i(!1)},t.current.onended=()=>{i(!1)}},[]);return l.a.createElement(l.a.Fragment,null,l.a.createElement("audio",{ref:t,controls:!0},(()=>{let e=a;return c&&(e=e.replace(".ogg",".mp3")),l.a.createElement("source",{src:e,type:c?"audio/mp3":"audio/ogg"})})()),s&&l.a.createElement(gt.a,{style:{marginLeft:"5px",marginTop:"-45px"},onClick:()=>{let e=null;switch(o){case.5:e=1;break;case 1:e=1.5;break;case 1.5:e=2;break;case 2:e=.5;break;default:e=1}r(e)}},o,"x"))},Os=t(436);Os.c.GlobalWorkerOptions.workerSrc="//cdnjs.cloudflare.com/ajax/libs/pdf.js/".concat(Os.c.version,"/pdf.worker.min.js");const ks=Object(x.a)(e=>({root:{display:"flex",flexWrap:"wrap"},modal:{background:e.palette.background.default},messageInputWrapperPrivate:{padding:6,marginRight:7,background:e.palette.background.paper,display:"flex",borderRadius:20,flex:1,position:"relative"},buttonEnable:{color:"light"===e.mode?"grey":"#eee"},buttonDisable:{color:jn.a[400]}}));var Ss=e=>{let{isOpen:a,files:t,onClose:o,onSend:r,onCancelSelection:s}=e;const i=ks(),[c,d]=Object(n.useState)(0),[m,u]=Object(n.useState)(t.map(()=>"")),[p,g]=l.a.useState(null),[E,b]=Object(n.useState)(!1),[f,h]=Object(n.useState)(!1),[v,y]=Object(n.useState)(!1);Object(n.useEffect)(()=>{y(!0),b(!0)},[]);const A=e=>{let{numPages:a}=e;g(a)},C=()=>{c>0&&(y(!0),d(c-1))},x=()=>{c<t.length-1&&(y(!0),d(c+1))},T=()=>{const e=t.map((e,a)=>({file:e,caption:m[a]}));r(e),o()},O=Object(n.useMemo)(()=>{if(!E)return null;if(v){const e=t[c];return e.type.startsWith("image")?l.a.createElement(l.a.Fragment,null,l.a.createElement("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",height:"400px"},className:i.modal},l.a.createElement("img",{alt:"Imagem ".concat(c+1),src:URL.createObjectURL(e),style:{maxWidth:"600px",maxHeight:"400px"}})),l.a.createElement("div",{style:{display:"flex",alignItems:"center",justifyContent:"center"},className:i.modal},l.a.createElement(Bo.a,{variant:"h6"},e.name))):"application/pdf"===e.type?l.a.createElement(l.a.Fragment,null,l.a.createElement("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",height:"400px"},className:i.modal},l.a.createElement(Os.a,{file:URL.createObjectURL(e),onLoadSuccess:A},l.a.createElement(Os.b,{pageNumber:1,width:200,height:300}))),l.a.createElement("div",{style:{display:"flex",alignItems:"center",justifyContent:"center"},className:i.modal},l.a.createElement(Bo.a,{variant:"h6"},e.name))):e.type.startsWith("video")?l.a.createElement(l.a.Fragment,null,l.a.createElement("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",height:"400px"},className:i.modal},l.a.createElement("video",{src:URL.createObjectURL(e),controls:!0,volume:localStorage.getItem("volume"),style:{maxWidth:"600px",maxHeight:"400px"}})),l.a.createElement("div",{style:{display:"flex",alignItems:"center",justifyContent:"center"},className:i.modal},l.a.createElement(Bo.a,{variant:"h6"},e.name))):e.type.startsWith("audio")?l.a.createElement(l.a.Fragment,null,l.a.createElement("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",height:"400px"},className:i.modal},l.a.createElement(Ts,{url:URL.createObjectURL(e)})),l.a.createElement("div",{style:{display:"flex",alignItems:"center",justifyContent:"center"},className:i.modal},l.a.createElement(Bo.a,{variant:"h6"},e.name))):l.a.createElement("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",height:"400px"},className:i.modal},l.a.createElement(vl.a,{className:i.modal},l.a.createElement(Bo.a,{variant:"h6"},"Visualiza\xe7\xe3o n\xe3o dispon\xedvel"),l.a.createElement(Bo.a,{variant:"h6"},e.name)))}return null},[c,v]);return l.a.createElement("div",{className:i.modal},l.a.createElement(lo.a,{open:a,fullWidth:!0,maxWidth:"md",scroll:"paper"},l.a.createElement(ro.a,{className:i.modal},l.a.createElement(hl.a,null,O,l.a.createElement(vl.a,{className:i.modal},l.a.createElement("div",{className:i.messageInputWrapperPrivate},l.a.createElement(Sl.a,{placeholder:"Legenda (opcional)",fullWidth:!0,multiline:!0,minRows:1,maxRows:5,value:m[c],onChange:e=>{const a=e.target.value;u(e=>{const t=[...e];return t[c]=a,t}),v&&h(!0)},onBlur:()=>{h(!1)},autoFocus:!0,onKeyDown:e=>{if("Enter"!==e.key||!e.shiftKey)switch(e.key){case"Escape":s();break;case"Enter":T();break;case"ArrowRight":x();break;case"ArrowLeft":C()}}}))))),l.a.createElement(io.a,{className:i.modal},l.a.createElement(ys.a,{onClick:C,disabled:0===c},l.a.createElement(As.a,{className:0===c?i.buttonDisable:i.buttonEnable})),l.a.createElement(ys.a,{onClick:s},l.a.createElement(Cs.a,{className:i.buttonEnable})),l.a.createElement(ys.a,{onClick:T},l.a.createElement(Xr.a,{className:i.buttonEnable})),l.a.createElement(ys.a,{onClick:x,disabled:c===t.length-1},l.a.createElement(xs.a,{className:c===t.length-1?i.buttonDisable:i.buttonEnable})))))};const ws=new ns.a({bitRate:128}),Ms=Object(x.a)(e=>({mainWrapper:{background:"#eee",display:"flex",flexDirection:"column",alignItems:"center",borderTop:"1px solid rgba(0, 0, 0, 0.12)",[e.breakpoints.down("sm")]:{position:"fixed",bottom:0,width:"100%"}},avatar:{width:"50px",height:"50px",borderRadius:"25%"},dropInfo:{background:"#eee",display:"flex",flexDirection:"column",alignItems:"center",width:"100%",padding:15,left:0,right:0},dropInfoOut:{display:"none"},gridFiles:{maxHeight:"100%",overflow:"scroll"},newMessageBox:{background:e.palette.background.default,width:"100%",display:"flex",padding:"7px",alignItems:"center"},messageInputWrapper:{padding:6,marginRight:7,background:e.palette.background.paper,display:"flex",borderRadius:20,flex:1,position:"relative"},messageInputWrapperPrivate:{padding:6,marginRight:7,background:"#F0E68C",display:"flex",borderRadius:20,flex:1,position:"relative"},messageInput:{paddingLeft:10,flex:1,border:"none"},messageInputPrivate:{paddingLeft:10,flex:1,border:"none",color:jn.a[800]},sendMessageIcons:{color:jn.a[700]},ForwardMessageIcons:{color:jn.a[700],transform:"scaleX(-1)"},uploadInput:{display:"none"},viewMediaInputWrapper:{maxHeight:"100%",display:"flex",padding:"10px 13px",position:"relative",justifyContent:"space-between",alignItems:"center",backgroundColor:"light"===e.mode?"#ffffff":"#202c33",borderTop:"1px solid rgba(0, 0, 0, 0.12)"},emojiBox:{position:"absolute",bottom:63,width:40,borderTop:"1px solid #e8e8e8"},circleLoading:{color:Sa.a[500],opacity:"70%",position:"absolute",top:"20%",left:"50%",marginLeft:-12},audioLoading:{color:Sa.a[500],opacity:"70%"},recorderWrapper:{display:"flex",alignItems:"center",alignContent:"middle"},cancelAudioIcon:{color:"red"},sendAudioIcon:{color:"green"},replyginMsgWrapper:{display:"flex",width:"100%",alignItems:"center",justifyContent:"center",paddingTop:8,paddingLeft:73,paddingRight:7,backgroundColor:e.palette.optionsBackground},replyginMsgContainer:{flex:1,marginRight:5,overflowY:"hidden",backgroundColor:"light"===e.mode?"#f0f0f0":"#1d282f",borderRadius:"7.5px",display:"flex",position:"relative"},replyginMsgBody:{padding:10,height:"auto",display:"block",whiteSpace:"pre-wrap",overflow:"hidden"},replyginContactMsgSideColor:{flex:"none",width:"4px",backgroundColor:"#35cd96"},replyginSelfMsgSideColor:{flex:"none",width:"4px",backgroundColor:"#6bcbef"},messageContactName:{display:"flex",color:"#6bcbef",fontWeight:500},messageQuickAnswersWrapper:{margin:0,position:"absolute",bottom:"50px",background:e.palette.background.default,padding:0,border:"none",left:0,width:"100%","& li":{listStyle:"none","& a":{display:"block",padding:"8px",textOverflow:"ellipsis",overflow:"hidden",maxHeight:"30px","&:hover":{background:e.palette.background.paper,cursor:"pointer"}}}},invertedFabMenu:{border:"none",borderRadius:50,boxShadow:"none",padding:e.spacing(1),backgroundColor:"transparent",color:"grey","&:hover":{backgroundColor:"transparent"},"&:disabled":{backgroundColor:"transparent !important"}},invertedFabMenuMP:{border:"none",borderRadius:0,boxShadow:"none",width:e.spacing(4),height:e.spacing(4),backgroundColor:"transparent",color:Nn.a[800],"&:hover":{backgroundColor:"transparent"}},invertedFabMenuCont:{border:"none",borderRadius:0,boxShadow:"none",minHeight:"auto",width:e.spacing(4),height:e.spacing(4),backgroundColor:"transparent",color:Nn.a[500],"&:hover":{backgroundColor:"transparent"}},invertedFabMenuMeet:{border:"none",borderRadius:0,boxShadow:"none",minHeight:"auto",width:e.spacing(4),height:e.spacing(4),backgroundColor:"transparent",color:Sa.a[500],"&:hover":{backgroundColor:"transparent"}},invertedFabMenuDoc:{border:"none",borderRadius:0,boxShadow:"none",width:e.spacing(4),height:e.spacing(4),backgroundColor:"transparent",color:"#7f66ff","&:hover":{backgroundColor:"transparent"}},invertedFabMenuCamera:{border:"none",borderRadius:0,boxShadow:"none",width:e.spacing(4),height:e.spacing(4),backgroundColor:"transparent",color:Wr.a[500],"&:hover":{backgroundColor:"transparent"}},flexContainer:{display:"flex",flex:1,flexDirection:"column"},flexItem:{flex:1}}));var Is=e=>{let{ticketId:a,ticketStatus:t,currentTicketId:o,droppedFiles:r,ticketChannel:s}=e;const i=Ms(),[c,d]=Object(n.useState)([]),[m,u]=Object(n.useState)([]),p=Object(n.useRef)(!0),[E,b]=Object(n.useState)(""),[f,v]=Object(n.useState)(!1),[y,C]=Object(n.useState)(!1),[x,T]=Object(n.useState)(!1),[O,k]=Object(n.useState)([]),[S,w]=Object(n.useState)(!1),I=Object(n.useRef)(),[j,N]=Object(n.useState)(!1),[R,P]=Object(n.useState)(null),{setReplyingMessage:L,replyingMessage:q}=Object(n.useContext)(ls),{user:W}=Object(n.useContext)(la),[B,z]=Object(n.useState)(!1),{get:H}=To(),[U,Q]=Object(n.useState)(!0),[G,V]=Object(n.useState)(!1),[K,_]=Object(n.useState)(!1),[Y,X]=Object(n.useState)(!1),[J,Z]=Object(n.useState)(!1),{list:$}=is(),ee=Object(g.a)("(max-width: 767px)"),[ae,te]=Object(n.useState)("");Object(n.useEffect)(()=>{te("open"===t||"group"===t?Qe.a.t("messagesInput.placeholderOpen"):Qe.a.t("messagesInput.placeholderClosed"));const e=ee?20:1/0;ee&&ae.length>e&&te(ae.substring(0,e)+"...")},[t]);const{selectedMessages:ne,setForwardMessageModalOpen:le,showSelectMessageCheckbox:oe}=Object(n.useContext)(hs);Object(n.useEffect)(()=>{if(r&&r.length>0){const e=Array.from(r);u(e),Z(!0)}},[r]),Object(n.useEffect)(()=>()=>{p.current=!1},[]),Object(n.useEffect)(()=>{I.current.focus()},[q]),Object(n.useEffect)(()=>(I.current.focus(),()=>{b(""),v(!1),d([]),u([]),L(null),V(!1),_(!1)}),[a]),Object(n.useEffect)(()=>{setTimeout(()=>{N(!1)},1e3)},[!0===j]),Object(n.useEffect)(()=>{(async()=>{if("enabled"===(await H({column:"sendSignMessage"})).sendSignMessage){z(!0);const e=JSON.parse(localStorage.getItem("persistentSignMessage"));Object(A.isNil)(e)?Q(!0):Q(e)}else z(!1)})()},[]);const re=async()=>{const e="https://meet.jit.si/".concat(o);b(e)},se=e=>{b(e.target.value)},ie=e=>{V(!G),_(!K)},ce=async e=>{if(e.mediaPath)try{const{data:a}=await Ye.a.get(e.mediaPath,{responseType:"blob"});return Oe(a,e.value),void b("")}catch(a){Ke(a)}b(""),b(e.value),w(!1)},de=e=>{let a=e.native;b(e=>e+a)},[me,ue]=Object(n.useState)(!1),pe=e=>{e&&Te(e)},ge=e=>{if(!e.target.files)return;const a=Array.from(e.target.files);u(a),Z(!0)},Ee=e=>{fe()},be=()=>{if(0===ne.length)return le(!1),void Ke(Qe.a.t("messagesList.header.notMessage"));le(!0)},fe=()=>{const e=JSON.parse(localStorage.getItem("persistentSignMessage"));null!==e?e?(localStorage.setItem("persistentSignMessage",!1),Q(!1)):(localStorage.setItem("persistentSignMessage",!0),Q(!0)):(localStorage.setItem("persistentSignMessage",!1),Q(!1))},he=e=>{if(e.clipboardData.files[0]){const a=Array.from(e.clipboardData.files);u(a),Z(!0)}},ve=e=>{if(e.preventDefault(),e.dataTransfer.files[0]){const a=Array.from(e.dataTransfer.files);u(a),Z(!0)}},ye=async e=>{if(console.log(e),C(!0),!e.length)return console.log("Nenhuma m\xeddia selecionada."),void C(!1);const t=new FormData;t.append("fromMe",!0),e.forEach(e=>{t.append("medias",e.file),G?t.append("body","\u200d"):t.append("body",e.caption)});try{await Ze.post("/messages/".concat(a),t)}catch(n){Ke(n)}C(!1),d([]),u([]),Z(!1),V(!1),_(!1)},Ae=async()=>{if(""===E.trim())return;C(!0);const e=G?"".concat(W.name," - Mensagem Privada"):W.name,t=E.trim(),n={read:1,fromMe:!0,mediaUrl:"",body:U||G?"*".concat(e,":*\n").concat(t):t,quotedMsg:q,isPrivate:G};try{await Ze.post("/messages/".concat(a),n)}catch(l){Ke(l)}b(""),v(!1),C(!1),L(null),V(!1),_(!1),Ie()},Ce=async()=>{C(!0);try{await navigator.mediaDevices.getUserMedia({audio:!0}),await ws.start(),T(!0),C(!1)}catch(e){Ke(e),C(!1)}};Object(n.useEffect)(()=>{!async function(){const e=W.companyId,a=(await $({companyId:e,userId:W.id})).map(e=>{let a=e.message;return Object(A.isString)(a)&&a.length>90&&(a=e.message.substring(0,90)+"..."),{value:e.message,label:"/".concat(e.shortcode," - ").concat(a),mediaPath:e.mediaPath}});k(a)}()},[]),Object(n.useEffect)(()=>{if(Object(A.isString)(E)&&!Object(A.isEmpty)(E)&&E.length>=1){const e=E.charAt(0);if("/"===e){w(e.indexOf("/")>-1);const a=O.filter(e=>e.label.toLowerCase().indexOf(E.toLowerCase())>-1);w(a)}else w(!1)}else w(!1)},[E]);const xe=()=>y||x||"open"!==t&&"group"!==t,Te=async e=>{C(!0);try{const t=new FormData,n="".concat((new Date).getTime(),".png");t.append("medias",e,n),t.append("body",G?"\u200d":""),t.append("fromMe",!0),await Ze.post("/messages/".concat(a),t)}catch(t){Ke(t),C(!1)}C(!1)},Oe=async(e,t)=>{C(!0);try{const n=e.type.split("/")[1],l=new FormData,o="".concat((new Date).getTime(),".").concat(n);l.append("medias",e,o),l.append("body",G?"\u200d".concat(t):t),l.append("fromMe",!0),p.current&&await Ze.post("/messages/".concat(a),l)}catch(n){Ke(n)}finally{p.current&&C(!1)}},ke=async()=>{C(!0);try{const[,e]=await ws.stop().getMp3();if(e.size<1e4)return C(!1),void T(!1);const t=new FormData,n="".concat((new Date).getTime(),"whatsapp"===s?".mp3":".m4a");t.append("medias",e,n),t.append("body",n),t.append("fromMe",!0),p.current&&await Ze.post("/messages/".concat(a),t)}catch(e){Ke(e)}finally{p.current&&(C(!1),T(!1))}},Se=()=>{Z(!1)},we=async()=>{try{await ws.stop().getMp3(),T(!1)}catch(e){Ke(e)}},Me=e=>{P(e.currentTarget)},Ie=e=>{P(null)},je=async()=>{Ie(),X(!0)},Ne=async()=>{Ie(),ue(!0)},Re=()=>{d([]),u([]),Z(!1)};return m.length>0?l.a.createElement(St.a,{elevation:0,square:!0,className:i.viewMediaInputWrapper,onDragEnter:()=>N(!0),onDrop:e=>ve(e)},J&&l.a.createElement(Ss,{isOpen:J,files:m,onClose:Se,onSend:ye,onCancelSelection:Re})):l.a.createElement(l.a.Fragment,null,me&&l.a.createElement(fs,{isOpen:me,onRequestClose:()=>ue(!1),onCapture:pe}),Y&&l.a.createElement(ms,{modalOpen:Y,onClose:e=>{(async e=>{if(X(!1),C(!0),Object(A.isNil)(e))return void C(!1);const t={read:1,fromMe:!0,mediaUrl:"",body:null,quotedMsg:q,isPrivate:G,vCard:e};try{await Ze.post("/messages/".concat(a),t)}catch(n){Ke(n)}b(""),v(!1),C(!1),L(null),V(!1),_(!1)})(e)}}),l.a.createElement(St.a,{square:!0,elevation:0,className:i.mainWrapper,onDragEnter:()=>N(!0),onDrop:e=>ve(e)},q&&(e=>{var a;return l.a.createElement("div",{className:i.replyginMsgWrapper},l.a.createElement("div",{className:i.replyginMsgContainer},l.a.createElement("span",{className:Object(h.a)(i.replyginContactMsgSideColor,{[i.replyginSelfMsgSideColor]:!e.fromMe})}),l.a.createElement("div",{className:i.replyginMsgBody},!e.fromMe&&l.a.createElement("span",{className:i.messageContactName},null===(a=e.contact)||void 0===a?void 0:a.name),e.body)),l.a.createElement(M.a,{"aria-label":"showRecorder",component:"span",disabled:xe(),onClick:()=>L(null)},l.a.createElement(Br.a,{className:i.sendMessageIcons})))})(q),l.a.createElement("div",{className:i.newMessageBox},l.a.createElement(kl.a,{only:["sm","xs"]},l.a.createElement(M.a,{"aria-label":"emojiPicker",component:"span",disabled:xe(),onClick:e=>v(e=>!e)},l.a.createElement(zr.a,{className:i.sendMessageIcons})),f?l.a.createElement("div",{className:i.emojiBox},l.a.createElement(Lr.a,{onClickAway:e=>v(!0)},l.a.createElement(Fr.a,{perLine:16,theme:"dark",i18n:Qe.a,showPreview:!0,showSkinTones:!1,onSelect:de}))):null,l.a.createElement(qr.a,{disabled:xe(),"aria-label":"uploadMedias",component:"span",className:i.invertedFabMenu,onClick:Me},l.a.createElement(es.a,null)),l.a.createElement(D.a,{anchorEl:R,keepMounted:!0,open:Boolean(R),onClose:Ie,id:"simple-menu"},l.a.createElement(F.a,{onClick:Ie},l.a.createElement("input",{multiple:!0,type:"file",id:"upload-img-button",accept:"image/*, video/*, audio/* ",className:i.uploadInput,onChange:ge}),l.a.createElement("label",{htmlFor:"upload-img-button"},l.a.createElement(qr.a,{"aria-label":"upload-img",component:"span",className:i.invertedFabMenuMP},l.a.createElement(Hr.a,null)),Qe.a.t("messageInput.type.imageVideo"))),l.a.createElement(F.a,{onClick:Ne},l.a.createElement(qr.a,{className:i.invertedFabMenuCamera},l.a.createElement(as.a,null)),Qe.a.t("messageInput.type.cam")),l.a.createElement(F.a,{onClick:Ie},l.a.createElement("input",{multiple:!0,type:"file",id:"upload-doc-button",accept:"application/*, text/*",className:i.uploadInput,onChange:ge}),l.a.createElement("label",{htmlFor:"upload-doc-button"},l.a.createElement(qr.a,{"aria-label":"upload-img",component:"span",className:i.invertedFabMenuDoc},l.a.createElement(Ur.a,null)),"Documento")),l.a.createElement(F.a,{onClick:je},l.a.createElement(qr.a,{className:i.invertedFabMenuCont},l.a.createElement(Qr.a,null)),Qe.a.t("messageInput.type.contact")),l.a.createElement(F.a,{onClick:re},l.a.createElement(qr.a,{className:i.invertedFabMenuMeet},l.a.createElement(Gr.a,null)),Qe.a.t("messageInput.type.meet"))),B&&l.a.createElement(Ha.a,{title:Qe.a.t("messageInput.tooltip.signature")},l.a.createElement(M.a,{"aria-label":"send-upload",component:"span",onClick:Ee},!0===U?l.a.createElement(Vr.a,{style:{color:"#065183"}}):l.a.createElement(Vr.a,{style:{color:"grey"}}))),l.a.createElement(Ha.a,{title:Qe.a.t("messageInput.tooltip.privateMessage")},l.a.createElement(M.a,{"aria-label":"send-upload",component:"span",onClick:ie},!0===G?l.a.createElement(Kr.a,{style:{color:"#065183"}}):l.a.createElement(Kr.a,{style:{color:"grey"}})))),l.a.createElement(kl.a,{only:["md","lg","xl"]},l.a.createElement(M.a,{"aria-controls":"simple-menu","aria-haspopup":"true",onClick:Me},l.a.createElement(_r.a,null)),l.a.createElement(D.a,{id:"simple-menu",keepMounted:!0,anchorEl:R,open:Boolean(R),onClose:Ie},l.a.createElement(F.a,{onClick:Ie},l.a.createElement(M.a,{"aria-label":"emojiPicker",component:"span",disabled:xe(),onClick:e=>v(e=>!e)},l.a.createElement(zr.a,{className:i.sendMessageIcons}))),l.a.createElement(F.a,{onClick:Ie},l.a.createElement("input",{multiple:!0,type:"file",id:"upload-button",disabled:xe(),className:i.uploadInput,onChange:ge}),l.a.createElement("label",{htmlFor:"upload-button"},l.a.createElement(M.a,{"aria-label":"upload",component:"span",disabled:xe()},l.a.createElement(Ue.a,{className:i.sendMessageIcons})))),B&&l.a.createElement(Ha.a,{title:"Habilitar/Desabilitar Assinatura"},l.a.createElement(M.a,{"aria-label":"send-upload",component:"span",onClick:Ee},!0===U?l.a.createElement(Vr.a,{style:{color:"#065183"}}):l.a.createElement(Vr.a,{style:{color:"grey"}}))),l.a.createElement(Ha.a,{title:"Habilitar/Desabilitar Coment\xe1rios"},l.a.createElement(M.a,{"aria-label":"send-upload",component:"span",onClick:ie},!0===G?l.a.createElement(Kr.a,{style:{color:"#065183"}}):l.a.createElement(Kr.a,{style:{color:"grey"}}))))),l.a.createElement("div",{className:i.flexContainer},K&&l.a.createElement("div",{className:i.flexItem},l.a.createElement("div",{className:i.messageInputWrapperPrivate},l.a.createElement(Sl.a,{inputRef:e=>{e&&e.focus(),e&&(I.current=e)},className:i.messageInputPrivate,placeholder:"open"===t||"group"===t?Qe.a.t("messagesInput.placeholderPrivateMessage"):Qe.a.t("messagesInput.placeholderClosed"),multiline:!0,maxRows:5,value:E,onChange:se,disabled:xe(),onPaste:e=>{("open"===t||"group"===t)&&he(e)},onKeyPress:e=>{y||e.shiftKey||"Enter"===e.key&&Ae()}}),S?l.a.createElement("ul",{className:i.messageQuickAnswersWrapper},S.map((e,a)=>l.a.createElement("li",{className:i.messageQuickAnswersWrapperItem,key:a},l.a.createElement("a",{onClick:()=>ce(e)},"".concat(e.label," - ").concat(e.value))))):l.a.createElement("div",null))),!K&&l.a.createElement("div",{className:i.flexItem},l.a.createElement("div",{className:i.messageInputWrapper},l.a.createElement(Sl.a,{inputRef:e=>{e&&e.focus(),e&&(I.current=e)},className:i.messageInput,placeholder:ae,multiline:!0,maxRows:5,value:E,onChange:se,disabled:xe(),onPaste:e=>{("open"===t||"group"===t)&&he(e)},onKeyPress:e=>{y||e.shiftKey||"Enter"===e.key&&Ae()}}),S?l.a.createElement("ul",{className:i.messageQuickAnswersWrapper},S.map((e,a)=>l.a.createElement("li",{className:i.messageQuickAnswersWrapperItem,key:a},l.a.createElement("a",{onClick:()=>ce(e)},"".concat(e.label," - ").concat(e.value))))):l.a.createElement("div",null)))),!K&&l.a.createElement(l.a.Fragment,null,E||oe?l.a.createElement(l.a.Fragment,null,l.a.createElement(M.a,{"aria-label":"sendMessage",component:"span",onClick:oe?be:Ae,disabled:y},oe?l.a.createElement(Yr.a,{className:i.ForwardMessageIcons}):l.a.createElement(Xr.a,{className:i.sendMessageIcons}))):x?l.a.createElement("div",{className:i.recorderWrapper},l.a.createElement(M.a,{"aria-label":"cancelRecording",component:"span",fontSize:"large",disabled:y,onClick:we},l.a.createElement(Do.a,{className:i.cancelAudioIcon})),y?l.a.createElement("div",null,l.a.createElement(yt.a,{className:i.audioLoading})):l.a.createElement(ss,null),l.a.createElement(M.a,{"aria-label":"sendRecordedAudio",component:"span",onClick:ke,disabled:y},l.a.createElement(Jr.a,{className:i.sendAudioIcon}))):l.a.createElement(M.a,{"aria-label":"showRecorder",component:"span",disabled:xe(),onClick:Ce},l.a.createElement(Zr.a,{className:i.sendMessageIcons}))),K&&l.a.createElement(l.a.Fragment,null,l.a.createElement(M.a,{"aria-label":"sendMessage",component:"span",onClick:oe?be:Ae,disabled:y},oe?l.a.createElement(Yr.a,{className:i.ForwardMessageIcons}):l.a.createElement(Xr.a,{className:i.sendMessageIcons}))))))},js=t(1490);const Ns=Object(x.a)(e=>({ticketHeader:{display:"flex",background:e.palette.tabHeaderBackground,flex:"none",borderBottom:"1px solid rgba(0, 0, 0, 0.12)",height:"65px"}}));var Rs=()=>{const e=Ns();return l.a.createElement(js.a,{square:!0,className:e.ticketHeader},l.a.createElement(vr.a,{titleTypographyProps:{noWrap:!0},subheaderTypographyProps:{noWrap:!0},avatar:l.a.createElement(Wn.a,{animation:"wave",variant:"circle"},l.a.createElement(k.a,{alt:"contact_image"})),title:l.a.createElement(Wn.a,{animation:"wave",width:80}),subheader:l.a.createElement(Wn.a,{animation:"wave",width:140})}))},Ps=t(1030),Ds=t.n(Ps);const Fs=Object(x.a)(e=>({ticketHeader:{display:"flex",background:e.palette.total,flex:"none",borderBottom:"1px solid rgba(0, 0, 0, 0.12)",height:"65px",[e.breakpoints.down("sm")]:{flexWrap:"wrap",height:"max-content"}}}));var Ls=e=>{let{loading:a,children:t}=e;const n=Fs(),o=Object(f.useHistory)();return l.a.createElement(l.a.Fragment,null,a?l.a.createElement(Rs,null):l.a.createElement(js.a,{square:!0,className:n.ticketHeader},l.a.createElement(gt.a,{color:"primary",onClick:()=>{o.push("/tickets")}},l.a.createElement(Ds.a,null)),t))},qs=t(1829);const Ws=Object(x.a)(e=>({userQueueStyle:{marginRight:5,color:"#ffffff",padding:"1px 5px",borderRadius:"3px",fontWeight:"bold",fontSize:"0.8em",display:"inline-flex"}}));var Bs=e=>{let{contact:a,ticket:t,onClick:o}=e;Ws();const{user:r}=t,[s,i]=Object(n.useState)(""),[c,d]=Object(n.useState)("");return Object(n.useEffect)(()=>{if(a&&(d(a.name),document.body.offsetWidth<600&&a.name.length>10)){const e=a.name.substring(0,10)+"...";d(e)}r&&a&&(i("".concat(Qe.a.t("messagesList.header.assignedTo")," ").concat(r.name)),document.body.offsetWidth<600&&i("".concat(r.name)))},[a]),l.a.createElement(qs.a,{onClick:o,sx:{cursor:"pointer"},titleTypographyProps:{noWrap:!0},subheaderTypographyProps:{noWrap:!0},avatar:l.a.createElement(yl.a,{src:"".concat(null===a||void 0===a?void 0:a.urlPicture),alt:"contact_image",sx:{width:"50px",height:"50px",borderRadius:"50%"}}),title:"".concat(c," #").concat(t.id),subheader:t.user&&"".concat(s)})},zs=t(1779),Hs=t(1727),Us=t(1780),Qs=t(1038),Gs=t.n(Qs),Vs=t(1036),Ks=t.n(Vs),_s=t(1037),Ys=t.n(_s);const Xs=Object(x.a)(e=>({root:{display:"flex",flexWrap:"wrap"},multFieldLine:{display:"flex","& > *:not(:last-child)":{marginRight:e.spacing(1)}},btnWrapper:{position:"relative"},buttonProgress:{color:Sa.a[500],position:"absolute",top:"50%",left:"50%",marginTop:-12,marginLeft:-12},formControl:{margin:e.spacing(1),minWidth:120}})),Js=ut.c().shape({body:ut.d().min(5,"Mensagem muito curta").required("Obrigat\xf3rio"),contactId:ut.b().required("Obrigat\xf3rio"),sendAt:ut.d().required("Obrigat\xf3rio")});var Zs=e=>{let{open:a,onClose:t,scheduleId:o,contactId:r,cleanContact:i,reload:c}=e;const d=Xs(),m=Object(f.useHistory)(),{user:u}=Object(n.useContext)(la),p={body:"",contactId:"",sendAt:y()().add(1,"hour").format("YYYY-MM-DDTHH:mm"),sentAt:""},g={id:"",name:""},[E,b]=Object(n.useState)(p),[h,v]=Object(n.useState)(g),[C,x]=Object(n.useState)([g]);Object(n.useEffect)(()=>{if(r&&C.length){const e=C.find(e=>e.id===r);e&&v(e)}},[r,C]),Object(n.useEffect)(()=>{const{companyId:e}=u;if(a)try{(async()=>{const{data:a}=await Ze.get("/contacts/list",{params:{companyId:e}});let t=a.map(e=>({id:e.id,name:e.name}));if(Object(A.isArray)(t)&&x([{id:"",name:""},...t]),r&&b(e=>({...e,contactId:r})),!o)return;const{data:n}=await Ze.get("/schedules/".concat(o));b(e=>({...e,...n,sendAt:y()(n.sendAt).format("YYYY-MM-DDTHH:mm")})),v(n.contact)})()}catch(t){Ke(t)}},[o,r,a,u]);const T=()=>{t(),b(p)};return l.a.createElement("div",{className:d.root},l.a.createElement(bt.a,{open:a,onClose:T,maxWidth:"xs",fullWidth:!0,scroll:"paper"},l.a.createElement(vt.a,{id:"form-dialog-title"},"ERRO"===E.status?"Erro de Envio":"".concat(Qe.a.t("scheduleModal.form.body")," ").concat(Object(A.capitalize)(E.status))),l.a.createElement(pt.f,{initialValues:E,enableReinitialize:!0,validationSchema:Js,onSubmit:(e,a)=>{setTimeout(()=>{(async e=>{const a={...e,userId:u.id};try{o?await Ze.put("/schedules/".concat(o),a):await Ze.post("/schedules",a),s.b.success(Qe.a.t("scheduleModal.success")),"function"==typeof c&&c(),r&&"function"===typeof i&&(i(),m.push("/schedules"))}catch(t){Ke(t)}v(g),b(p),T()})(e),a.setSubmitting(!1)},400)}},e=>{let{touched:a,errors:t,isSubmitting:n,values:r}=e;return l.a.createElement(pt.e,null,l.a.createElement(ht.a,{dividers:!0},l.a.createElement("div",{className:d.multFieldLine},l.a.createElement(xt.a,{variant:"outlined",fullWidth:!0},l.a.createElement(Gl.a,{fullWidth:!0,value:h,options:C,onChange:(e,a)=>{const t=a?a.id:"";b({...E,contactId:t}),v(a||g)},getOptionLabel:e=>e.name,getOptionSelected:(e,a)=>a.id===e.id,renderInput:e=>l.a.createElement(Et.a,Object.assign({},e,{variant:"outlined",placeholder:Qe.a.t("scheduleModal.form.contact")}))}))),l.a.createElement("br",null),l.a.createElement("div",{className:d.multFieldLine},l.a.createElement(pt.c,{as:Et.a,rows:9,multiline:!0,label:Qe.a.t("scheduleModal.form.body"),name:"body",error:a.body&&Boolean(t.body),helperText:a.body&&t.body,variant:"outlined",margin:"dense",fullWidth:!0})),l.a.createElement("br",null),l.a.createElement("div",{className:d.multFieldLine},l.a.createElement(pt.c,{as:Et.a,label:Qe.a.t("scheduleModal.form.sendAt"),type:"datetime-local",name:"sendAt",InputLabelProps:{shrink:!0},error:a.sendAt&&Boolean(t.sendAt),helperText:a.sendAt&&t.sendAt,variant:"outlined",fullWidth:!0}))),l.a.createElement(ft.a,null,l.a.createElement(gt.a,{onClick:T,color:"secondary",disabled:n,variant:"outlined"},Qe.a.t("scheduleModal.buttons.cancel")),(null===E.sentAt||""===E.sentAt)&&l.a.createElement(gt.a,{type:"submit",color:"primary",disabled:n,variant:"contained",className:d.btnWrapper},"".concat(o?Qe.a.t("scheduleModal.buttons.okEdit"):Qe.a.t("scheduleModal.buttons.okAdd")),n&&l.a.createElement(yt.a,{size:24,className:d.buttonProgress}))))})))},$s=t(1491),ei=t(1492),ai=t(1493);var ti=e=>{let{isOpen:a,handleClose:t,logs:o}=e;const[r,s]=Object(n.useState)(0),i={create:Qe.a.t("showTicketLogModal.options.create"),chatBot:Qe.a.t("showTicketLogModal.options.chatBot"),queue:Qe.a.t("showTicketLogModal.options.queue"),open:Qe.a.t("showTicketLogModal.options.open"),access:Qe.a.t("showTicketLogModal.options.access"),transfered:Qe.a.t("showTicketLogModal.options.transfered"),receivedTransfer:Qe.a.t("showTicketLogModal.options.receivedTransfer"),pending:Qe.a.t("showTicketLogModal.options.pending"),closed:Qe.a.t("showTicketLogModal.options.closed"),reopen:Qe.a.t("showTicketLogModal.options.reopen")};return l.a.createElement(lo.a,{open:a,onClose:t},l.a.createElement(oo.a,null,Qe.a.t("showTicketLogModal.title.header")),l.a.createElement(ro.a,null,l.a.createElement(St.a,null,l.a.createElement(so.a,null,l.a.createElement($s.a,{activeStep:r,orientation:"vertical"},o.map((e,a)=>{var t,n,o,r;return l.a.createElement(ei.a,{key:a},l.a.createElement(ai.a,null,"".concat("access"===e.type||"transfered"===e.type||"open"===e.type||"pending"===e.type||"closed"===e.type||"reopen"===e.type?null===e||void 0===e||null===(t=e.user)||void 0===t?void 0:t.name:"queue"===(null===e||void 0===e?void 0:e.type)?null===e||void 0===e||null===(n=e.queue)||void 0===n?void 0:n.name:"receivedTransfer"===e.type?(null===e||void 0===e||null===(o=e.queue)||void 0===o?void 0:o.name)+" - "+(null===e||void 0===e||null===(r=e.user)||void 0===r?void 0:r.name):""," \n                    ").concat(i[e.type]," - ").concat(Object(fa.a)(Object(xa.a)(null===e||void 0===e?void 0:e.createdAt),"dd/MM/yyyy HH:mm"))))}))))),l.a.createElement(io.a,null,l.a.createElement(tl.a,{onClick:t,color:"primary"},"Fechar")))},ni=t(1776),li=t(1777),oi=t(1778);var ri=e=>{let{contact:a,numbers:t,queueId:o,whatsappId:r}=e;const s=Object(f.useHistory)(),{user:i}=Object(n.useContext)(la),c=i.companyId,[d,m]=Object(n.useState)(!1),[u,p]=Object(n.useState)(""),[g,E]=Object(n.useState)(""),{setCurrentTicket:b}=Object(n.useContext)(Ka),[h,v]=Object(n.useState)({id:0,name:"",number:0,profilePicUrl:""}),y=e=>{const a=Object(ka.a)(),{id:t,uuid:n}=e;b({id:t,uuid:n,code:a})};Object(n.useEffect)(()=>{const e=setTimeout(()=>{(async()=>{try{if(Object(A.isNil)(t))return;const e=t.replace(/\D/g,""),n=await Ze.get("/contacts/profile/".concat(e));if(n.data.contactId&&0!==n.data.contactId){let e={id:n.data.contactId,name:a,number:t,profilePicUrl:n.data.urlPicture};v(e)}else{let t={name:a,number:e,email:"",companyId:c};const{data:n}=await Ze.post("/contacts",t);v(n)}}catch(e){console.log(e),Ke(e)}})()},500);return()=>clearTimeout(e)},[a,t]);return l.a.createElement(l.a.Fragment,null,l.a.createElement("div",{style:{minWidth:"250px"}},l.a.createElement(co,{isOpen:d,handleClose:()=>{m(!1),m(!1),p(""),E("")},user:u,queue:g}),l.a.createElement(it.a,{container:!0,spacing:1},l.a.createElement(it.a,{item:!0,xs:2},l.a.createElement(k.a,{src:"".concat(null===h||void 0===h?void 0:h.urlPicture)})),l.a.createElement(it.a,{item:!0,xs:9},l.a.createElement(P.a,{style:{marginTop:"12px",marginLeft:"10px"},variant:"subtitle1",color:"primary",gutterBottom:!0},h.name)),l.a.createElement(it.a,{item:!0,xs:12},l.a.createElement(j.a,null),l.a.createElement(gt.a,{fullWidth:!0,color:"primary",onClick:async()=>{try{const{data:e}=await Ze.post("/tickets",{contactId:h.id,userId:i.id,status:"open",queueId:o,companyId:c,whatsappId:r});y(e),s.push("/tickets/".concat(e.uuid))}catch(e){const a=JSON.parse(e.response.data.error);a.userId!==(null===i||void 0===i?void 0:i.id)?(m(!0),p(a.user.name),E(a.queue.name)):(m(!1),p(""),E(""),y(a),s.push("/tickets/".concat(a.uuid)))}},disabled:!h.number},"Conversar")))))};var si=e=>{let{image:a,link:t,description:o}=e;Object(n.useEffect)(()=>{},[a,t,o]);const r=async()=>{try{window.open(t)}catch(e){Ke(e)}};return l.a.createElement(l.a.Fragment,null,l.a.createElement("div",{style:{minWidth:"250px"}},l.a.createElement("div",null,l.a.createElement("div",{style:{float:"left"}},l.a.createElement("img",{src:a,alt:"loc",onClick:r,style:{width:"100px"}})),o&&l.a.createElement("div",{style:{display:"flex",flexWrap:"wrap"}},l.a.createElement(P.a,{style:{marginTop:"12px",marginLeft:"15px",marginRight:"15px",float:"left"},variant:"subtitle1",color:"primary",gutterBottom:!0},l.a.createElement("div",{dangerouslySetInnerHTML:{__html:o.replace("\\n","<br />")}}))),l.a.createElement("div",{style:{display:"block",content:"",clear:"both"}}),l.a.createElement("div",null,l.a.createElement(j.a,null),l.a.createElement(gt.a,{fullWidth:!0,color:"primary",onClick:r,disabled:!t},"Visualizar")))))},ii=t(1185);var ci=e=>{let{messages:a,onClose:t,modalOpen:o}=e;const[r,s]=Object(n.useState)([]),[i,c]=Object(n.useState)(!1),[d,m]=Object(n.useState)(""),[u,p]=Object(n.useState)(null),[g,E]=Object(n.useState)({}),[b,h]=Object(n.useState)(!1),{user:v}=Object(n.useContext)(la),[y,A]=Object(n.useState)(!1),[C,x]=Object(n.useState)(""),[T,O]=Object(n.useState)(!0);Object(n.useEffect)(()=>{if(!o||d.length<3)return void c(!1);c(!0);const e=setTimeout(()=>{(async()=>{try{const{data:e}=await Ze.get("contacts",{params:{searchParam:d}});console.log("contacts",e.contacts),s(e.contacts),c(!1)}catch(e){c(!1),Ke(e)}})()},500);return()=>clearTimeout(e)},[d,o]);const k=Object(f.useHistory)(),S=e=>new Promise(a=>setTimeout(a,e)),w=Object(Ql.a)({trim:!0});return l.a.createElement(l.a.Fragment,null,l.a.createElement(eo,{open:b,initialValues:g,onClose:()=>{h(!1)}}),l.a.createElement(bt.a,{open:o,onClose:()=>{t(),m(""),p(null),A(!1)}},l.a.createElement(vt.a,{id:"form-dialog-title"},"Encaminhar mensagem"),l.a.createElement(ht.a,{dividers:!0},l.a.createElement(Gl.a,{options:r,loading:i,style:{width:300},clearOnBlur:!0,autoHighlight:!0,freeSolo:!0,clearOnEscape:!0,getOptionLabel:e=>e.number?"".concat(e.name," - ").concat(e.number):"".concat(e.name),renderOption:e=>e.number?"".concat(e.name," - ").concat(e.number):"Nenhum contato encontrado com o nome ".concat(e.name),filterOptions:(e,a)=>{const t=w(e,a);return""!==a.inputValue&&!i&&d.length>=3&&t.push({name:"".concat(a.inputValue)}),t},onChange:(e,a)=>((e,a)=>{(null===a||void 0===a?void 0:a.number)?p(a):(null===a||void 0===a?void 0:a.name)&&(E({name:a.name}),h(!0))})(0,a),renderInput:e=>l.a.createElement(Et.a,Object.assign({},e,{label:Qe.a.t("newTicketModal.fieldLabel"),variant:"outlined",autoFocus:!0,onChange:e=>m(e.target.value),onKeyPress:e=>{!i&&u&&e.key},InputProps:{...e.InputProps,endAdornment:l.a.createElement(l.a.Fragment,null,i?l.a.createElement(yt.a,{color:"inherit",size:20}):null,e.InputProps.endAdornment)}}))})),l.a.createElement(ft.a,null,y&&l.a.createElement(l.a.Fragment,null,l.a.createElement(yt.a,{color:"inherit",size:20}),l.a.createElement(Bo.a,{variant:"body1",color:"textSecondary"},"Enviando ",C,"...")),l.a.createElement(ii.a,{style:{marginRight:7,color:"gray"},label:Qe.a.t("messagesInput.signMessage"),labelPlacement:"start",control:l.a.createElement(Xl.a,{size:"small",checked:T,onChange:e=>{O(e.target.checked)},name:"showAllTickets",color:"primary"})}),l.a.createElement(Kl,{variant:"contained",type:"button",disabled:!u||y,onClick:()=>(async e=>{const t=[];for(const l of a){A(!0);try{x(l.id);const a=await Ze.post("/message/forward",{messageId:l.id,contactId:e.id,signMessage:T});t.push(a),S(900)}catch(n){Ke(n)}}A(!1),k.push("/tickets")})(u),color:"primary",loading:i},"Encaminhar"))))};var di=e=>{let{message:a,menuOpen:t,handleClose:o,anchorEl:r,isGroup:s,queueId:i,whatsappId:c}=e;const{setReplyingMessage:d}=Object(n.useContext)(ls),[m,u]=Object(n.useState)(!1),{user:p}=Object(n.useContext)(la),g=Object(f.useHistory)(),{setCurrentTicket:E}=Object(n.useContext)(Ka),[b,h]=Object(n.useState)(!1),[v,y]=Object(n.useState)(""),[A,C]=Object(n.useState)(""),{showSelectMessageCheckbox:x,setShowSelectMessageCheckbox:T,selectedMessages:O,forwardMessageModalOpen:k,setForwardMessageModalOpen:S}=Object(n.useContext)(hs),w=e=>{const a=Object(ka.a)(),{id:t,uuid:n}=e;E({id:t,uuid:n,code:a})};return l.a.createElement(l.a.Fragment,null,l.a.createElement(co,{isOpen:b,handleClose:()=>{h(!1),h(!1),y(""),C("")},user:v,queue:A}),l.a.createElement(wr,{title:Qe.a.t("messageOptionsMenu.confirmationModal.title"),open:m,onClose:u,onConfirm:async()=>{try{await Ze.delete("/messages/".concat(a.id))}catch(e){Ke(e)}}},Qe.a.t("messageOptionsMenu.confirmationModal.message")),l.a.createElement(ci,{modalOpen:k,messages:O,onClose:e=>{S(!1),T(!1)}}),l.a.createElement(D.a,{anchorEl:r,getContentAnchorEl:null,anchorOrigin:{vertical:"bottom",horizontal:"right"},transformOrigin:{vertical:"top",horizontal:"right"},open:t,onClose:o},a.fromMe&&l.a.createElement(F.a,{onClick:e=>{u(!0),o()}},Qe.a.t("messageOptionsMenu.delete")),l.a.createElement(F.a,{onClick:()=>{d(a),o()}},Qe.a.t("messageOptionsMenu.reply")),l.a.createElement(F.a,{onClick:()=>{T(!x),o()}},Qe.a.t("messageOptionsMenu.forward")),!a.fromMe&&s&&l.a.createElement(F.a,{onClick:()=>{var e;return(async e=>{if(e){try{const{data:a}=await Ze.post("/tickets",{contactId:e,userId:null===p||void 0===p?void 0:p.id,status:"open",queueId:i,whatsappId:c});w(a),g.push("/tickets/".concat(a.uuid))}catch(a){const e=JSON.parse(a.response.data.error);e.userId!==(null===p||void 0===p?void 0:p.id)?(h(!0),y(e.user.name),C(e.queue.name)):(h(!1),y(""),C(""),w(e),g.push("/tickets/".concat(e.uuid)))}o()}})(null===a||void 0===a||null===(e=a.contact)||void 0===e?void 0:e.id)}},Qe.a.t("messageOptionsMenu.talkTo"))))},mi=t.p+"static/media/wa-background.bded4f44.png",ui=t.p+"static/media/wa-background-dark.4c52474f.png",pi=t(1032);var gi=e=>{let{videoUrl:a}=e;const[t,o]=Object(n.useState)("");Object(n.useEffect)(()=>{let e=a.split("v=")[1];if(!e){const t=a.match(/(?:youtu\.be\/)([^?\n]+)/);e=t?t[1]:null}let t=e.indexOf("&");-1!=t&&(e=e.substring(0,t)),o(e)},[a]);return l.a.createElement("div",null,t&&l.a.createElement(pi.a,{videoId:t,opts:{height:"300",width:"100%"},style:{borderRadius:10,overflow:"hidden"}}))},Ei=t(1807);var bi=e=>{let{message:a}=e;const[t,o]=l.a.useState(!1),{showSelectMessageCheckbox:r,setSelectedMessages:s,selectedMessages:i}=Object(n.useContext)(hs);return r?l.a.createElement(Ei.a,{color:"primary",checked:t,onChange:e=>((e,a)=>{const t=i;if(e.target.checked)o(!0),t.push(a);else{const e=t.findIndex(e=>e.id===a.id);t.splice(e,1),o(!0)}s(t)})(e,a)}):null};const fi=Object(x.a)(e=>({messagesListWrapper:{overflow:"hidden",position:"relative",display:"flex",flexDirection:"column",flexGrow:1,width:"100%",minWidth:300,minHeight:200},currentTick:{alignItems:"center",textAlign:"center",alignSelf:"center",width:"95%",backgroundColor:e.palette.primary.main,margin:"10px",borderRadius:"10px",boxShadow:"1px 5px 10px #b3b3b3"},currentTicktText:{color:e.palette.primary,fontWeight:"bold",padding:8,alignSelf:"center",marginLeft:"0px"},messagesList:{backgroundImage:"light"===e.mode?"url(".concat(mi,")"):"url(".concat(ui,")"),backgroundColor:"light"===e.mode?"transparent":"#0b0b0d",display:"flex",flexDirection:"column",flexGrow:1,padding:"20px 20px 30px 20px",overflowY:"scroll",...e.scrollbarStyles},dragElement:{background:"rgba(255, 255, 255, 0.8)",position:"absolute",width:"100%",height:"100%",zIndex:999999,textAlign:"center",fontSize:"3em",border:"5px dashed #333",color:"#333",display:"flex",justifyContent:"center",alignItems:"center"},circleLoading:{color:Nn.a[500],position:"absolute",opacity:"70%",top:0,left:"50%",marginTop:12},messageLeft:{marginRight:20,marginTop:2,minWidth:100,maxWidth:600,height:"auto",display:"block",position:"relative","&:hover #messageActionsButton":{display:"flex",position:"absolute",top:0,right:0},whiteSpace:"pre-wrap",backgroundColor:"light"===e.mode?"#ffffff":"#202c33",color:"light"===e.mode?"#303030":"#ffffff",alignSelf:"flex-start",borderTopLeftRadius:0,borderTopRightRadius:8,borderBottomLeftRadius:8,borderBottomRightRadius:8,paddingLeft:5,paddingRight:5,paddingTop:5,paddingBottom:0},quotedContainerLeft:{margin:"-3px -80px 6px -6px",overflow:"hidden",backgroundColor:"light"===e.mode?"#f0f0f0":"#1d282f",borderRadius:"7.5px",display:"flex",position:"relative"},quotedMsg:{padding:10,maxWidth:300,height:"auto",display:"block",whiteSpace:"pre-wrap",overflow:"hidden"},quotedSideColorLeft:{flex:"none",width:"4px",backgroundColor:"#388aff"},messageRight:{marginLeft:20,marginTop:2,minWidth:100,maxWidth:600,height:"auto",display:"block",position:"relative","&:hover #messageActionsButton":{display:"flex",position:"absolute",top:0,right:0},whiteSpace:"pre-wrap",backgroundColor:"light"===e.mode?"#dcf8c6":"#005c4b",color:"light"===e.mode?"#303030":"#ffffff",alignSelf:"flex-end",borderTopLeftRadius:8,borderTopRightRadius:8,borderBottomLeftRadius:8,borderBottomRightRadius:0,paddingLeft:5,paddingRight:5,paddingTop:5,paddingBottom:0},messageRightPrivate:{marginLeft:20,marginTop:2,minWidth:100,maxWidth:600,height:"auto",display:"block",position:"relative","&:hover #messageActionsButton":{display:"flex",position:"absolute",top:0,right:0},whiteSpace:"pre-wrap",backgroundColor:"#F0E68C",color:"#303030",alignSelf:"flex-end",borderTopLeftRadius:8,borderTopRightRadius:8,borderBottomLeftRadius:8,borderBottomRightRadius:0,paddingLeft:5,paddingRight:5,paddingTop:5,paddingBottom:0},quotedContainerRight:{margin:"-3px -80px 6px -6px",overflowY:"hidden",backgroundColor:"light"===e.mode?"#cfe9ba":"#025144",borderRadius:"7.5px",display:"flex",position:"relative"},quotedMsgRight:{padding:10,maxWidth:300,height:"auto",whiteSpace:"pre-wrap"},quotedSideColorRight:{flex:"none",width:"4px",backgroundColor:"#35cd96"},messageActionsButton:{display:"none",position:"relative",color:"#999",zIndex:1,backgroundColor:"inherit",opacity:"90%","&:hover, &.Mui-focusVisible":{backgroundColor:"inherit"}},messageContactName:{display:"flex",color:"#6bcbef",fontWeight:500},textContentItem:{overflowWrap:"break-word",padding:"3px 80px 6px 6px"},textContentItemDeleted:{fontStyle:"italic",color:"rgba(0, 0, 0, 0.36)",overflowWrap:"break-word",padding:"3px 80px 6px 6px"},messageMedia:{objectFit:"cover",width:250,height:200,borderTopLeftRadius:8,borderTopRightRadius:8,borderBottomLeftRadius:8,borderBottomRightRadius:8},timestamp:{fontSize:11,position:"absolute",bottom:0,right:5,color:"#999"},forwardMessage:{fontSize:12,fontStyle:"italic",position:"absolute",top:0,left:5,color:"#999",display:"flex",alignItems:"center"},dailyTimestamp:{alignItems:"center",textAlign:"center",alignSelf:"center",width:"110px",backgroundColor:"#e1f3fb",margin:"10px",borderRadius:"10px",boxShadow:"0 1px 1px #b3b3b3"},dailyTimestampText:{color:"#808888",padding:8,alignSelf:"center",marginLeft:"0px"},ackIcons:{fontSize:18,verticalAlign:"middle",marginLeft:4},deletedIcon:{fontSize:18,verticalAlign:"middle",marginRight:4},ackDoneAllIcon:{color:Nn.a[500],fontSize:18,verticalAlign:"middle",marginLeft:4},ackPlayedIcon:{color:Sa.a[500],fontSize:18,verticalAlign:"middle",marginLeft:4},downloadMedia:{display:"flex",alignItems:"center",justifyContent:"center",backgroundColor:"inherit",padding:10},messageCenter:{marginTop:5,alignItems:"center",verticalAlign:"center",alignContent:"center",backgroundColor:"#E1F5FEEB",fontSize:"12px",minWidth:100,maxWidth:270,color:"#272727",borderTopLeftRadius:0,borderTopRightRadius:8,borderBottomLeftRadius:8,borderBottomRightRadius:8,paddingLeft:5,paddingRight:5,paddingTop:5,paddingBottom:0,boxShadow:"0 1px 1px #b3b3b3"},deletedMessage:{color:"#f55d65"}})),hi=(e,a)=>{if("LOAD_MESSAGES"===a.type){const t=a.payload,n=[];return t.forEach(a=>{const t=e.findIndex(e=>e.id===a.id);-1!==t?e[t]=a:n.push(a)}),[...n,...e]}if("ADD_MESSAGE"===a.type){const t=a.payload,n=e.findIndex(e=>e.id===t.id);return-1!==n?e[n]=t:e.push(t),[...e]}if("DELETE_MESSAGE"===a.type){const t=a.payload,n=e.findIndex(e=>e.id===t.id);return-1!==n&&e.splice(n,1),[...e]}if("UPDATE_MESSAGE"===a.type){const t=a.payload,n=e.findIndex(e=>e.id===t.id);return-1!==n&&(e[n]=t),[...e]}if("RESET"===a.type)return[]};var vi=e=>{let{ticketId:a,isGroup:o,onDrop:r,whatsapp:s,queueId:i,channel:c}=e;const d=fi(),[m,u]=Object(n.useReducer)(hi,[]),[p,g]=Object(n.useState)(1),[E,b]=Object(n.useState)(!1),[f,v]=Object(n.useState)(!1),y=Object(n.useRef)(),[A,C]=Object(n.useState)({}),{setReplyingMessage:x}=Object(n.useContext)(ls),[T,O]=Object(n.useState)(null),k=Boolean(T),S=Object(n.useRef)(a),{getAll:w}=To(),[I,N]=Object(n.useState)({}),[R,P]=Object(n.useState)(!1),[D,F]=Object(n.useState)(!1),{selectedQueuesMessage:L}=Object(n.useContext)(lr),{showSelectMessageCheckbox:q}=Object(n.useContext)(hs),{user:W}=Object(n.useContext)(la),B=W.companyId;Object(n.useEffect)(()=>{!async function(){const e=await w(B);let a,t;for(const[n,l]of Object.entries(e))"lgpdDeleteMessage"===n&&(a=l),"enableLGPD"===n&&(t=l);"enabled"===t&&"enabled"===a&&F(!0)}()},[]),Object(n.useEffect)(()=>{u({type:"RESET"}),g(1),S.current=a},[a,L]),Object(n.useEffect)(()=>{v(!0);const e=setTimeout(()=>{(async()=>{if(void 0!==a)try{if(S.current===a){const{data:e}=await Ze.get("/messages/"+a,{params:{pageNumber:p,selectedQueues:JSON.stringify(L)}});u({type:"LOAD_MESSAGES",payload:e.messages}),b(e.hasMore),v(!1),1===p&&e.messages.length>1&&z()}}catch(e){v(!1),Ke(e)}})()},500);return()=>{clearTimeout(e)}},[p,a,L]),Object(n.useEffect)(()=>{const e=aa({companyId:B,userId:W.id});return e.on("connect",()=>e.emit("joinChatBox","".concat(a))),e.on("company-".concat(B,"-appMessage"),e=>{"create"===e.action&&(u({type:"ADD_MESSAGE",payload:e.message}),z()),"update"===e.action&&u({type:"UPDATE_MESSAGE",payload:e.message}),"delete"===e.action&&u({type:"DELETE_MESSAGE",payload:e.message})}),()=>{e.disconnect()}},[a]);const z=()=>{y.current&&y.current.scrollIntoView({})},H=(e,a)=>{O(e.currentTarget),C(a)},U=(e,a)=>{O(null),x(a)},Q=e=>{if("locationMessage"===e.mediaType&&e.body.split("|").length>=2){let a=e.body.split("|"),t=a[0],n=a[1],o=null;return a.length>2&&(o=e.body.split("|")[2]),l.a.createElement(si,{image:t,link:n,description:o})}if("contactMessage"===e.mediaType){var a;let t=e.body.split("\n"),n=[],o="";for(let e=0;e<t.length;e++){let a=t[e].split(":");for(let e=0;e<a.length;e++)-1!==a[e].indexOf("+")&&n.push({number:a[e]}),-1!==a[e].indexOf("FN")&&(o=a[e+1])}return l.a.createElement(ri,{contact:o,numbers:null===(a=n[0])||void 0===a?void 0:a.number,queueId:i,whatsappId:null===s||void 0===s?void 0:s.id})}return"image"===e.mediaType?l.a.createElement(fr,{imageUrl:e.mediaUrl}):"audio"===e.mediaType?l.a.createElement(Ts,{url:e.mediaUrl}):"video"===e.mediaType?l.a.createElement("video",{className:d.messageMedia,src:e.mediaUrl,controls:!0}):l.a.createElement(l.a.Fragment,null,l.a.createElement("div",{className:d.downloadMedia},l.a.createElement(gt.a,{startIcon:l.a.createElement(ni.a,null),color:"primary",variant:"outlined",target:"_blank",href:e.mediaUrl},"Download")),l.a.createElement(j.a,null))},G=(e,a)=>{const t=Object(fa.a)(new Date,"dd/MM/yyyy");if(0===a)return l.a.createElement("span",{className:d.dailyTimestamp,key:"timestamp-".concat(e.id)},l.a.createElement("div",{className:d.dailyTimestampText},t===Object(fa.a)(Object(xa.a)(m[a].createdAt),"dd/MM/yyyy")?"HOJE":Object(fa.a)(Object(xa.a)(m[a].createdAt),"dd/MM/yyyy")));if(a<m.length-1){let n=Object(xa.a)(m[a].createdAt),o=Object(xa.a)(m[a-1].createdAt);if(!Object(Ca.a)(n,o))return l.a.createElement("span",{className:d.dailyTimestamp,key:"timestamp-".concat(e.id)},l.a.createElement("div",{className:d.dailyTimestampText},t===Object(fa.a)(Object(xa.a)(m[a].createdAt),"dd/MM/yyyy")?"HOJE":Object(fa.a)(Object(xa.a)(m[a].createdAt),"dd/MM/yyyy")))}else if(a===m.length-1)return l.a.createElement("div",{key:"ref-".concat(e.createdAt),ref:y,style:{float:"left",clear:"both"}})},V=(e,a)=>{var t;let n=null===(t=m[a-1])||void 0===t?void 0:t.ticketId;var o,r,s,i;if(n!==e.ticketId&&void 0!==n)return(null===(o=e.ticket)||void 0===o?void 0:o.queue)?l.a.createElement("span",{className:d.currentTick,key:"timestamp-".concat(e.id,"a")},l.a.createElement("div",{className:d.currentTicktText,style:{backgroundColor:(null===e||void 0===e||null===(r=e.ticket)||void 0===r||null===(s=r.queue)||void 0===s?void 0:s.color)||"grey"}},"#",Qe.a.t("ticketsList.called")," ",e.ticketId," - ",null===(i=e.ticket.queue)||void 0===i?void 0:i.name)):l.a.createElement("span",{className:d.currentTick,key:"timestamp-".concat(e.id,"b")},l.a.createElement("div",{className:d.currentTicktText,style:{backgroundColor:"grey"}},"#",Qe.a.t("ticketsList.called")," ",e.ticketId," - ",Qe.a.t("ticketsList.noQueue")))},K=(e,a)=>{if(a<m.length&&a>0){if(m[a].fromMe!==m[a-1].fromMe)return l.a.createElement("span",{style:{marginTop:16},key:"divider-".concat(e.id)})}},_=t(639),Y=e=>{var a,t,n,o,r,s;return l.a.createElement("div",{className:Object(h.a)(d.quotedContainerLeft,{[d.quotedContainerRight]:e.fromMe})},l.a.createElement("span",{className:Object(h.a)(d.quotedSideColorLeft,{[d.quotedSideColorRight]:null===(a=e.quotedMsg)||void 0===a?void 0:a.fromMe})}),l.a.createElement("div",{className:d.quotedMsg},!(null===(t=e.quotedMsg)||void 0===t?void 0:t.fromMe)&&l.a.createElement("span",{className:d.messageContactName},null===(n=e.quotedMsg)||void 0===n||null===(o=n.contact)||void 0===o?void 0:o.name),"audio"===e.quotedMsg.mediaType&&l.a.createElement("div",{className:d.downloadMedia},l.a.createElement(Ts,{url:e.quotedMsg.mediaUrl})),"video"===e.quotedMsg.mediaType&&l.a.createElement("video",{className:d.messageMedia,src:e.quotedMsg.mediaUrl,controls:!0}),"contactMessage"===e.quotedMsg.mediaType&&"Contato","application"===e.quotedMsg.mediaType&&l.a.createElement("div",{className:d.downloadMedia},l.a.createElement(gt.a,{startIcon:l.a.createElement(ni.a,null),color:"primary",variant:"outlined",target:"_blank",href:e.quotedMsg.mediaUrl},"Download")),"image"===e.quotedMsg.mediaType&&l.a.createElement(fr,{imageUrl:e.quotedMsg.mediaUrl})||(null===(r=e.quotedMsg)||void 0===r?void 0:r.body),"image"===!e.quotedMsg.mediaType&&(null===(s=e.quotedMsg)||void 0===s?void 0:s.body)))},X=e=>{e.preventDefault(),e.stopPropagation(),"dragenter"===e.type||"dragover"===e.type?P(!0):"dragleave"===e.type&&P(!1)},J=e=>/(?:youtube\.com\/(?:[^\/\n\s]+\/\S+\/|(?:v|e(?:mbed)?)\/|\S*?[?&]v=)|youtu\.be\/)([a-zA-Z0-9_-]{11})/.test(e),Z=/<([^>]+)>/g,$=/\*(.*?)\*/g;return l.a.createElement("div",{className:d.messagesListWrapper,onDragEnter:X},R&&l.a.createElement("div",{className:d.dragElement,onDragEnter:X,onDragLeave:X,onDragOver:X,onDrop:e=>{e.preventDefault(),e.stopPropagation(),P(!1),e.dataTransfer.files&&e.dataTransfer.files[0]&&r&&r(e.dataTransfer.files)}},"Solte o arquivo aqui"),l.a.createElement(di,{message:A,anchorEl:T,menuOpen:k,handleClose:e=>{O(null)},isGroup:o,whatsappId:null===s||void 0===s?void 0:s.id,queueId:i}),l.a.createElement("div",{id:"messagesList",className:d.messagesList,onScroll:e=>{if(!E)return;const{scrollTop:a}=e.currentTarget;0===a&&(document.getElementById("messagesList").scrollTop=1),f||a<50&&g(e=>e+1)}},m.length>0?(()=>{if(m.length>0){return m.map((e,a)=>{var t,n,r,s,i,c;return"call_log"===e.mediaType?l.a.createElement(l.a.Fragment,{key:e.id},G(e,a),V(e,a),K(e,a),l.a.createElement("div",{className:d.messageCenter},l.a.createElement(M.a,{variant:"contained",size:"small",id:"messageActionsButton",disabled:e.isDeleted,className:d.messageActionsButton,onClick:a=>H(a,e)},l.a.createElement(oi.a,null)),o&&l.a.createElement("span",{className:d.messageContactName},null===(t=e.contact)||void 0===t?void 0:t.name),l.a.createElement("div",null,l.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 17",width:"20",height:"17"},l.a.createElement("path",{fill:"#df3333",d:"M18.2 12.1c-1.5-1.8-5-2.7-8.2-2.7s-6.7 1-8.2 2.7c-.7.8-.3 2.3.2 2.8.2.2.3.3.5.3 1.4 0 3.6-.7 3.6-.7.5-.2.8-.5.8-1v-1.3c.7-1.2 5.4-1.2 6.4-.1l.1.1v1.3c0 .2.1.4.2.6.1.2.3.3.5.4 0 0 2.2.7 3.6.7.2 0 1.4-2 .5-3.1zM5.4 3.2l4.7 4.6 5.8-5.7-.9-.8L10.1 6 6.4 2.3h2.5V1H4.1v4.8h1.3V3.2z"}))," ",l.a.createElement("span",null,Qe.a.t("ticketsList.missedCall")," ",Object(fa.a)(Object(xa.a)(e.createdAt),"HH:mm"))))):e.fromMe?l.a.createElement(l.a.Fragment,{key:e.id},G(e,a),V(e,a),K(e,a),l.a.createElement("div",{className:e.isPrivate?d.messageRightPrivate:d.messageRight,title:e.queueId&&(null===(n=e.queue)||void 0===n?void 0:n.name),onDoubleClick:a=>U(0,e)},q&&l.a.createElement(bi,{message:e}),l.a.createElement(M.a,{variant:"contained",size:"small",id:"messageActionsButton",disabled:e.isDeleted,className:d.messageActionsButton,onClick:a=>H(a,e)},l.a.createElement(oi.a,null)),e.isForwarded&&l.a.createElement("div",null,l.a.createElement("span",{className:d.forwardMessage},l.a.createElement(Yr.a,{style:{color:"grey",transform:"scaleX(-1)"}})," Encaminhada"),l.a.createElement("br",null)),J(e.body)&&l.a.createElement(l.a.Fragment,null,console.log(e.body),l.a.createElement(gi,{videoUrl:e.body})),!D&&e.isDeleted&&l.a.createElement("div",null,l.a.createElement("span",{className:d.deletedMessage},"\ud83d\udeab Essa mensagem foi apagada \xa0")),(e.mediaUrl||"locationMessage"===e.mediaType||"contactMessage"===e.mediaType)&&Q(e),l.a.createElement("div",{className:Object(h.a)(d.textContentItem,{[d.textContentItemDeleted]:e.isDeleted})},e.quotedMsg&&Y(e),("image"===e.mediaType||"video"===e.mediaType)&&_.basename(e.mediaUrl)===e.body||"audio"!==e.mediaType&&"reactionMessage"!=e.mediaType&&"locationMessage"!=e.mediaType&&"contactMessage"!==e.mediaType&&l.a.createElement(l.a.Fragment,null,Z.test(e.body)&&l.a.createElement("div",null,(c=e.body,$.test(c)&&(c=c.replace($,"**$1**")),c)),!Z.test(e.body)&&l.a.createElement(za,null,e.body)),e.quotedMsg&&"reactionMessage"===e.mediaType&&l.a.createElement(l.a.Fragment,null,l.a.createElement("span",{style:{marginLeft:"0px"}},l.a.createElement(za,null,"Voc\xea reagiu... "+e.body))),l.a.createElement("span",{className:d.timestamp},e.isEdited?"Editada "+Object(fa.a)(Object(xa.a)(e.createdAt),"HH:mm"):Object(fa.a)(Object(xa.a)(e.createdAt),"HH:mm"),(e=>0===e.ack?l.a.createElement(Rl.a,{fontSize:"small",className:d.ackIcons}):1===e.ack?l.a.createElement(Ro.a,{fontSize:"small",className:d.ackIcons}):2===e.ack?l.a.createElement(li.a,{fontSize:"small",className:d.ackIcons}):3===e.ack||4===e.ack?l.a.createElement(li.a,{fontSize:"small",className:"audio"===e.mediaType?d.ackPlayedIcon:d.ackDoneAllIcon}):5===e.ack?l.a.createElement(li.a,{fontSize:"small",className:d.ackDoneAllIcon}):void 0)(e))))):l.a.createElement(l.a.Fragment,{key:e.id},G(e,a),V(e,a),K(e,a),l.a.createElement("div",{className:d.messageLeft,title:e.queueId&&(null===(r=e.queue)||void 0===r?void 0:r.name),onDoubleClick:a=>U(0,e)},q&&l.a.createElement(bi,{message:e}),l.a.createElement(M.a,{variant:"contained",size:"small",id:"messageActionsButton",disabled:e.isDeleted,className:d.messageActionsButton,onClick:a=>H(a,e)},l.a.createElement(oi.a,null)),e.isForwarded&&l.a.createElement("div",null,l.a.createElement("span",{className:d.forwardMessage},l.a.createElement(Yr.a,{style:{color:"grey",transform:"scaleX(-1)"}})," Encaminhada"),l.a.createElement("br",null)),o&&l.a.createElement("span",{className:d.messageContactName},null===(s=e.contact)||void 0===s?void 0:s.name),J(e.body)&&l.a.createElement(l.a.Fragment,null,l.a.createElement(gi,{videoUrl:e.body})),!D&&e.isDeleted&&l.a.createElement("div",null,l.a.createElement("span",{className:d.deletedMessage},"\ud83d\udeab Essa mensagem foi apagada pelo contato \xa0")),(e.mediaUrl||"locationMessage"===e.mediaType||"contactMessage"===e.mediaType)&&Q(e),l.a.createElement("div",{className:Object(h.a)(d.textContentItem,{[d.textContentItemDeleted]:e.isDeleted})},e.quotedMsg&&Y(e),(null!==e.mediaUrl&&("image"===e.mediaType||"video"===e.mediaType)&&_.basename(e.mediaUrl).trim()!==e.body.trim()||"audio"!==e.mediaType&&"image"!==e.mediaType&&"video"!==e.mediaType&&"reactionMessage"!=e.mediaType&&"locationMessage"!=e.mediaType&&"contactMessage"!==e.mediaType)&&l.a.createElement(l.a.Fragment,null,Z.test(e.body)&&l.a.createElement("span",null,e.body),!Z.test(e.body)&&l.a.createElement(za,null,D&&e.isDeleted?"\ud83d\udeab _Mensagem apagada_ ":e.body)),e.quotedMsg&&"reactionMessage"===e.mediaType&&l.a.createElement(l.a.Fragment,null,l.a.createElement("span",{style:{marginLeft:"0px"}},l.a.createElement(za,null,(null===e||void 0===e||null===(i=e.contact)||void 0===i?void 0:i.name)+" reagiu... "+e.body))),l.a.createElement("span",{className:d.timestamp},e.isEdited?"Editada "+Object(fa.a)(Object(xa.a)(e.createdAt),"HH:mm"):Object(fa.a)(Object(xa.a)(e.createdAt),"HH:mm")))))})}return l.a.createElement("div",null,"Diga ol\xe1 para seu novo contato!")})():[]),"whatsapp"!==c&&void 0!==c&&l.a.createElement("div",{style:{width:"100%",display:"flex",padding:"10px",alignItems:"center",backgroundColor:"#E1F3FB"}},"facebook"===c?l.a.createElement(ao.a,null):l.a.createElement(to.a,null),l.a.createElement("span",null,"Voc\xea tem 24h para responder ap\xf3s receber uma mensagem, de acordo com as pol\xedticas do Facebook.")),f&&l.a.createElement("div",null,l.a.createElement(yt.a,{className:d.circleLoading})))},yi=t(1035),Ai=t.n(yi);const Ci=Object(x.a)(e=>({root:{display:"flex",height:"100%",position:"relative",overflow:"hidden"},mainWrapper:{flex:1,height:"100%",display:"flex",flexDirection:"column",overflow:"hidden",borderTopLeftRadius:0,borderBottomLeftRadius:0,borderLeft:"0",marginRight:-320,transition:e.transitions.create("margin",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen})},mainWrapperShift:{borderTopRightRadius:0,borderBottomRightRadius:0,transition:e.transitions.create("margin",{easing:e.transitions.easing.easeOut,duration:e.transitions.duration.enteringScreen}),marginRight:0}}));function xi(e){let{open:a,handleClose:t,ticketId:o}=e;Object(f.useHistory)(),Ci();const{user:r}=Object(n.useContext)(la),[,s]=Object(n.useState)(!1),[i,c]=Object(n.useState)(!0),[d,m]=Object(n.useState)({}),[u,p]=Object(n.useState)({}),[g,E]=Object(n.useState)(!1),b=()=>{const e=document.getElementById("messagesList"),a=document.getElementById("TicketHeader"),t={margin:1,filename:"relat\xf3rio_atendimento_".concat(o,".pdf"),image:{type:"jpeg",quality:.98},html2canvas:{scale:2},jsPDF:{unit:"mm",format:"a4",orientation:"portrait"}};if(e){const n=a.cloneNode(!0),l=e.cloneNode(!0),o=document.createElement("div");o.appendChild(n),o.appendChild(l),Ai()().from(o).set(t).save()}else Ke("Elemento n\xe3o encontrado para exportar.")},h=()=>{g||(b(),E(!0),t())};return Object(n.useEffect)(()=>{a&&h()},[a,o,h]),l.a.createElement(bt.a,{maxWidth:"md",onClose:t,open:a},l.a.createElement(ft.a,null,l.a.createElement(gt.a,{onClick:b,color:"primary"},"Exportar para PDF"),l.a.createElement(gt.a,{onClick:t,color:"primary"},"Fechar")))}const Ti=Object(x.a)(e=>({actionButtons:{marginRight:6,maxWidth:"100%",flex:"none",alignSelf:"center",marginLeft:"auto",display:"flex","& > *":{margin:e.spacing(1)}},bottomButtonVisibilityIcon:{padding:1,color:"light"===e.mode?"#0872b9":"#FFF"},botoes:{display:"flex",padding:"15px",justifyContent:"flex-end",maxWidth:"100%"}})),Oi=ut.c().shape({ratingId:ut.d().required("Avalia\xe7\xe3o obrigat\xf3ria")});var ki=e=>{let{ticket:a}=e;const t=Ti(),o=Object(f.useHistory)(),r=Object(n.useRef)(!0),[i,c]=Object(n.useState)(!1),{user:d}=Object(n.useContext)(la),{setCurrentTicket:m}=Object(n.useContext)(Ka),[u,p]=l.a.useState(!1),g=l.a.useRef(null),[E,b]=Object(n.useState)(!1),[h,v]=Object(n.useState)(!1),[y,A]=Object(n.useState)(!1),[C,x]=Object(n.useState)(null),[T,O]=Object(n.useState)(a.contact.acceptAudioMessage),[k,S]=Object(n.useState)(!1),[w,I]=Object(n.useState)(!1),[j,N]=Object(n.useState)(!1),[R,P]=Object(n.useState)(!1),[D,L]=Object(n.useState)(a.useIntegration),[q,W]=Object(n.useState)(!1),[B,z]=Object(n.useState)(""),[H,U]=Object(n.useState)(""),[Q,G]=Object(n.useState)([]),{get:V}=To(),{getPlanCompany:K}=ua();Object(n.useEffect)(()=>{!async function(){const e=d.companyId,a=await K(void 0,e);P(a.plan.useSchedules),N(!1)}(),I(!1)},[]);const _=()=>{g.current.resetForm(),p(!1)},Y=async()=>{S(!0)},X=e=>{b(!0),_()},J=e=>{const a=Object(ka.a)(),{id:t,uuid:n}=e;m({id:t,uuid:n,code:a})},Z=async(e,t,n)=>{c(!0);try{var l,r;let e;await Ze.put("/tickets/".concat(a.id),{status:t,userId:n||null});try{e=await V({column:"sendGreetingAccepted"})}catch(s){Ke(s)}"enabled"!==(null===(l=e)||void 0===l?void 0:l.sendGreetingAccepted)||a.isGroup&&"enabled"!==(null===(r=a.whatsapp)||void 0===r?void 0:r.groupAsTicket)||"pending"!==a.status||(async e=>{const a="{{ms}} *{{name}}*, ".concat(Qe.a.t("mainDrawer.appBar.user.myName")," *").concat(null===d||void 0===d?void 0:d.name,"* ").concat(Qe.a.t("mainDrawer.appBar.user.continuity"),"."),t={read:1,fromMe:!0,mediaUrl:"",body:"*".concat(Qe.a.t("mainDrawer.appBar.user.virtualAssistant"),":*\n").concat(a.trim())};try{await Ze.post("/messages/".concat(e),t)}catch(s){Ke(s)}})(a.id),c(!1),"open"===t||"group"===t?(m({...a,code:"#"+t}),J(a),o.push("/tickets/".concat(a.uuid))):(m({id:null,code:null}),o.push("/tickets"))}catch(s){c(!1),Ke(s)}};return l.a.createElement(l.a.Fragment,null,q&&l.a.createElement(co,{isOpen:q,handleClose:()=>{W(!1),c(!1)},user:B,queue:H}),k&&l.a.createElement(ko,{modalOpen:k,onClose:e=>S(!1),ticketId:a.id,ticket:a}),w&&l.a.createElement(ti,{isOpen:w,handleClose:e=>I(!1),logs:Q}),j&&l.a.createElement(xi,{open:j,handleClose:()=>N(!1),ticketId:a.id}),l.a.createElement("div",{className:t.actionButtons},l.a.createElement(M.a,{className:t.bottomButtonVisibilityIcon,onClick:()=>N(!0)},l.a.createElement(Ha.a,{title:Qe.a.t("ticketsList.buttons.exportAsPDF")},l.a.createElement(zs.a,null))),"closed"===a.status&&(null===a.queueId||void 0===a.queueId)&&l.a.createElement(Kl,{loading:i,startIcon:l.a.createElement(Fo.a,null),size:"small",onClick:e=>Y()},Qe.a.t("messagesList.header.buttons.reopen")),"closed"===a.status&&null!==a.queueId&&l.a.createElement(Kl,{startIcon:l.a.createElement(Fo.a,null),loading:i,onClick:e=>(async e=>{c(!0);try{const t=await Ze.put("/tickets/".concat(e),{status:a.isGroup?"group":"open",userId:null===d||void 0===d?void 0:d.id});t.data.id!==a.id?t.data.userId!==(null===d||void 0===d?void 0:d.id)?(W(!0),z(t.data.user.name),U(t.data.queue.name)):(c(!1),J(t.data),o.push("/tickets/".concat(t.data.uuid))):(r.current&&c(!1),J(a),o.push("/tickets/".concat(a.uuid)))}catch(t){c(!1),Ke(t)}})(a.id)},Qe.a.t("messagesList.header.buttons.reopen")),l.a.createElement(M.a,{className:t.bottomButtonVisibilityIcon,onClick:async()=>{c(!0);try{const{data:e}=await Ze.get("/tickets-log/".concat(a.id));G(e),I(!0),c(!1)}catch(e){c(!1),Ke(e)}}},l.a.createElement(Ha.a,{title:Qe.a.t("messagesList.header.buttons.logTicket")},l.a.createElement(Hs.a,null))),("open"===a.status||"group"===a.status)&&l.a.createElement(l.a.Fragment,null,l.a.createElement(l.a.Fragment,null,l.a.createElement(M.a,{className:t.bottomButtonVisibilityIcon,onClick:async()=>{c(!0);try{await Ze.put("/tickets/".concat(a.id),{useIntegration:!D}),L(!D),c(!1)}catch(e){c(!1),Ke(e)}}},l.a.createElement(Ha.a,{title:Qe.a.t("messagesList.header.buttons.enableIntegration")},!0===D?l.a.createElement(ze.a,{style:{color:"green"}}):l.a.createElement(ze.a,null))),l.a.createElement(M.a,{className:t.bottomButtonVisibilityIcon},l.a.createElement(Ha.a,{title:Qe.a.t("messagesList.header.buttons.resolve")},l.a.createElement(Ks.a,{onClick:async e=>{const t=await V({column:"requiredTag"});if("enabled"===(null===t||void 0===t?void 0:t.requiredTag))try{(await Ze.get("/contactTags/".concat(a.contact.id))).data.tags?p(!0):s.b.warning(Qe.a.t("messagesList.header.buttons.requiredTag"))}catch(n){Ke(n)}else p(!0)}}))),l.a.createElement(M.a,{className:t.bottomButtonVisibilityIcon},l.a.createElement(Ha.a,{title:Qe.a.t("tickets.buttons.returnQueue")},l.a.createElement(Ys.a,{onClick:e=>Z(0,"pending",null)}))),l.a.createElement(M.a,{className:t.bottomButtonVisibilityIcon},l.a.createElement(Ha.a,{title:"Transferir Ticket"},l.a.createElement(Us.a,{onClick:e=>{v(!0),_()}})))),R&&l.a.createElement(l.a.Fragment,null,l.a.createElement(M.a,{className:t.bottomButtonVisibilityIcon},l.a.createElement(Ha.a,{title:Qe.a.t("tickets.buttons.scredule")},l.a.createElement(Gs.a,{onClick:()=>{_(),x(a.contact.id),A(!0)}})))),l.a.createElement(F.a,{className:t.bottomButtonVisibilityIcon},l.a.createElement(Ha.a,{title:Qe.a.t("ticketOptionsMenu.acceptAudioMessage")},l.a.createElement(Xl.a,{size:"small",checked:T,onChange:()=>(async()=>{try{const e=await Ze.put("/contacts/toggleAcceptAudio/".concat(a.contact.id));O(e.data.acceptAudioMessage)}catch(e){Ke(e)}})()}))),l.a.createElement(ma,{role:d.profile,perform:"ticket-options:deleteTicket",yes:()=>l.a.createElement(M.a,{className:t.bottomButtonVisibilityIcon},l.a.createElement(Ha.a,{title:Qe.a.t("tickets.buttons.deleteTicket")},l.a.createElement(Yl.a,{onClick:X})))}),E&&l.a.createElement(wr,{title:"".concat(Qe.a.t("ticketOptionsMenu.confirmationModal.title")," #").concat(a.id,"?"),open:E,onClose:b,onConfirm:async()=>{try{await Ze.delete("/tickets/".concat(a.id)),o.push("/tickets")}catch(e){Ke(e)}}},Qe.a.t("ticketOptionsMenu.confirmationModal.message")),h&&l.a.createElement(No,{modalOpen:h,onClose:()=>{r.current&&v(!1)},ticketid:a.id,ticket:a}),y&&l.a.createElement(Zs,{open:y,onClose:()=>{A(!1),x(null)},"aria-labelledby":"form-dialog-title",contactId:C})),"pending"===a.status&&(null===a.queueId||void 0===a.queueId)&&l.a.createElement(Kl,{loading:i,size:"small",variant:"contained",onClick:e=>Y()},Qe.a.t("messagesList.header.buttons.accept")),"pending"===a.status&&null!==a.queueId&&l.a.createElement(Kl,{loading:i,size:"small",variant:"contained",onClick:e=>Z(0,"open",null===d||void 0===d?void 0:d.id)},Qe.a.t("messagesList.header.buttons.accept"))),l.a.createElement(l.a.Fragment,null,l.a.createElement(pt.f,{enableReinitialize:!0,validationSchema:Oi,innerRef:g,onSubmit:(e,a)=>{setTimeout(()=>{a.setSubmitting(!1),a.resetForm()},400)}},e=>{let{values:n,touched:r,errors:s,isSubmitting:i,setFieldValue:m,resetForm:p}=e;return l.a.createElement(bt.a,{open:u,onClose:_,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description"},l.a.createElement(pt.e,null,l.a.createElement(ft.a,{className:t.botoes},l.a.createElement(gt.a,{onClick:e=>(async()=>{c(!0);try{await Ze.put("/tickets/".concat(a.id),{status:"closed",userId:(null===d||void 0===d?void 0:d.id)||null,sendFarewellMessage:!1,amountUsedBotQueues:0}),c(!1),o.push("/tickets")}catch(e){c(!1),Ke(e)}})(),style:{background:"#065183",color:"white"}},Qe.a.t("messagesList.header.dialogRatingWithoutFarewellMsg")),l.a.createElement(gt.a,{onClick:e=>{var t;return Z(0,"closed",null===d||void 0===d?void 0:d.id,null===a||void 0===a||null===(t=a.queue)||void 0===t||t.id)},style:{background:"#065183",color:"white"}},Qe.a.t("messagesList.header.dialogRatingCancel")))))})))},Si=t(1095);const wi=Object(x.a)(e=>({root:{display:"flex",height:"100%",position:"relative",overflow:"hidden"},mainWrapper:{flex:1,height:"100%",display:"flex",flexDirection:"column",overflow:"hidden",borderTopLeftRadius:0,borderBottomLeftRadius:0,borderLeft:"0",marginRight:-320,transition:e.transitions.create("margin",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen})},mainWrapperShift:{borderTopRightRadius:0,borderBottomRightRadius:0,transition:e.transitions.create("margin",{easing:e.transitions.easing.easeOut,duration:e.transitions.duration.enteringScreen}),marginRight:0}}));var Mi=()=>{const{ticketId:e}=Object(f.useParams)(),a=Object(f.useHistory)(),t=wi(),{user:o}=Object(n.useContext)(la),[r,i]=Object(n.useState)(!1),[c,d]=Object(n.useState)(!0),[m,u]=Object(n.useState)({}),[p,g]=Object(n.useState)({}),[E,b]=Object(n.useState)({}),[v,y]=Object(n.useState)({}),{currentTicket:C,setCurrentTicket:x}=Object(n.useContext)(Ka),[T,O]=Object(n.useState)([]),[k,S]=Object(n.useState)(!0);Object(n.useEffect)(()=>()=>{S(!1)},[]),Object(n.useEffect)(()=>{d(!0);const t=setTimeout(()=>{(async()=>{try{if(Object(A.isNil)(e)||"undefined"===e||e!==C.uuid)a.push("/tickets"),d(!1);else if(k){const{data:a}=await Ze.get("/tickets/u/"+e);u(a.contact),b(a.whatsapp),y(a.queueId),g(a),d(!1)}}catch(t){a.push("/tickets"),d(!1),Ke(t)}finally{k.current&&d(!1)}})()},500);return()=>{clearTimeout(t)}},[e,a,C]),Object(n.useEffect)(()=>{const e=o.companyId,t=aa({companyId:e,userId:o.id});return t.on("connect",()=>t.emit("joinChatBox","".concat(p.id))),t.on("company-".concat(e,"-ticket"),e=>{"update"===e.action&&g(e.ticket),"delete"===e.action&&(s.b.success("Ticket encerrado com sucesso."),a.push("/tickets"))}),t.on("company-".concat(e,"-contact"),e=>{"update"===e.action&&u(a=>{var t;return a.id===(null===(t=e.contact)||void 0===t?void 0:t.id)?{...a,...e.contact}:a})}),()=>{t.disconnect()}},[e,a]);const w=Object(n.useCallback)(()=>{i(!0)},[]),M=Object(n.useCallback)(()=>{i(!1)},[]);return l.a.createElement("div",{className:t.root,id:"drawer-container"},l.a.createElement(Si.a,{variant:"outlined",elevation:0,className:Object(h.a)(t.mainWrapper,{[t.mainWrapperShift]:r})},l.a.createElement(Ls,{loading:c},l.a.createElement("div",{id:"TicketHeader"},l.a.createElement(Bs,{contact:m,ticket:p,onClick:w}),"          "),l.a.createElement(ki,{ticket:p})),l.a.createElement(Si.a,null,l.a.createElement(Jl,{contact:m})),l.a.createElement(os,null,l.a.createElement(vs,null,C.uuid===e&&k&&l.a.createElement(l.a.Fragment,null,l.a.createElement(vi,{ticketId:p.id,isGroup:p.isGroup,whatsapp:E,queueId:v,channel:p.channel,onDrop:O}),l.a.createElement(Is,{ticketId:p.id,ticketStatus:p.status,currentTicketId:e,ticketChannel:p.channel,droppedFiles:T}))))),l.a.createElement(Dr,{open:r,handleDrawerClose:M,contact:m,loading:c,ticket:p}))};const Ii=Object(x.a)(e=>({chatContainer:{flex:1,padding:"2px",height:"calc(100% - 48px)",overflowY:"hidden"},chatPapper:{display:"flex",height:"100%"},contactsWrapper:{display:"flex",height:"100%",flexDirection:"column",overflowY:"hidden",position:"relative"},messagesWrapper:{display:"flex",height:"100%",flexDirection:"column",flexGrow:1},welcomeMsg:{background:e.palette.tabHeaderBackground,display:"flex",justifyContent:"space-evenly",alignItems:"center",height:"100%",textAlign:"center"},dragger:{width:"5px",cursor:"ew-resize",padding:"4px 0 0",borderTop:"1px solid #ddd",position:"absolute",top:0,right:0,bottom:0,zIndex:100,backgroundColor:"#f4f7f9",userSelect:"none"}}));var ji=()=>{const{user:e}=Object(n.useContext)(la),a=Ii({ticketsManagerWidth:e.defaultTicketsManagerWidth||550}),{ticketId:t}=Object(f.useParams)(),{currentTicket:o}=Object(n.useContext)(Ka),r=Object(f.useHistory)(),[s,i]=Object(n.useState)(0),c=Object(n.useRef)(s);Object(n.useEffect)(()=>{e&&e.defaultTicketsManagerWidth&&i(e.defaultTicketsManagerWidth)},[e]),Object(n.useEffect)(()=>{t&&void 0===o.uuid&&r.push("/tickets")},[t,o.uuid,r]);const d=Object(n.useCallback)(e=>{const a=e.clientX-document.body.offsetLeft;a>400&&a<700&&(c.current=a,i(a))},[]),m=async()=>{document.removeEventListener("mouseup",m,!0),document.removeEventListener("mousemove",d,!0);const a=c.current;a!==s&&await(async a=>{a<404&&(a=404),await Ze.put("/users/toggleChangeWidht/".concat(e.id),{defaultTicketsManagerWidth:a})})(a)};return l.a.createElement(or,null,l.a.createElement("div",{className:a.chatContainer},l.a.createElement("div",{className:a.chatPapper},l.a.createElement("div",{className:a.contactsWrapper,style:{width:s}},l.a.createElement(sr,null),l.a.createElement("div",{onMouseDown:e=>(document.addEventListener("mouseup",m,!0),void document.addEventListener("mousemove",d,!0)),className:a.dragger})),l.a.createElement("div",{className:a.messagesWrapper},t&&t===o.uuid?l.a.createElement(l.a.Fragment,null,l.a.createElement(Mi,null)):l.a.createElement(kl.a,{only:["sm","xs"]},l.a.createElement(St.a,{square:!0,variant:"outlined",className:a.welcomeMsg},l.a.createElement("span",null,Qe.a.t("chat.noTicketMessage"))))))))},Ni=t(1506),Ri=t(1507),Pi=t(1039),Di=t.n(Pi),Fi=t(1086);var Li=Object(Fi.a)(St.a)({height:"calc(100% - 48px)",display:"grid",gridTemplateRows:"56px 1fr"});const qi=Object(x.a)(e=>({header:{},content:{overflow:"auto"},placeholderContainer:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",height:"100%",background:e.palette.tabHeaderBackground},placeholderItem:{}}));var Wi=e=>{const a=qi(),{ticketId:t}=Object(f.useParams)(),[o,r]=Object(n.useState)(0),{currentTicket:s,setCurrentTicket:i}=Object(n.useContext)(Ka),[c,d]=Object(n.useState)();Object(n.useEffect)(()=>(null!==s.id&&i({id:s.id,code:"#open"}),t||r(1),()=>{i({id:null,code:null})}),[]),Object(n.useEffect)(()=>{null!==s.id&&r(0)},[s]);return l.a.createElement(or,null,l.a.createElement(Li,null,l.a.createElement(Zo.a,{className:a.header},l.a.createElement(Ni.a,{value:o,onChange:(e,a)=>{r(a)},showLabels:!0,className:a.root},l.a.createElement(Ri.a,{label:"Ticket",icon:l.a.createElement(Aa.a,null)}),l.a.createElement(Ri.a,{label:"Atendimentos",icon:l.a.createElement(Di.a,null)}))),l.a.createElement(Zo.a,{className:a.content},0===o?t?l.a.createElement(Mi,null):l.a.createElement(Zo.a,{className:a.placeholderContainer},l.a.createElement("div",{className:a.placeholderItem},Qe.a.t("chat.noTicketMessage")),l.a.createElement("br",null),l.a.createElement(gt.a,{onClick:()=>r(1),variant:"contained",color:"primary"},"Selecionar Ticket")):l.a.createElement(sr,null))))};var Bi=Object(Ol.a)()((function(e){return Object(Ol.c)("md",e.width)?l.a.createElement(ji,null):l.a.createElement(Wi,null)})),zi=t(1040),Hi=t.n(zi),Ui=t(1041),Qi=t.n(Ui),Gi=t(1512);const Vi=Object(x.a)(e=>({paper:{marginTop:e.spacing(8),display:"flex",flexDirection:"column",alignItems:"center"},avatar:{margin:e.spacing(1),backgroundColor:e.palette.secondary.main},form:{width:"100%",marginTop:e.spacing(3)},submit:{margin:e.spacing(3,0,2)}})),Ki=ut.c().shape({name:ut.d().min(2,"Too Short!").max(50,"Too Long!").required("Required"),companyName:ut.d().min(2,"Too Short!").max(50,"Too Long!").required("Required"),password:ut.d().min(5,"Too Short!").max(50,"Too Long!"),email:ut.d().email("Invalid email").required("Required"),phone:ut.d().required("Required")});var _i=()=>{const e=Vi(),a=Object(f.useHistory)(),{getPlanList:t}=ua(),[o,r]=Object(n.useState)([]),[i,c]=Object(n.useState)(!1);let d=null;const m=Hi.a.parse(window.location.search);void 0!==m.companyId&&(d=m.companyId);const u={name:"",email:"",password:"",phone:"",companyId:d,companyName:"",planId:""},[p]=Object(n.useState)(u);Object(n.useEffect)(()=>{c(!0);(async()=>{const e=await t();r(e),c(!1)})()},[]);return l.a.createElement(Gi.a,{component:"main",maxWidth:"xs"},l.a.createElement(Ht.a,null),l.a.createElement("div",{className:e.paper},l.a.createElement(k.a,{className:e.avatar},l.a.createElement(Qi.a,null)),l.a.createElement(P.a,{component:"h1",variant:"h5"},Qe.a.t("signup.title")),l.a.createElement(pt.f,{initialValues:p,enableReinitialize:!0,validationSchema:Ki,onSubmit:(e,t)=>{setTimeout(()=>{(async e=>{try{await Je.post("/auth/signup",e),s.b.success(Qe.a.t("signup.toasts.success")),a.push("/login")}catch(t){Ke(t)}})(e),t.setSubmitting(!1)},400)}},a=>{let{touched:t,errors:n,isSubmitting:r}=a;return l.a.createElement(pt.e,{className:e.form},l.a.createElement(it.a,{container:!0,spacing:2},l.a.createElement(it.a,{item:!0,xs:12},l.a.createElement(pt.c,{as:Et.a,variant:"outlined",fullWidth:!0,id:"companyName",label:Qe.a.t("signup.form.company"),error:t.companyName&&Boolean(n.companyName),helperText:t.companyName&&n.companyName,name:"companyName",autoComplete:"companyName",autoFocus:!0})),l.a.createElement(it.a,{item:!0,xs:12},l.a.createElement(pt.c,{as:Et.a,autoComplete:"name",name:"name",error:t.name&&Boolean(n.name),helperText:t.name&&n.name,variant:"outlined",fullWidth:!0,id:"name",label:Qe.a.t("signup.form.name")})),l.a.createElement(it.a,{item:!0,xs:12},l.a.createElement(pt.c,{as:Et.a,variant:"outlined",fullWidth:!0,id:"email",label:Qe.a.t("signup.form.email"),name:"email",error:t.email&&Boolean(n.email),helperText:t.email&&n.email,autoComplete:"email",inputProps:{style:{textTransform:"lowercase"}}})),l.a.createElement(it.a,{item:!0,xs:12},l.a.createElement(pt.c,{as:Et.a,variant:"outlined",fullWidth:!0,name:"password",error:t.password&&Boolean(n.password),helperText:t.password&&n.password,label:Qe.a.t("signup.form.password"),type:"password",id:"password",autoComplete:"current-password"})),l.a.createElement(it.a,{item:!0,xs:12},l.a.createElement(pt.c,{as:Et.a,variant:"outlined",fullWidth:!0,id:"phone",label:Qe.a.t("signup.form.phone"),name:"phone",autoComplete:"phone"})),l.a.createElement(it.a,{item:!0,xs:12},l.a.createElement(Ct.a,{htmlFor:"plan-selection"},"Plano"),l.a.createElement(pt.c,{as:At.a,variant:"outlined",fullWidth:!0,id:"plan-selection",label:"Plano",name:"planId",required:!0},o.map((e,a)=>l.a.createElement(F.a,{key:a,value:e.id},e.name," - Atendentes: ",e.users," - WhatsApp: ",e.connections," - Filas: ",e.queues," - R$ ",e.amount))))),l.a.createElement(gt.a,{type:"submit",fullWidth:!0,variant:"contained",color:"primary",className:e.submit},Qe.a.t("signup.buttons.submit")),l.a.createElement(it.a,{container:!0},l.a.createElement(it.a,{item:!0},l.a.createElement(dr.a,{href:"#",variant:"body2",component:b.b,to:"/login"},Qe.a.t("signup.buttons.login")))))})),l.a.createElement(Zo.a,{mt:5}))},Yi=t(1043),Xi=t(1781),Ji=t(1782),Zi=(t(1513),t.p+"static/media/wave.437422b1.png"),$i=t(1042),ec=t.n($i);var ac=()=>{const[e,a]=Object(n.useState)({email:"",password:""}),[t,o]=Object(n.useState)(!1),{handleLogin:r}=Object(n.useContext)(la),s=t=>{a({...e,[t.target.name]:t.target.value})};return l.a.createElement(l.a.Fragment,null,l.a.createElement("img",{className:"wave",src:Zi}),l.a.createElement("div",{className:"container"},l.a.createElement("div",{className:"img"},l.a.createElement("img",{src:ec.a})),l.a.createElement("div",{className:"login-content",style:{alignItems:"center"}},l.a.createElement("form",{noValidate:!0,onSubmit:a=>{a.preventDefault(),r(e)},style:{display:"grid"}},l.a.createElement("img",{src:$t.a}),l.a.createElement(Et.a,{variant:"standard",margin:"normal",required:!0,fullWidth:!0,id:"email",label:Qe.a.t("login.form.email"),name:"email",value:e.email,onChange:s,autoComplete:"email",autoFocus:!0}),l.a.createElement(Et.a,{variant:"standard",margin:"normal",required:!0,fullWidth:!0,name:"password",label:Qe.a.t("login.form.password"),id:"password",value:e.password,onChange:s,autoComplete:"current-password",type:t?"text":"password",InputProps:{endAdornment:l.a.createElement(Yi.a,{position:"end"},l.a.createElement(M.a,{"aria-label":"toggle password visibility",onClick:()=>o(e=>!e)},t?l.a.createElement(Xi.a,null):l.a.createElement(Ji.a,null)))}}),l.a.createElement("input",{type:"submit",className:"btn",value:"Acessar"})))))},tc=t(1785),nc=t(158),lc=t.n(nc),oc=t(1519),rc=t(1786),sc=t(1787),ic=t(1788),cc=t(1789),dc=t(1790),mc=t(1791),uc=t(1792),pc=t(249),gc=t.n(pc);const Ec=Object(x.a)(e=>({mainContainer:{flex:1,padding:e.spacing(2),height:"calc(100% - 48px)"},contentWrapper:{height:"100%",overflowY:"hidden",display:"flex",flexDirection:"column"}}));var bc=e=>{let{children:a}=e;const t=Ec();return l.a.createElement(Gi.a,{className:t.mainContainer},l.a.createElement("div",{className:t.contentWrapper},a))};const fc=Object(x.a)(e=>({contactsHeader:{display:"flex",alignItems:"center",padding:"0px 6px 6px 6px"}}));var hc=e=>{let{children:a}=e;const t=fc();return l.a.createElement("div",{className:t.contactsHeader},a)};const vc=Object(x.a)(e=>({MainHeaderButtonsWrapper:{flex:"none",marginLeft:"auto","& > *":{margin:e.spacing(1)}}}));var yc=e=>{let{children:a}=e;const t=vc();return l.a.createElement("div",{className:t.MainHeaderButtonsWrapper},a)};function Ac(e){return l.a.createElement(P.a,{variant:"h5",color:"primary",gutterBottom:!0},e.children)}const Cc=Object(x.a)(e=>({customTableCell:{display:"flex",alignItems:"center",justifyContent:"center"}}));var xc=e=>{let{avatar:a,columns:t}=e;const n=Cc();return l.a.createElement(l.a.Fragment,null,l.a.createElement(qn.a,null,a&&l.a.createElement(l.a.Fragment,null,l.a.createElement(Dn.a,{style:{paddingRight:0}},l.a.createElement(Wn.a,{animation:"wave",variant:"circle",width:40,height:40})),l.a.createElement(Dn.a,null,l.a.createElement(Wn.a,{animation:"wave",height:30,width:80}))),Array.from({length:t},(e,a)=>l.a.createElement(Dn.a,{align:"center",key:a},l.a.createElement("div",{className:n.customTableCell},l.a.createElement(Wn.a,{align:"center",animation:"wave",height:30,width:80}))))))},Tc=t(1783),Oc=t(1784),kc=t(434);const Sc=Object(x.a)(e=>({root:{width:"100%"},fullWidth:{width:"100%"},textfield:{width:"100%",fontSize:"0.875em"},row:{paddingTop:e.spacing(2),paddingBottom:e.spacing(2)},control:{paddingRight:e.spacing(1),paddingLeft:e.spacing(1)},buttonContainer:{textAlign:"right",padding:e.spacing(1)}}));var wc=function(e){const{initialValues:a,onSubmit:t,loading:o,labelSaveButton:r}=e,s=Sc(),[i,c]=Object(n.useState)([{weekday:Qe.a.t("queueModal.serviceHours.monday"),weekdayEn:"monday",startTimeA:"",endTimeA:"",startTimeB:"",endTimeB:""},{weekday:Qe.a.t("queueModal.serviceHours.tuesday"),weekdayEn:"tuesday",startTimeA:"",endTimeA:"",startTimeB:"",endTimeB:""},{weekday:Qe.a.t("queueModal.serviceHours.wednesday"),weekdayEn:"wednesday",startTimeA:"",endTimeA:"",startTimeB:"",endTimeB:""},{weekday:Qe.a.t("queueModal.serviceHours.thursday"),weekdayEn:"thursday",startTimeA:"",endTimeA:"",startTimeB:"",endTimeB:""},{weekday:Qe.a.t("queueModal.serviceHours.friday"),weekdayEn:"friday",startTimeA:"",endTimeA:"",startTimeB:"",endTimeB:""},{weekday:Qe.a.t("queueModal.serviceHours.saturday"),weekdayEn:"saturday",startTimeA:"",endTimeA:"",startTimeB:"",endTimeB:""},{weekday:Qe.a.t("queueModal.serviceHours.sunday"),weekdayEn:"sunday",startTimeA:"",endTimeA:"",startTimeB:"",endTimeB:""}]);return Object(n.useEffect)(()=>{Object(A.isArray)(a)&&a.length>0&&c(a)},[a]),l.a.createElement(pt.f,{enableReinitialize:!0,className:s.fullWidth,initialValues:{schedules:i},onSubmit:e=>{let{schedules:a}=e;return setTimeout(()=>{t(a)},500)}},e=>{let{values:a}=e;return l.a.createElement(pt.e,{className:s.fullWidth},l.a.createElement(pt.d,{name:"schedules",render:e=>l.a.createElement(it.a,{spacing:4,container:!0},a.schedules.map((e,a)=>l.a.createElement(it.a,{key:a,xs:12,md:4,item:!0},l.a.createElement(it.a,{container:!0},l.a.createElement(it.a,{className:s.control,xs:12,item:!0},l.a.createElement(pt.b,{as:Et.a,abel:Qe.a.t("queueModal.serviceHours.dayWeek"),name:"schedules[".concat(a,"].weekday"),disabled:!0,variant:"outlined",className:s.fullWidth,margin:"dense"})),l.a.createElement(it.a,{className:s.control,xs:12,md:6,item:!0},l.a.createElement(pt.b,{label:Qe.a.t("queueModal.serviceHours.startTimeA"),name:"schedules[".concat(a,"].startTimeA")},e=>{let{field:a}=e;return l.a.createElement(kc.a,Object.assign({},a,{variant:"outlined",margin:"dense",customInput:Et.a,format:"##:##",className:s.fullWidth,label:Qe.a.t("queueModal.serviceHours.startTimeA")}))})),l.a.createElement(it.a,{className:s.control,xs:12,md:6,item:!0},l.a.createElement(pt.b,{label:Qe.a.t("queueModal.serviceHours.endTimeA"),name:"schedules[".concat(a,"].endTimeA")},e=>{let{field:a}=e;return l.a.createElement(kc.a,Object.assign({},a,{variant:"outlined",margin:"dense",customInput:Et.a,format:"##:##",className:s.fullWidth,label:Qe.a.t("queueModal.serviceHours.endTimeA")}))})),l.a.createElement(it.a,{className:s.control,xs:12,md:6,item:!0},l.a.createElement(pt.b,{label:Qe.a.t("queueModal.serviceHours.startTimeB"),name:"schedules[".concat(a,"].startTimeB")},e=>{let{field:a}=e;return l.a.createElement(kc.a,Object.assign({},a,{variant:"outlined",margin:"dense",customInput:Et.a,format:"##:##",className:s.fullWidth,label:Qe.a.t("queueModal.serviceHours.startTimeB")}))})),l.a.createElement(it.a,{className:s.control,xs:12,md:6,item:!0},l.a.createElement(pt.b,{label:Qe.a.t("queueModal.serviceHours.endTimeB"),name:"schedules[".concat(a,"].endTimeB")},e=>{let{field:a}=e;return l.a.createElement(kc.a,Object.assign({},a,{variant:"outlined",margin:"dense",customInput:Et.a,format:"##:##",className:s.fullWidth,label:Qe.a.t("queueModal.serviceHours.endTimeB")}))}))))))}),l.a.createElement("div",{className:s.buttonContainer},l.a.createElement(Kl,{loading:o,type:"submit",color:"primary",variant:"contained"},null!==r&&void 0!==r?r:Qe.a.t("whatsappModal.buttons.okEdit"))))})};const Mc=Object(x.a)(e=>({root:{display:"flex",flexWrap:"wrap",gap:4},multFieldLine:{marginTop:12,display:"flex","& > *:not(:last-child)":{marginRight:e.spacing(1)}},btnWrapper:{position:"relative"},importMessage:{marginTop:12,marginBottom:12,paddingBottom:20,paddingTop:3,padding:12,border:"solid grey 2px",borderRadius:4,display:"flex","& > *:not(:last-child)":{marginRight:e.spacing(1)}},buttonProgress:{color:Sa.a[500],position:"absolute",top:"50%",left:"50%",marginTop:-12,marginLeft:-12},textField:{marginRight:e.spacing(1),flex:1},tokenRefresh:{minWidth:"auto",display:"flex",alignItems:"center",justifyContent:"center"}})),Ic=ut.c().shape({name:ut.d().min(2,"Too Short!").max(50,"Too Long!").required("Required")});var jc=l.a.memo(e=>{let{open:a,onClose:t,whatsAppId:o}=e;const r=Mc(),[i,c]=Object(n.useState)(""),d=Object(n.useRef)(null),[m,u]=Object(n.useState)(null),[p,g]=Object(n.useState)(""),E={name:"",greetingMessage:"",complationMessage:"",outOfHoursMessage:"",ratingMessage:"",isDefault:!1,token:"",maxUseBotQueues:3,provider:"beta",expiresTicket:0,allowGroup:!1,enableImportMessage:!1,groupAsTicket:"disabled",timeUseBotQueues:"0",timeSendQueue:"0",sendIdQueue:0,expiresTicketNPS:"0",expiresInactiveMessage:"",timeInactiveMessage:"",inactiveMessage:"",maxUseBotQueuesNPS:3,whenExpiresTicket:0,timeCreateNewTicket:0,greetingMediaAttachment:"",importRecentMessages:"",importOldMessages:"",importOldMessagesGroups:"",integrationId:"",collectiveVacationEnd:"",collectiveVacationStart:"",collectiveVacationMessage:""},[b,f]=Object(n.useState)(E),[h,v]=Object(n.useState)([]),[C,x]=Object(n.useState)([]),[T,O]=Object(n.useState)("general"),[k,S]=Object(n.useState)(!1),[w,M]=Object(n.useState)(!1),[I,j]=Object(n.useState)(!1),[N,R]=Object(n.useState)(y()().add(-1,"days").format("YYYY-MM-DDTHH:mm")),[P,D]=Object(n.useState)(y()().add(-1,"minutes").format("YYYY-MM-DDTHH:mm")),[L,q]=Object(n.useState)(!1),[W,B]=Object(n.useState)([]),[z,H]=Object(n.useState)(!1),[U,Q]=Object(n.useState)(!1),[G,V]=Object(n.useState)([{weekday:Qe.a.t("queueModal.serviceHours.monday"),weekdayEn:"monday",startTimeA:"08:00",endTimeA:"12:00",startTimeB:"13:00",endTimeB:"18:00"},{weekday:Qe.a.t("queueModal.serviceHours.tuesday"),weekdayEn:"tuesday",startTimeA:"08:00",endTimeA:"12:00",startTimeB:"13:00",endTimeB:"18:00"},{weekday:Qe.a.t("queueModal.serviceHours.wednesday"),weekdayEn:"wednesday",startTimeA:"08:00",endTimeA:"12:00",startTimeB:"13:00",endTimeB:"18:00"},{weekday:Qe.a.t("queueModal.serviceHours.thursday"),weekdayEn:"thursday",startTimeA:"08:00",endTimeA:"12:00",startTimeB:"13:00",endTimeB:"18:00"},{weekday:Qe.a.t("queueModal.serviceHours.friday"),weekdayEn:"friday",startTimeA:"08:00",endTimeA:"12:00",startTimeB:"13:00",endTimeB:"18:00"},{weekday:"S\xe1bado",weekdayEn:"saturday",startTimeA:"08:00",endTimeA:"12:00",startTimeB:"13:00",endTimeB:"18:00"},{weekday:"Domingo",weekdayEn:"sunday",startTimeA:"08:00",endTimeA:"12:00",startTimeB:"13:00",endTimeB:"18:00"}]),{get:K}=To(),[_,Y]=Object(n.useState)(null),[X,J]=Object(n.useState)([]);Object(n.useEffect)(()=>{(async()=>{try{const{data:e}=await Ze.get("/prompt");J(e.prompts)}catch(e){Ke(e)}})()},[o]),Object(n.useEffect)(()=>{(async()=>{const e=await K({column:"scheduleType"});H("connection"===e.scheduleType);const a=await K({column:"userRating"});Q("enabled"===a.userRating)})()},[]);const Z=async e=>{S(e.target.checked)};Object(n.useEffect)(()=>{(async()=>{if(o)try{var e;const{data:a}=await Ze.get("whatsapp/".concat(o,"?session=0"));f(a),g(a.greetingMediaAttachment),c(a.token),a.promptId?Y(a.promptId):Y(null);const t=null===(e=a.queues)||void 0===e?void 0:e.map(e=>e.id);v(t),V(a.schedules),Object(A.isNil)(null===a||void 0===a?void 0:a.importOldMessages)||(S(!0),R(null===a||void 0===a?void 0:a.importOldMessages),D(null===a||void 0===a?void 0:a.importRecentMessages),j(null===a||void 0===a?void 0:a.closedTicketsPostImported),M(null===a||void 0===a?void 0:a.importOldMessagesGroups))}catch(a){Ke(a)}})()},[o]),Object(n.useEffect)(()=>{(async()=>{try{const{data:e}=await Ze.get("/queue");x(e)}catch(e){Ke(e)}})()},[]),Object(n.useEffect)(()=>{(async()=>{try{const{data:e}=await Ze.get("/queueIntegration");B(e.queueIntegrations)}catch(e){Ke(e)}})()},[]);const $=e=>{Y(e.target.value),v([])};function ee(e){const a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyvz0123456789";let t="";for(let n=0;n<e;n++){const e=Math.floor(Math.random()*a.length);t+=a.charAt(e)}return t}const ae=()=>{c(ee(30))},te=()=>{navigator.clipboard.writeText(i),q(!0)},ne=async e=>{s.b.success("Clique em salvar para registar as altera\xe7\xf5es"),V(e)},le=()=>{t(),f(E),S(!1),u(null),g(""),q(!1)},oe=(e,a)=>{O(a)},re=()=>{const e=d.current.files[0];u(e),g(e.name),d.current.value=null},se=()=>{u(null),g(null)};return l.a.createElement("div",{className:r.root},l.a.createElement(bt.a,{open:a,onClose:le,maxWidth:"lg",fullWidth:!0,scroll:"paper"},l.a.createElement(vt.a,null,o?Qe.a.t("whatsappModal.title.edit"):Qe.a.t("whatsappModal.title.add")),l.a.createElement(pt.f,{initialValues:b,enableReinitialize:!0,validationSchema:Ic,onSubmit:(e,a)=>{setTimeout(()=>{(async e=>{if(o||c(ee(30)),U){if(Object(A.isNil)(e.ratingMessage))return void Ke(Qe.a.t("whatsappModal.errorRatingMessage"));if("0"===e.expiresTicketNPS&&""===e.expiresTicketNPS&&0===e.expiresTicketNPS)return void Ke(Qe.a.t("whatsappModal.errorExpiresNPS"))}if(""===e.timeSendQueue&&(e.timeSendQueue="0"),(0===e.sendIdQueue||""===e.sendIdQueue||Object(A.isNil)(e.sendIdQueue))&&0!==e.timeSendQueue&&"0"!==e.timeSendQueue)return void Ke(Qe.a.t("whatsappModal.errorSendQueue"));const a={...e,queueIds:h,importOldMessages:k?N:null,importRecentMessages:k?P:null,importOldMessagesGroups:w||null,closedTicketsPostImported:I||null,token:i||null,schedules:G,promptId:_||null};delete a.queues,delete a.session;try{if(o){if(o&&k&&"CONNECTED"===(null===b||void 0===b?void 0:b.status)){s.b.warning(Qe.a.t("userModal.warning.updateImage"),{autoClose:!1});try{f({...b,status:"qrcode"}),await Ze.delete("/whatsappsession/".concat(b.id))}catch(t){Ke(t)}}if(await Ze.put("/whatsapp/".concat(o),a),null!=m){const e=new FormData;e.append("file",m),await Ze.post("/whatsapp/".concat(o,"/media-upload"),e)}p||null===b.greetingMediaAttachment||await Ze.delete("/whatsapp/".concat(o,"/media-upload"))}else{const{data:e}=await Ze.post("/whatsapp",a);if(null!=m){const a=new FormData;a.append("file",m),await Ze.post("/whatsapp/".concat(e.id,"/media-upload"),a)}}s.b.success(Qe.a.t("whatsappModal.success")),le()}catch(t){Ke(t)}})(e),a.setSubmitting(!1)},400)}},e=>{var a,t;let{values:n,touched:s,errors:c,isSubmitting:m}=e;return l.a.createElement(pt.e,null,l.a.createElement(St.a,{className:r.mainPaper,elevation:1},l.a.createElement(wt.a,{value:T,indicatorColor:"primary",textColor:"primary",scrollButtons:"on",variant:"scrollable",onChange:oe,className:r.tab},l.a.createElement(Mt.a,{label:Qe.a.t("whatsappModal.tabs.general"),value:"general"}),l.a.createElement(Mt.a,{label:Qe.a.t("whatsappModal.tabs.integrations"),value:"integrations"}),l.a.createElement(Mt.a,{label:Qe.a.t("whatsappModal.tabs.messages"),value:"messages"}),l.a.createElement(Mt.a,{label:"Chatbot",value:"chatbot"}),l.a.createElement(Mt.a,{label:Qe.a.t("whatsappModal.tabs.assessments"),value:"nps"}),z&&l.a.createElement(Mt.a,{label:Qe.a.t("whatsappModal.tabs.schedules"),value:"schedules"}))),l.a.createElement(St.a,{className:r.paper,elevation:0},l.a.createElement(Rt,{className:r.container,value:T,name:"general"},l.a.createElement(ht.a,{dividers:!0},p&&l.a.createElement("div",{style:{display:"flex",flexDirection:"row-reverse"}},l.a.createElement(gt.a,{variant:"outlined",color:"primary",endIcon:l.a.createElement(Yl.a,null),onClick:se},p)),l.a.createElement("div",{style:{display:"flex",flexDirection:"column-reverse"}},l.a.createElement("input",{type:"file",accept:"video/*,image/*",ref:d,style:{display:"none"},onChange:re}),l.a.createElement(gt.a,{variant:"contained",color:"primary",onClick:()=>d.current.click()},Qe.a.t("userModal.buttons.addImage"))),l.a.createElement("div",{className:r.multFieldLine},l.a.createElement(it.a,{spacing:2,container:!0},l.a.createElement(it.a,{item:!0},l.a.createElement(pt.c,{as:Et.a,label:Qe.a.t("whatsappModal.form.name"),autoFocus:!0,name:"name",error:s.name&&Boolean(c.name),helperText:s.name&&c.name,variant:"outlined",margin:"dense",className:r.textField})),l.a.createElement(it.a,{style:{paddingTop:15},item:!0},l.a.createElement(ii.a,{control:l.a.createElement(pt.c,{as:Xl.a,color:"primary",name:"isDefault",checked:n.isDefault}),label:Qe.a.t("whatsappModal.form.default")}),l.a.createElement(ii.a,{control:l.a.createElement(pt.c,{as:Xl.a,color:"primary",name:"allowGroup",checked:n.allowGroup}),label:Qe.a.t("whatsappModal.form.group")})),l.a.createElement(it.a,{xs:6,md:4,item:!0},l.a.createElement(xt.a,{variant:"outlined",margin:"dense",fullWidth:!0,className:r.formControl},l.a.createElement(Ct.a,{id:"groupAsTicket-selection-label"},Qe.a.t("whatsappModal.form.groupAsTicket")),l.a.createElement(pt.c,{as:At.a,label:Qe.a.t("whatsappModal.form.groupAsTicket"),placeholder:Qe.a.t("whatsappModal.form.groupAsTicket"),labelId:"groupAsTicket-selection-label",id:"groupAsTicket",name:"groupAsTicket"},l.a.createElement(F.a,{value:"disabled"},Qe.a.t("whatsappModal.menuItem.disabled")),l.a.createElement(F.a,{value:"enabled"},Qe.a.t("whatsappModal.menuItem.enabled"))))))),l.a.createElement("div",{className:r.importMessage},l.a.createElement("div",{className:r.multFieldLine},l.a.createElement(ii.a,{style:{marginRight:7,color:"gray"},label:Qe.a.t("whatsappModal.form.importOldMessagesEnable"),labelPlacement:"end",control:l.a.createElement(Xl.a,{size:"medium",checked:k,onChange:Z,name:"importOldMessagesEnable",color:"primary"})}),k?l.a.createElement(l.a.Fragment,null,l.a.createElement(ii.a,{style:{marginRight:7,color:"gray"},label:Qe.a.t("whatsappModal.form.importOldMessagesGroups"),labelPlacement:"end",control:l.a.createElement(Xl.a,{size:"medium",checked:w,onChange:e=>M(e.target.checked),name:"importOldMessagesGroups",color:"primary"})}),l.a.createElement(ii.a,{style:{marginRight:7,color:"gray"},label:Qe.a.t("whatsappModal.form.closedTicketsPostImported"),labelPlacement:"end",control:l.a.createElement(Xl.a,{size:"medium",checked:I,onChange:e=>j(e.target.checked),name:"closedTicketsPostImported",color:"primary"})})):l.a.createElement(l.a.Fragment,null)),k?l.a.createElement(it.a,{style:{marginTop:18},container:!0,spacing:3},l.a.createElement(it.a,{item:!0,xs:6},l.a.createElement(pt.c,{fullWidth:!0,as:Et.a,label:Qe.a.t("whatsappModal.form.importOldMessages"),type:"datetime-local",name:"importOldMessages",inputProps:{max:y()().add(0,"minutes").format("YYYY-MM-DDTHH:mm"),min:y()().add(-2,"years").format("YYYY-MM-DDTHH:mm")},InputLabelProps:{shrink:!0},error:s.importOldMessages&&Boolean(c.importOldMessages),helperText:s.importOldMessages&&c.importOldMessages,variant:"outlined",value:y()(N).format("YYYY-MM-DDTHH:mm"),onChange:e=>{R(e.target.value)}})),l.a.createElement(it.a,{item:!0,xs:6},l.a.createElement(pt.c,{fullWidth:!0,as:Et.a,label:Qe.a.t("whatsappModal.form.importRecentMessages"),type:"datetime-local",name:"importRecentMessages",inputProps:{max:y()().add(0,"minutes").format("YYYY-MM-DDTHH:mm"),min:y()(N).format("YYYY-MM-DDTHH:mm")},InputLabelProps:{shrink:!0},error:s.importRecentMessages&&Boolean(c.importRecentMessages),helperText:s.importRecentMessages&&c.importRecentMessages,variant:"outlined",value:y()(P).format("YYYY-MM-DDTHH:mm"),onChange:e=>{D(e.target.value)}}))):null),k&&l.a.createElement("span",{style:{color:"red"}},Qe.a.t("whatsappModal.form.importAlert")),l.a.createElement(Zo.a,{display:"flex",alignItems:"center"},l.a.createElement(it.a,{xs:6,md:12,item:!0},l.a.createElement(pt.c,{as:Et.a,label:Qe.a.t("whatsappModal.form.token"),type:"token",fullWidth:!0,value:i,variant:"outlined",margin:"dense",disabled:!0})),l.a.createElement(gt.a,{onClick:ae,disabled:m,className:r.tokenRefresh,variant:"text",startIcon:l.a.createElement(Tc.a,{style:{marginLeft:5,color:"green"}})}),l.a.createElement(gt.a,{onClick:te,className:r.tokenRefresh,variant:"text",startIcon:l.a.createElement(Oc.a,{style:{color:L?"blue":"inherit"}})})),l.a.createElement("div",null,l.a.createElement("h3",null,Qe.a.t("whatsappModal.form.queueRedirection")),l.a.createElement("p",null,Qe.a.t("whatsappModal.form.queueRedirectionDesc")),l.a.createElement(it.a,{spacing:2,container:!0},l.a.createElement(it.a,{xs:6,md:6,item:!0},l.a.createElement(xt.a,{variant:"outlined",margin:"dense",className:r.FormControl,fullWidth:!0},l.a.createElement(Ct.a,{id:"sendIdQueue-selection-label"},Qe.a.t("whatsappModal.form.sendIdQueue")),l.a.createElement(pt.c,{as:At.a,name:"sendIdQueue",id:"sendIdQueue",value:n.sendIdQueue||"0",label:Qe.a.t("whatsappModal.form.sendIdQueue"),placeholder:Qe.a.t("whatsappModal.form.sendIdQueue"),labelId:"sendIdQueue-selection-label"},l.a.createElement(F.a,{value:0},"\xa0"),C.map(e=>l.a.createElement(F.a,{key:e.id,value:e.id},e.name))))),l.a.createElement(it.a,{xs:6,md:6,item:!0},l.a.createElement(pt.c,{as:Et.a,label:Qe.a.t("whatsappModal.form.timeSendQueue"),fullWidth:!0,name:"timeSendQueue",variant:"outlined",margin:"dense",error:s.timeSendQueue&&Boolean(c.timeSendQueue),helperText:s.timeSendQueue&&c.timeSendQueue})))))),l.a.createElement(Rt,{className:r.container,value:T,name:"integrations"},l.a.createElement(ht.a,{dividers:!0},l.a.createElement(kt,{selectedQueueIds:h,onChange:e=>(v(e),void Y(null))}),l.a.createElement(xt.a,{variant:"outlined",margin:"dense",className:r.FormControl,fullWidth:!0},l.a.createElement(Ct.a,{id:"integrationId-selection-label"},Qe.a.t("queueModal.form.integrationId")),l.a.createElement(pt.c,{as:At.a,label:Qe.a.t("queueModal.form.integrationId"),name:"integrationId",id:"integrationId",variant:"outlined",margin:"dense",placeholder:Qe.a.t("queueModal.form.integrationId"),labelId:"integrationId-selection-label"},l.a.createElement(F.a,{value:null},"Desabilitado"),W.map(e=>l.a.createElement(F.a,{key:e.id,value:e.id},e.name)))),l.a.createElement(xt.a,{margin:"dense",variant:"outlined",fullWidth:!0},l.a.createElement(Ct.a,null,Qe.a.t("whatsappModal.form.prompt")),l.a.createElement(At.a,{labelId:"dialog-select-prompt-label",id:"dialog-select-prompt",name:"promptId",value:_||"",onChange:$,label:Qe.a.t("whatsappModal.form.prompt"),fullWidth:!0,MenuProps:{anchorOrigin:{vertical:"bottom",horizontal:"left"},transformOrigin:{vertical:"top",horizontal:"left"},getContentAnchorEl:null}},X.map(e=>l.a.createElement(F.a,{key:e.id,value:e.id},e.name)))))),l.a.createElement(Rt,{className:r.container,value:T,name:"messages"},l.a.createElement(ht.a,{dividers:!0},l.a.createElement(it.a,{container:!0,spacing:1},l.a.createElement(it.a,{item:!0,xs:12,md:12,xl:12},l.a.createElement(pt.c,{as:Et.a,label:Qe.a.t("whatsappModal.form.greetingMessage"),type:"greetingMessage",multiline:!0,rows:4,fullWidth:!0,name:"greetingMessage",error:s.greetingMessage&&Boolean(c.greetingMessage),helperText:s.greetingMessage&&c.greetingMessage,variant:"outlined",margin:"dense"})),l.a.createElement(it.a,{item:!0,xs:12,md:12,xl:12},l.a.createElement(pt.c,{as:Et.a,label:Qe.a.t("whatsappModal.form.complationMessage"),multiline:!0,rows:4,fullWidth:!0,name:"complationMessage",error:s.complationMessage&&Boolean(c.complationMessage),helperText:s.complationMessage&&c.complationMessage,variant:"outlined",margin:"dense"})),l.a.createElement(it.a,{item:!0,xs:12,md:12,xl:12},l.a.createElement(pt.c,{as:Et.a,label:Qe.a.t("whatsappModal.form.outOfHoursMessage"),multiline:!0,rows:4,fullWidth:!0,name:"outOfHoursMessage",error:s.outOfHoursMessage&&Boolean(c.outOfHoursMessage),helperText:s.outOfHoursMessage&&c.outOfHoursMessage,variant:"outlined",margin:"dense"})),l.a.createElement(it.a,{item:!0,xs:12,md:12,xl:12},l.a.createElement(pt.c,{as:Et.a,label:Qe.a.t("whatsappModal.form.collectiveVacationMessage"),multiline:!0,rows:4,fullWidth:!0,name:"collectiveVacationMessage",error:s.collectiveVacationMessage&&Boolean(c.collectiveVacationMessage),helperText:s.collectiveVacationMessage&&c.collectiveVacationMessage,variant:"outlined",margin:"dense"})),l.a.createElement(it.a,{item:!0,xs:6},l.a.createElement(pt.c,{fullWidth:!0,as:Et.a,label:Qe.a.t("whatsappModal.form.collectiveVacationStart"),type:"date",name:"collectiveVacationStart",required:(null===(a=n.collectiveVacationMessage)||void 0===a?void 0:a.length)>0,inputProps:{min:y()().add(-10,"days").format("YYYY-MM-DD")},InputLabelProps:{shrink:!0},error:s.collectiveVacationStart&&Boolean(c.collectiveVacationStart),helperText:s.collectiveVacationStart&&c.collectiveVacationStart,variant:"outlined"})),l.a.createElement(it.a,{item:!0,xs:6},l.a.createElement(pt.c,{fullWidth:!0,as:Et.a,label:Qe.a.t("whatsappModal.form.collectiveVacationEnd"),type:"date",name:"collectiveVacationEnd",required:(null===(t=n.collectiveVacationMessage)||void 0===t?void 0:t.length)>0,inputProps:{min:y()().add(-10,"days").format("YYYY-MM-DD")},InputLabelProps:{shrink:!0},error:s.collectiveVacationEnd&&Boolean(c.collectiveVacationEnd),helperText:s.collectiveVacationEnd&&c.collectiveVacationEnd,variant:"outlined"}))))),l.a.createElement(Rt,{className:r.container,value:T,name:"chatbot"},l.a.createElement(ht.a,{dividers:!0},l.a.createElement(it.a,{spacing:2,container:!0},l.a.createElement(it.a,{xs:6,md:4,item:!0},l.a.createElement(pt.c,{as:Et.a,label:Qe.a.t("whatsappModal.form.timeCreateNewTicket"),fullWidth:!0,name:"timeCreateNewTicket",variant:"outlined",margin:"dense",error:s.timeCreateNewTicket&&Boolean(c.timeCreateNewTicket),helperText:s.timeCreateNewTicket&&c.timeCreateNewTicket})),l.a.createElement(it.a,{xs:6,md:4,item:!0},l.a.createElement(pt.c,{as:Et.a,label:Qe.a.t("whatsappModal.form.maxUseBotQueues"),fullWidth:!0,name:"maxUseBotQueues",variant:"outlined",margin:"dense",error:s.maxUseBotQueues&&Boolean(c.maxUseBotQueues),helperText:s.maxUseBotQueues&&c.maxUseBotQueues})),l.a.createElement(it.a,{xs:6,md:4,item:!0},l.a.createElement(pt.c,{as:Et.a,label:Qe.a.t("whatsappModal.form.timeUseBotQueues"),fullWidth:!0,name:"timeUseBotQueues",variant:"outlined",margin:"dense",error:s.timeUseBotQueues&&Boolean(c.timeUseBotQueues),helperText:s.timeUseBotQueues&&c.timeUseBotQueues}))),l.a.createElement(it.a,{spacing:2,container:!0},l.a.createElement(it.a,{xs:6,md:6,item:!0},l.a.createElement(pt.c,{as:Et.a,label:Qe.a.t("whatsappModal.form.expiresTicket"),fullWidth:!0,name:"expiresTicket",variant:"outlined",margin:"dense",error:s.expiresTicket&&Boolean(c.expiresTicket),helperText:s.expiresTicket&&c.expiresTicket})),l.a.createElement(it.a,{xs:6,md:6,item:!0},l.a.createElement(xt.a,{variant:"outlined",margin:"dense",fullWidth:!0,className:r.formControl},l.a.createElement(Ct.a,{id:"whenExpiresTicket-selection-label"},Qe.a.t("whatsappModal.form.whenExpiresTicket")),l.a.createElement(pt.c,{as:At.a,label:Qe.a.t("whatsappModal.form.whenExpiresTicket"),placeholder:Qe.a.t("whatsappModal.form.whenExpiresTicket"),labelId:"whenExpiresTicket-selection-label",id:"whenExpiresTicket",name:"whenExpiresTicket"},l.a.createElement(F.a,{value:"0"},Qe.a.t("whatsappModal.form.closeLastMessageOptions1")),l.a.createElement(F.a,{value:"1"},Qe.a.t("whatsappModal.form.closeLastMessageOptions2")))))),l.a.createElement("div",null,l.a.createElement(pt.c,{as:Et.a,label:Qe.a.t("whatsappModal.form.expiresInactiveMessage"),multiline:!0,rows:4,fullWidth:!0,name:"expiresInactiveMessage",error:s.expiresInactiveMessage&&Boolean(c.expiresInactiveMessage),helperText:s.expiresInactiveMessage&&c.expiresInactiveMessage,variant:"outlined",margin:"dense"})),l.a.createElement(pt.c,{as:Et.a,label:Qe.a.t("whatsappModal.form.timeInactiveMessage"),fullWidth:!0,name:"timeInactiveMessage",variant:"outlined",margin:"dense",error:s.timeInactiveMessage&&Boolean(c.timeInactiveMessage),helperText:s.timeInactiveMessage&&c.timeInactiveMessage}),l.a.createElement("div",null,l.a.createElement(pt.c,{as:Et.a,label:Qe.a.t("whatsappModal.form.inactiveMessage"),multiline:!0,rows:4,fullWidth:!0,name:"inactiveMessage",error:s.inactiveMessage&&Boolean(c.inactiveMessage),helperText:s.inactiveMessage&&c.inactiveMessage,variant:"outlined",margin:"dense"})))),l.a.createElement(Rt,{className:r.container,value:T,name:"nps"},l.a.createElement(ht.a,{dividers:!0},l.a.createElement("div",null,l.a.createElement(pt.c,{as:Et.a,label:Qe.a.t("whatsappModal.form.ratingMessage"),multiline:!0,rows:4,fullWidth:!0,name:"ratingMessage",error:s.ratingMessage&&Boolean(c.ratingMessage),helperText:s.ratingMessage&&c.ratingMessage,variant:"outlined",margin:"dense"})),l.a.createElement("div",null,l.a.createElement(pt.c,{as:Et.a,label:Qe.a.t("whatsappModal.form.maxUseBotQueuesNPS"),fullWidth:!0,name:"maxUseBotQueuesNPS",variant:"outlined",margin:"dense",error:s.maxUseBotQueuesNPS&&Boolean(c.maxUseBotQueuesNPS),helperText:s.maxUseBotQueuesNPS&&c.maxUseBotQueuesNPS})),l.a.createElement("div",null,l.a.createElement(pt.c,{as:Et.a,label:Qe.a.t("whatsappModal.form.expiresTicketNPS"),fullWidth:!0,name:"expiresTicketNPS",variant:"outlined",margin:"dense",error:s.expiresTicketNPS&&Boolean(c.expiresTicketNPS),helperText:s.expiresTicketNPS&&c.expiresTicketNPS})))),l.a.createElement(Rt,{className:r.container,value:T,name:"schedules"},"schedules"===T&&l.a.createElement(St.a,{style:{padding:20}},l.a.createElement(wc,{loading:!1,onSubmit:ne,initialValues:G,labelSaveButton:Qe.a.t("whatsappModal.buttons.okAdd")})))),l.a.createElement(ft.a,null,l.a.createElement(gt.a,{onClick:le,color:"secondary",disabled:m,variant:"outlined"},Qe.a.t("whatsappModal.buttons.cancel")),l.a.createElement(gt.a,{type:"submit",color:"primary",disabled:m,variant:"contained",className:r.btnWrapper},o?Qe.a.t("whatsappModal.buttons.okEdit"):Qe.a.t("whatsappModal.buttons.okAdd"),m&&l.a.createElement(yt.a,{size:24,className:r.buttonProgress}))))})))}),Nc=t(1044),Rc=t.n(Nc);const Pc=Object(x.a)(e=>({root:{display:"flex",flexWrap:"wrap"}}));var Dc=l.a.memo(e=>{let{open:a,onClose:t,whatsAppId:o}=e;const r=Pc(),[s,i]=Object(n.useState)(""),{user:c}=Object(n.useContext)(la);return Object(n.useEffect)(()=>{(async()=>{if(o)try{const{data:e}=await Ze.get("/whatsapp/".concat(o));i(e.qrcode)}catch(e){Ke(e)}})()},[o]),Object(n.useEffect)(()=>{if(!o)return;const e=c.companyId,a=aa({companyId:e,userId:c.id});return a.on("company-".concat(e,"-whatsappSession"),e=>{"update"===e.action&&e.session.id===o&&i(e.session.qrcode),"update"===e.action&&""===e.session.qrcode&&t()}),()=>{a.disconnect()}},[o,t]),l.a.createElement(bt.a,{open:a,onClose:t,maxWidth:"lg",scroll:"paper"},l.a.createElement(ht.a,null,l.a.createElement(St.a,{elevation:0},l.a.createElement(P.a,{color:"secondary",gutterBottom:!0},Qe.a.t("qrCode.message")),l.a.createElement("div",{className:r.root},s?l.a.createElement(Rc.a,{value:s,size:300,style:{backgroundColor:"white",padding:"5px"}}):l.a.createElement("span",null,"Aguardando pelo QR Code")))))}),Fc=t(366);const Lc=Object(x.a)(e=>({mainPaper:{flex:1,padding:e.padding,overflowY:"scroll",...e.scrollbarStyles},customTableCell:{display:"flex",alignItems:"center",justifyContent:"center"},tooltip:{backgroundColor:"#f5f5f9",color:"rgba(0, 0, 0, 0.87)",fontSize:e.typography.pxToRem(14),border:"1px solid #dadde9",maxWidth:450},tooltipPopper:{textAlign:"center"},buttonProgress:{color:Sa.a[500]}}));function qc(e){return l.a.createElement(Zo.a,{position:"relative",display:"inline-flex"},l.a.createElement(yt.a,Object.assign({variant:"determinate"},e)),l.a.createElement(Zo.a,{top:0,left:0,bottom:0,right:0,position:"absolute",display:"flex",alignItems:"center",justifyContent:"center"},l.a.createElement(P.a,{variant:"caption",component:"div",color:"textSecondary"},"".concat(Math.round(e.value),"%"))))}const Wc=e=>{let{title:a,content:t,children:n}=e;const o=Lc();return l.a.createElement(Ha.a,{arrow:!0,classes:{tooltip:o.tooltip,popper:o.tooltipPopper},title:l.a.createElement(l.a.Fragment,null,l.a.createElement(P.a,{gutterBottom:!0,color:"inherit"},a),t&&l.a.createElement(P.a,null,t))},n)};var Bc=()=>{const e=Lc(),{whatsApps:a,loading:t}=Object(n.useContext)(ia),[o,r]=Object(n.useState)(!1),[i,c]=Object(n.useState)([]),[d,m]=Object(n.useState)(!1),[u,p]=Object(n.useState)(null),[g,E]=Object(n.useState)(!1),b=Object(Fc.useHistory)(),f={action:"",title:"",message:"",whatsAppId:"",open:!1},[h,v]=Object(n.useState)(f),[y,A]=Object(n.useState)(!1),{user:C}=Object(n.useContext)(la),x=C.companyId,{getPlanCompany:T}=ua();Object(n.useEffect)(()=>{!async function(){const e=await T(void 0,x);A(e)}()},[]);const O=e=>{if("unknown"!==e.status){const{accessToken:a,id:t}=e;Ze.post("/facebook",{facebookUserId:t,facebookUserToken:a}).then(e=>{s.b.success(Qe.a.t("connections.facebook.success"))}).catch(e=>{Ke(e)})}},k=e=>{if("unknown"!==e.status){const{accessToken:a,id:t}=e;Ze.post("/facebook",{addInstagram:!0,facebookUserId:t,facebookUserToken:a}).then(e=>{s.b.success(Qe.a.t("connections.facebook.success"))}).catch(e=>{Ke(e)})}};Object(n.useEffect)(()=>{aa({companyId:x,userId:C.id}).on("importMessages-".concat(C.companyId),e=>{"refresh"===e.action&&(c([]),b.go(0)),"update"===e.action&&(c(e.status),console.log("Importa\xe7\xe3o concluida com exito",e))})},[a]);const S=Object(n.useCallback)(()=>{r(!1),p(null)},[p,r]),w=Object(n.useCallback)(()=>{p(null),m(!1)},[m,p]),I=(e,a)=>{"disconnect"===e&&v({action:e,title:Qe.a.t("connections.confirmationModal.disconnectTitle"),message:Qe.a.t("connections.confirmationModal.disconnectMessage"),whatsAppId:a}),"delete"===e&&v({action:e,title:Qe.a.t("connections.confirmationModal.deleteTitle"),message:Qe.a.t("connections.confirmationModal.deleteMessage"),whatsAppId:a}),"closedImported"===e&&v({action:e,title:Qe.a.t("connections.confirmationModal.closedImportedTitle"),message:Qe.a.t("connections.confirmationModal.closedImportedMessage"),whatsAppId:a}),E(!0)},j=a=>l.a.createElement(l.a.Fragment,null,"qrcode"===a.status&&l.a.createElement(gt.a,{size:"small",variant:"contained",color:"primary",onClick:()=>(e=>{p(e),m(!0)})(a)},Qe.a.t("connections.buttons.qrcode")),"DISCONNECTED"===a.status&&l.a.createElement(l.a.Fragment,null,l.a.createElement(gt.a,{size:"small",variant:"outlined",color:"primary",onClick:()=>(async e=>{try{await Ze.post("/whatsappsession/".concat(e))}catch(a){Ke(a)}})(a.id)},Qe.a.t("connections.buttons.tryAgain"))," ",l.a.createElement(gt.a,{size:"small",variant:"outlined",color:"secondary",onClick:()=>(async e=>{try{await Ze.put("/whatsappsession/".concat(e))}catch(a){Ke(a)}})(a.id)},Qe.a.t("connections.buttons.newQr"))),("CONNECTED"===a.status||"PAIRING"===a.status||"TIMEOUT"===a.status)&&l.a.createElement(l.a.Fragment,null,l.a.createElement(gt.a,{size:"small",variant:"outlined",color:"secondary",onClick:()=>{I("disconnect",a.id)}},Qe.a.t("connections.buttons.disconnect")),(a=>{if("renderButtonCloseTickets"===(null===a||void 0===a?void 0:a.statusImportMessages))return l.a.createElement(gt.a,{style:{marginLeft:12},size:"small",variant:"outlined",color:"primary",onClick:()=>{I("closedImported",a.id)}},Qe.a.t("connections.buttons.closedImported"));if(null===a||void 0===a?void 0:a.importOldMessages){if(!isNaN(new Date(Math.floor(null===a||void 0===a?void 0:a.statusImportMessages)).getTime())){const t=new Date(Math.floor(null===a||void 0===a?void 0:a.statusImportMessages)).getTime();if(+Object(tc.a)(t,{seconds:35}).getTime()>(new Date).getTime())return l.a.createElement(l.a.Fragment,null,l.a.createElement(gt.a,{disabled:!0,style:{marginLeft:12},size:"small",endIcon:l.a.createElement(yt.a,{size:12,className:e.buttonProgress}),variant:"outlined",color:"primary"},Qe.a.t("connections.buttons.preparing")))}}})(a)),"OPENING"===a.status&&l.a.createElement(gt.a,{size:"small",variant:"outlined",disabled:!0,color:"default"},Qe.a.t("connections.buttons.connecting")));return l.a.createElement(bc,null,l.a.createElement(wr,{title:h.title,open:g,onClose:E,onConfirm:async()=>{if("disconnect"===h.action)try{await Ze.delete("/whatsappsession/".concat(h.whatsAppId))}catch(e){Ke(e)}if("delete"===h.action)try{await Ze.delete("/whatsapp/".concat(h.whatsAppId)),s.b.success(Qe.a.t("connections.toasts.deleted"))}catch(e){Ke(e)}if("closedImported"===h.action)try{await Ze.post("/closedimported/".concat(h.whatsAppId)),s.b.success(Qe.a.t("connections.toasts.closedimported"))}catch(e){Ke(e)}v(f)}},h.message),d&&l.a.createElement(Dc,{open:d,onClose:w,whatsAppId:!o&&(null===u||void 0===u?void 0:u.id)}),l.a.createElement(jc,{open:o,onClose:S,whatsAppId:!d&&(null===u||void 0===u?void 0:u.id)}),l.a.createElement(hc,null,l.a.createElement(Ac,null,Qe.a.t("connections.title")," (",a.length,")"),l.a.createElement(yc,null,l.a.createElement(gt.a,{variant:"contained",color:"primary",onClick:async()=>{try{await Ze.post("/whatsapp-restart/"),s.b.success(Qe.a.t("connections.waitConnection"))}catch(e){Ke(e)}}},Qe.a.t("connections.restartConnections")),l.a.createElement(gt.a,{variant:"contained",color:"primary",onClick:()=>{return e="https://wa.me/".concat(Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,REACT_APP_BACKEND_URL:"https://backend.bonigroup.com.br",REACT_APP_HOURS_CLOSE_TICKETS_AUTO:"24"}).REACT_APP_NUMBER_SUPPORT),void window.open(e,"_blank","noopener,noreferrer");var e}},Qe.a.t("connections.callSupport")),l.a.createElement(lc.a,{variant:"popover",popupId:"demo-popup-menu"},e=>{var a,t,n;return l.a.createElement(l.a.Fragment,null,l.a.createElement(gt.a,Object.assign({variant:"contained",color:"primary"},Object(nc.bindTrigger)(e)),Qe.a.t("connections.newConnection")),l.a.createElement(D.a,Object(nc.bindMenu)(e),l.a.createElement(F.a,{disabled:!(null===y||void 0===y||null===(a=y.plan)||void 0===a?void 0:a.useWhatsapp),onClick:()=>{p(null),r(!0),e.close()}},l.a.createElement(no.a,{fontSize:"small",style:{marginRight:"10px",color:"#25D366"}}),"WhatsApp"),l.a.createElement(gc.a,{appId:Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,REACT_APP_BACKEND_URL:"https://backend.bonigroup.com.br",REACT_APP_HOURS_CLOSE_TICKETS_AUTO:"24"}).REACT_APP_FACEBOOK_APP_ID,autoLoad:!1,fields:"name,email,picture",version:"9.0",scope:"TRUE"===(null===(t=Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,REACT_APP_BACKEND_URL:"https://backend.bonigroup.com.br",REACT_APP_HOURS_CLOSE_TICKETS_AUTO:"24"}).REACT_APP_REQUIRE_BUSINESS_MANAGEMENT)||void 0===t?void 0:t.toUpperCase())?"public_profile,pages_messaging,pages_show_list,pages_manage_metadata,pages_read_engagement,business_management":"public_profile,pages_messaging,pages_show_list,pages_manage_metadata,pages_read_engagement",callback:O,render:e=>{var a;return l.a.createElement(F.a,{disabled:!(null===y||void 0===y||null===(a=y.plan)||void 0===a?void 0:a.useFacebook),onClick:e.onClick},l.a.createElement(ao.a,{fontSize:"small",style:{marginRight:"10px",color:"#3b5998"}}),"Facebook")}}),l.a.createElement(gc.a,{appId:Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,REACT_APP_BACKEND_URL:"https://backend.bonigroup.com.br",REACT_APP_HOURS_CLOSE_TICKETS_AUTO:"24"}).REACT_APP_FACEBOOK_APP_ID,autoLoad:!1,fields:"name,email,picture",version:"9.0",scope:"TRUE"===(null===(n=Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,REACT_APP_BACKEND_URL:"https://backend.bonigroup.com.br",REACT_APP_HOURS_CLOSE_TICKETS_AUTO:"24"}).REACT_APP_REQUIRE_BUSINESS_MANAGEMENT)||void 0===n?void 0:n.toUpperCase())?"public_profile,instagram_basic,instagram_manage_messages,pages_messaging,pages_show_list,pages_manage_metadata,pages_read_engagement,business_management":"public_profile,instagram_basic,instagram_manage_messages,pages_messaging,pages_show_list,pages_manage_metadata,pages_read_engagement",callback:k,render:e=>{var a;return l.a.createElement(F.a,{disabled:!(null===y||void 0===y||null===(a=y.plan)||void 0===a?void 0:a.useInstagram),onClick:e.onClick},l.a.createElement(to.a,{fontSize:"small",style:{marginRight:"10px",color:"#e1306c"}}),"Instagram")}})))}))),(null===i||void 0===i?void 0:i.all)?l.a.createElement(l.a.Fragment,null,l.a.createElement("div",{style:{margin:"auto",marginBottom:12}},l.a.createElement(js.a,{className:e.root},l.a.createElement(oc.a,{className:e.content},l.a.createElement(P.a,{component:"h5",variant:"h5"},-1===(null===i||void 0===i?void 0:i.this)?Qe.a.t("connections.buttons.preparing"):Qe.a.t("connections.buttons.importing")),-1===(null===i||void 0===i?void 0:i.this)?l.a.createElement(P.a,{component:"h6",variant:"h6",align:"center"},l.a.createElement(yt.a,{size:24})):l.a.createElement(l.a.Fragment,null,l.a.createElement(P.a,{component:"h6",variant:"h6",align:"center"},"".concat(Qe.a.t("connections.typography.processed")," ").concat(null===i||void 0===i?void 0:i.this," ").concat(Qe.a.t("connections.typography.in")," ").concat(null===i||void 0===i?void 0:i.all,"  ").concat(Qe.a.t("connections.typography.date"),": ").concat(null===i||void 0===i?void 0:i.date," ")),l.a.createElement(P.a,{align:"center"},l.a.createElement(qc,{style:{margin:"auto"},value:(null===i||void 0===i?void 0:i.this)/(null===i||void 0===i?void 0:i.all)*100}))))))):null,l.a.createElement(St.a,{className:e.mainPaper,variant:"outlined"},l.a.createElement(Rn.a,{size:"small"},l.a.createElement(Ln.a,null,l.a.createElement(qn.a,null,l.a.createElement(Dn.a,{align:"center"},"Channel"),l.a.createElement(Dn.a,{align:"center"},Qe.a.t("connections.table.name")),l.a.createElement(Dn.a,{align:"center"},Qe.a.t("connections.table.number")),l.a.createElement(Dn.a,{align:"center"},Qe.a.t("connections.table.status")),l.a.createElement(Dn.a,{align:"center"},Qe.a.t("connections.table.session")),l.a.createElement(Dn.a,{align:"center"},Qe.a.t("connections.table.lastUpdate")),l.a.createElement(Dn.a,{align:"center"},Qe.a.t("connections.table.default")),l.a.createElement(Dn.a,{align:"center"},Qe.a.t("connections.table.actions")))),l.a.createElement(Pn.a,null,t?l.a.createElement(xc,null):l.a.createElement(l.a.Fragment,null,(null===a||void 0===a?void 0:a.length)>0&&a.map(a=>l.a.createElement(qn.a,{key:a.id},l.a.createElement(Dn.a,{align:"center"},(e=>{switch(e){case"facebook":return l.a.createElement(ao.a,{style:{color:"#3b5998"}});case"instagram":return l.a.createElement(to.a,{style:{color:"#e1306c"}});case"whatsapp":return l.a.createElement(no.a,{style:{color:"#25d366"}});default:return"error"}})(a.channel)),l.a.createElement(Dn.a,{align:"center"},a.name),l.a.createElement(Dn.a,{align:"center"},a.number?l.a.createElement(l.a.Fragment,null,gr(a.number)):"-"),l.a.createElement(Dn.a,{align:"center"},(a=>l.a.createElement("div",{className:e.customTableCell},"DISCONNECTED"===a.status&&l.a.createElement(Wc,{title:Qe.a.t("connections.toolTips.disconnected.title"),content:Qe.a.t("connections.toolTips.disconnected.content")},l.a.createElement(rc.a,{color:"secondary"})),"OPENING"===a.status&&l.a.createElement(yt.a,{size:24,className:e.buttonProgress}),"qrcode"===a.status&&l.a.createElement(Wc,{title:Qe.a.t("connections.toolTips.qrcode.title"),content:Qe.a.t("connections.toolTips.qrcode.content")},l.a.createElement(sc.a,null)),"CONNECTED"===a.status&&l.a.createElement(Wc,{title:Qe.a.t("connections.toolTips.connected.title")},l.a.createElement(ic.a,{style:{color:Sa.a[500]}})),("TIMEOUT"===a.status||"PAIRING"===a.status)&&l.a.createElement(Wc,{title:Qe.a.t("connections.toolTips.timeout.title"),content:Qe.a.t("connections.toolTips.timeout.content")},l.a.createElement(cc.a,{color:"secondary"}))))(a)),l.a.createElement(Dn.a,{align:"center"},j(a)),l.a.createElement(Dn.a,{align:"center"},Object(fa.a)(Object(xa.a)(a.updatedAt),"dd/MM/yy HH:mm")),l.a.createElement(Dn.a,{align:"center"},a.isDefault&&l.a.createElement("div",{className:e.customTableCell},l.a.createElement(dc.a,{style:{color:Sa.a[500]}}))),l.a.createElement(Dn.a,{align:"center"},l.a.createElement(M.a,{size:"small",onClick:()=>(e=>{p(e),r(!0)})(a)},l.a.createElement(mc.a,null)),l.a.createElement(M.a,{size:"small",onClick:e=>{I("delete",a.id)}},l.a.createElement(uc.a,null))))))))))};var zc=()=>({save:async e=>{const{data:a}=await Ze.request({url:"/companies",method:"POST",data:e});return a},update:async e=>{const{data:a}=await Ze.request({url:"/companies/".concat(e.id),method:"PUT",data:e});return a},remove:async e=>{const{data:a}=await Ze.request({url:"/companies/".concat(e),method:"DELETE"});return a},list:async e=>{const{data:a}=await Ze.request({url:"/companies/list",method:"GET"});return a},find:async e=>{const{data:a}=await Ze.request({url:"/companies/".concat(e),method:"GET"});return a},findAll:async e=>{const{data:a}=await Ze.request({url:"/companies",method:"GET"});return a},updateSchedules:async e=>{const{data:a}=await Ze.request({url:"/companies/".concat(e.id,"/schedules"),method:"PUT",data:e});return a}});const Hc=Object(x.a)(e=>({chips:{display:"flex",flexWrap:"wrap"},chip:{margin:2}}));var Uc=e=>{let{selectedQueueIds:a,companyId:t,onChange:o}=e;const r=Hc(),[s,i]=Object(n.useState)([]);Object(n.useEffect)(()=>{(async()=>{try{const{data:e}=await Ze.get("/queue",{params:{companyId:t}});i(e)}catch(e){Ke(e)}})()},[t]);return l.a.createElement("div",{style:{marginTop:6}},l.a.createElement(xt.a,{fullWidth:!0,margin:"dense",variant:"outlined"},l.a.createElement(Ct.a,null,Qe.a.t("queueSelect.inputLabel")),l.a.createElement(At.a,{multiple:!0,labelWidth:60,value:a,onChange:e=>{o(e.target.value)},MenuProps:{anchorOrigin:{vertical:"bottom",horizontal:"left"},transformOrigin:{vertical:"top",horizontal:"left"},getContentAnchorEl:null},renderValue:e=>l.a.createElement("div",{className:r.chips},(null===e||void 0===e?void 0:e.length)>0&&e.map(e=>{const a=s.find(a=>a.id===e);return a?l.a.createElement(Tt.a,{key:e,style:{backgroundColor:a.color},variant:"outlined",label:a.name,className:r.chip}):null}))},s.map(e=>l.a.createElement(F.a,{key:e.id,value:e.id},e.name)))))};const Qc=Object(x.a)(e=>({root:{display:"flex",flexWrap:"wrap"},multFieldLine:{display:"flex","& > *:not(:last-child)":{marginRight:e.spacing(1)}},btnWrapper:{position:"relative"},buttonProgress:{color:Sa.a[500],position:"absolute",top:"50%",left:"50%",marginTop:-12,marginLeft:-12},formControl:{margin:e.spacing(1),minWidth:120}})),Gc=ut.c().shape({name:ut.d().min(2,"Too Short!").max(50,"Too Long!").required("Required"),password:ut.d().min(5,"Too Short!").max(50,"Too Long!"),email:ut.d().email("Invalid email").required("Required")});var Vc=e=>{let{open:a,onClose:t,userId:o,companyId:r}=e;const i=Qc(),c={name:"",email:"",password:"",profile:"user"},{user:d}=Object(n.useContext)(la),[m,u]=Object(n.useState)(c),[p,g]=Object(n.useState)([]);Object(n.useEffect)(()=>{(async()=>{if(o&&a)try{var e;const{data:a}=await Ze.get("/users/".concat(o));u(e=>({...e,...a}));const t=null===(e=a.queues)||void 0===e?void 0:e.map(e=>e.id);g(t)}catch(t){Ke(t)}})()},[o,a]);const E=()=>{t(),u(c)};return l.a.createElement("div",{className:i.root},l.a.createElement(bt.a,{open:a,onClose:E,maxWidth:"xs",fullWidth:!0,scroll:"paper"},l.a.createElement(vt.a,{id:"form-dialog-title"},"".concat(o?Qe.a.t("userModal.title.edit"):Qe.a.t("userModal.title.add"))),l.a.createElement(pt.f,{initialValues:m,enableReinitialize:!0,validationSchema:Gc,onSubmit:(e,a)=>{setTimeout(()=>{(async e=>{const a={...e,companyId:r,queueIds:p};try{o?await Ze.put("/users/".concat(o),a):await Ze.post("/users",a),s.b.success(Qe.a.t("userModal.success"))}catch(t){Ke(t)}E()})(e),a.setSubmitting(!1)},400)}},e=>{let{touched:a,errors:t,isSubmitting:n}=e;return l.a.createElement(pt.e,null,l.a.createElement(ht.a,{dividers:!0},l.a.createElement("div",{className:i.multFieldLine},l.a.createElement(pt.c,{as:Et.a,label:Qe.a.t("userModal.form.name"),autoFocus:!0,name:"name",error:a.name&&Boolean(t.name),helperText:a.name&&t.name,variant:"outlined",margin:"dense",fullWidth:!0}),l.a.createElement(pt.c,{as:Et.a,label:Qe.a.t("userModal.form.password"),type:"password",name:"password",error:a.password&&Boolean(t.password),helperText:a.password&&t.password,variant:"outlined",margin:"dense",fullWidth:!0})),l.a.createElement("div",{className:i.multFieldLine},l.a.createElement(pt.c,{as:Et.a,label:Qe.a.t("userModal.form.email"),name:"email",error:a.email&&Boolean(t.email),helperText:a.email&&t.email,variant:"outlined",margin:"dense",fullWidth:!0}),l.a.createElement(xt.a,{variant:"outlined",className:i.formControl,margin:"dense"},l.a.createElement(ma,{role:d.profile,perform:"user-modal:editProfile",yes:()=>l.a.createElement(l.a.Fragment,null,l.a.createElement(Ct.a,{id:"profile-selection-input-label"},Qe.a.t("userModal.form.profile")),l.a.createElement(pt.c,{as:At.a,label:Qe.a.t("userModal.form.profile"),name:"profile",labelId:"profile-selection-label",id:"profile-selection",required:!0},l.a.createElement(F.a,{value:"admin"},"Admin"),l.a.createElement(F.a,{value:"user"},"User")))}))),l.a.createElement(ma,{role:d.profile,perform:"user-modal:editQueues",yes:()=>l.a.createElement(Uc,{companyId:r,selectedQueueIds:p,onChange:e=>g(e)})})),l.a.createElement(ft.a,null,l.a.createElement(gt.a,{onClick:E,color:"secondary",disabled:n,variant:"outlined"},Qe.a.t("userModal.buttons.cancel")),l.a.createElement(gt.a,{type:"submit",color:"primary",disabled:n,variant:"contained",className:i.btnWrapper},"".concat(o?Qe.a.t("userModal.buttons.okEdit"):Qe.a.t("userModal.buttons.okAdd")),n&&l.a.createElement(yt.a,{size:24,className:i.buttonProgress}))))})))};const Kc=Object(x.a)(e=>({root:{width:"100%",padding:"2px"},mainPaper:{width:"100%",flex:1},fullWidth:{width:"100%"},tableContainer:{width:"100%",padding:"2px"},textfield:{width:"100%"},textRight:{textAlign:"right"},row:{},control:{},buttonContainer:{textAlign:"right"}}));function _c(e){const{onSubmit:a,onDelete:t,onCancel:o,initialValue:r,loading:s}=e,i=Kc(),[c,d]=Object(n.useState)([]),[m,u]=Object(n.useState)(!1),[p,g]=Object(n.useState)({}),[E,b]=Object(n.useState)({name:"",email:"",phone:"",planId:"",status:!0,dueDate:"",recurrence:"",password:"",...r}),{list:f}=ua();Object(n.useEffect)(()=>{!async function(){const e=await f();d(e)}()},[]),Object(n.useEffect)(()=>{b(e=>(y()(r).isValid()&&(r.dueDate=y()(r.dueDate).format("YYYY-MM-DD")),{...e,...r}))},[r]);return l.a.createElement(l.a.Fragment,null,l.a.createElement(Vc,{userId:p.id,companyId:r.id,open:m,onClose:()=>{g({}),u(!1)}}),l.a.createElement(pt.f,{enableReinitialize:!0,className:i.fullWidth,initialValues:E,onSubmit:(e,t)=>{let{resetForm:n}=t;return setTimeout(()=>{(async e=>{""!==e.dueDate&&!1!==y()(e.dueDate).isValid()||(e.dueDate=null),a(e),b({...r,dueDate:""})})(e),n()},500)}},(e,a)=>l.a.createElement(pt.e,{className:i.fullWidth},l.a.createElement(it.a,{spacing:1,justifyContent:"center",container:!0},l.a.createElement(it.a,{xs:12,sm:6,md:3,item:!0},l.a.createElement(pt.c,{as:Et.a,label:Qe.a.t("compaies.table.name"),name:"name",variant:"outlined",className:i.fullWidth,margin:"dense"})),l.a.createElement(it.a,{xs:12,sm:6,md:2,item:!0},l.a.createElement(pt.c,{as:Et.a,label:Qe.a.t("compaies.table.email"),name:"email",variant:"outlined",className:i.fullWidth,margin:"dense",required:!0})),l.a.createElement(it.a,{xs:12,sm:6,md:2,item:!0},l.a.createElement(pt.c,{as:Et.a,label:Qe.a.t("compaies.table.password"),name:"password",variant:"outlined",className:i.fullWidth,margin:"dense"})),l.a.createElement(it.a,{xs:12,sm:6,md:2,item:!0},l.a.createElement(pt.c,{as:Et.a,label:Qe.a.t("compaies.table.phone"),name:"phone",variant:"outlined",className:i.fullWidth,margin:"dense"})),l.a.createElement(it.a,{xs:12,sm:6,md:2,item:!0},l.a.createElement(xt.a,{margin:"dense",variant:"outlined",fullWidth:!0},l.a.createElement(Ct.a,{htmlFor:"plan-selection"},Qe.a.t("compaies.table.plan")),l.a.createElement(pt.c,{as:At.a,id:"plan-selection",label:Qe.a.t("compaies.table.plan"),labelId:"plan-selection-label",name:"planId",margin:"dense",required:!0},c.map((e,a)=>l.a.createElement(F.a,{key:a,value:e.id},e.name))))),l.a.createElement(it.a,{xs:12,sm:6,md:1,item:!0},l.a.createElement(xt.a,{margin:"dense",variant:"outlined",fullWidth:!0},l.a.createElement(Ct.a,{htmlFor:"status-selection"},Qe.a.t("compaies.table.active")),l.a.createElement(pt.c,{as:At.a,id:"status-selection",label:Qe.a.t("compaies.table.active"),labelId:"status-selection-label",name:"status",margin:"dense"},l.a.createElement(F.a,{value:!0},Qe.a.t("compaies.table.yes")),l.a.createElement(F.a,{value:!1},Qe.a.t("compaies.table.no"))))),l.a.createElement(it.a,{xs:12,sm:6,md:2,item:!0},l.a.createElement(pt.c,{as:Et.a,label:Qe.a.t("compaies.table.document"),name:"document",variant:"outlined",className:i.fullWidth,margin:"dense"})),l.a.createElement(it.a,{xs:12,sm:6,md:2,item:!0},l.a.createElement(xt.a,{variant:"outlined",fullWidth:!0},l.a.createElement(pt.c,{as:Et.a,label:Qe.a.t("compaies.table.dueDate"),type:"date",name:"dueDate",InputLabelProps:{shrink:!0},variant:"outlined",fullWidth:!0,margin:"dense"}))),l.a.createElement(it.a,{xs:12,sm:6,md:2,item:!0},l.a.createElement(xt.a,{margin:"dense",variant:"outlined",fullWidth:!0},l.a.createElement(Ct.a,{htmlFor:"recorrencia-selection"},Qe.a.t("compaies.table.recurrence")),l.a.createElement(pt.c,{as:At.a,label:"Recorr\xeancia",labelId:"recorrencia-selection-label",id:"recurrence",name:"recurrence",margin:"dense"},l.a.createElement(F.a,{value:"MENSAL"},Qe.a.t("compaies.table.monthly")),l.a.createElement(F.a,{value:"BIMESTRAL"},Qe.a.t("compaies.table.bimonthly")),l.a.createElement(F.a,{value:"TRIMESTRAL"},Qe.a.t("compaies.table.quarterly")),l.a.createElement(F.a,{value:"SEMESTRAL"},Qe.a.t("compaies.table.semester")),l.a.createElement(F.a,{value:"ANUAL"},Qe.a.t("compaies.table.yearly"))))),l.a.createElement(it.a,{xs:12,item:!0},l.a.createElement(it.a,{justifyContent:"flex-end",spacing:1,container:!0},l.a.createElement(it.a,{xs:4,md:1,item:!0},l.a.createElement(Kl,{className:i.fullWidth,style:{marginTop:7},loading:s,onClick:()=>o(),variant:"contained"},Qe.a.t("compaies.table.clear"))),void 0!==E.id?l.a.createElement(l.a.Fragment,null,l.a.createElement(it.a,{xs:6,md:1,item:!0},l.a.createElement(Kl,{style:{marginTop:7},className:i.fullWidth,loading:s,onClick:()=>t(E),variant:"contained",color:"secondary"},Qe.a.t("compaies.table.delete"))),l.a.createElement(it.a,{xs:6,md:2,item:!0},l.a.createElement(Kl,{style:{marginTop:7},className:i.fullWidth,loading:s,onClick:()=>(()=>{const e={...E};if(""!==e.dueDate&&null!==e.dueDate)switch(e.recurrence){case"MENSAL":e.dueDate=y()(e.dueDate).add(1,"month").format("YYYY-MM-DD");break;case"BIMESTRAL":e.dueDate=y()(e.dueDate).add(2,"month").format("YYYY-MM-DD");break;case"TRIMESTRAL":e.dueDate=y()(e.dueDate).add(3,"month").format("YYYY-MM-DD");break;case"SEMESTRAL":e.dueDate=y()(e.dueDate).add(6,"month").format("YYYY-MM-DD");break;case"ANUAL":e.dueDate=y()(e.dueDate).add(12,"month").format("YYYY-MM-DD")}b(e)})(),variant:"contained",color:"primary"},Qe.a.t("compaies.table.dueDate")))):null,l.a.createElement(it.a,{xs:6,md:1,item:!0},l.a.createElement(Kl,{className:i.fullWidth,style:{marginTop:7},loading:s,type:"submit",variant:"contained",color:"primary"},Qe.a.t("compaies.table.save")))))))))}function Yc(e){const{records:a,onSelect:t}=e,n=Kc(),{dateToClient:o,datetimeToClient:r}=ta(),s=e=>{if(y()(e.dueDate).isValid()){const a=y()(),t=y()(e.dueDate).diff(a,"days");if(t>=1&&t<=5)return{backgroundColor:"#fffead"};if(t<=0)return{backgroundColor:"#fa8c8c"}}return{}};return l.a.createElement(St.a,{className:n.tableContainer},l.a.createElement(Rn.a,{className:n.fullWidth,padding:"none","aria-label":"a dense table"},l.a.createElement(Ln.a,null,l.a.createElement(qn.a,null,l.a.createElement(Dn.a,{align:"center",style:{width:"1%"}},"#"),l.a.createElement(Dn.a,{align:"left"},Qe.a.t("compaies.table.name")),l.a.createElement(Dn.a,{align:"left"},Qe.a.t("compaies.table.email")),l.a.createElement(Dn.a,{align:"center"},Qe.a.t("compaies.table.phone")),l.a.createElement(Dn.a,{align:"center"},Qe.a.t("compaies.table.plan")),l.a.createElement(Dn.a,{align:"center"},Qe.a.t("compaies.table.value")),l.a.createElement(Dn.a,{align:"center"},Qe.a.t("compaies.table.active")),l.a.createElement(Dn.a,{align:"center"},Qe.a.t("compaies.table.createdAt")),l.a.createElement(Dn.a,{align:"center"},Qe.a.t("compaies.table.dueDate")),l.a.createElement(Dn.a,{align:"center"},Qe.a.t("compaies.table.lastLogin")))),l.a.createElement(Pn.a,null,a.map((e,a)=>l.a.createElement(qn.a,{style:s(e),key:a},l.a.createElement(Dn.a,{align:"center",style:{width:"1%"}},l.a.createElement(M.a,{onClick:()=>t(e),"aria-label":"delete"},l.a.createElement(mc.a,null))),l.a.createElement(Dn.a,{align:"left"},e.name||"-"),l.a.createElement(Dn.a,{align:"left",size:"small"},e.email||"-"),l.a.createElement(Dn.a,{align:"center"},e.phone||"-"),l.a.createElement(Dn.a,{align:"center"},(e=>null!==e.planId?e.plan.name:"-")(e)),l.a.createElement(Dn.a,{align:"center"},Qe.a.t("compaies.table.money")," ",(e=>null!==e.planId?e.plan.amount?e.plan.amount.toLocaleString("pt-br",{minimumFractionDigits:2}):"00.00":"-")(e)),l.a.createElement(Dn.a,{align:"center"},(e=>!1===e.status?"N\xe3o":"Sim")(e)),l.a.createElement(Dn.a,{align:"center"},o(e.createdAt)),l.a.createElement(Dn.a,{align:"center"},o(e.dueDate),l.a.createElement("br",null),l.a.createElement("span",null,e.recurrence)),l.a.createElement(Dn.a,{align:"center"},r(e.lastLogin)))))))}function Xc(){const e=Kc(),{list:a,save:t,update:o,remove:r}=zc(),[i,c]=Object(n.useState)(!1),[d,m]=Object(n.useState)(!1),[u,p]=Object(n.useState)([]),[g,E]=Object(n.useState)({name:"",email:"",phone:"",planId:"",status:!0,dueDate:"",recurrence:"",password:"",document:"",paymentMethod:""});Object(n.useEffect)(()=>{b()},[]);const b=async()=>{m(!0);try{const e=await a();p(e)}catch(e){s.b.error("N\xe3o foi poss\xedvel carregar a lista de registros")}m(!1)},f=()=>{E(e=>({...e,name:"",email:"",phone:"",planId:"",status:!0,dueDate:"",recurrence:"",password:"",document:"",paymentMethod:""}))};return l.a.createElement(St.a,{className:e.mainPaper,elevation:0},l.a.createElement(it.a,{spacing:2,container:!0},l.a.createElement(it.a,{xs:12,item:!0},l.a.createElement(_c,{initialValue:g,onDelete:()=>{c(!0)},onSubmit:async e=>{m(!0);try{void 0!==e.id?await o(e):await t(e),await b(),f(),s.b.success("Opera\xe7\xe3o realizada com sucesso!")}catch(a){s.b.error("N\xe3o foi poss\xedvel realizar a opera\xe7\xe3o. Verifique se j\xe1 existe uma empresa com o mesmo nome ou se os campos foram preenchidos corretamente")}m(!1)},onCancel:f,loading:d})),l.a.createElement(it.a,{xs:12,item:!0},l.a.createElement(Yc,{records:u,onSelect:e=>{E(a=>({...a,id:e.id,name:e.name||"",phone:e.phone||"",email:e.email||"",planId:e.planId||"",status:!1!==e.status,dueDate:e.dueDate||"",recurrence:e.recurrence||"",password:"",document:e.document||"",paymentMethod:e.paymentMethod||""}))}}))),l.a.createElement(wr,{title:"Exclus\xe3o de Registro",open:i,onClose:()=>c(!1),onConfirm:()=>(async()=>{m(!0);try{await r(g.id),await b(),f(),s.b.success("Opera\xe7\xe3o realizada com sucesso!")}catch(e){s.b.error("N\xe3o foi poss\xedvel realizar a opera\xe7\xe3o")}m(!1)})()},"Deseja realmente excluir esse registro?"))}const Jc=Object(x.a)(e=>({root:{width:"100%"},mainPaper:{width:"100%",flex:1,padding:e.spacing(2)},fullWidth:{width:"100%"},tableContainer:{width:"100%",overflowX:"scroll",...e.scrollbarStyles},textfield:{width:"100%"},textRight:{textAlign:"right"},row:{paddingTop:e.spacing(2),paddingBottom:e.spacing(2)},control:{paddingRight:e.spacing(1),paddingLeft:e.spacing(1)},buttonContainer:{textAlign:"right",padding:e.spacing(1)}}));function Zc(e){const{onSubmit:a,onDelete:t,onCancel:o,initialValue:r,loading:s}=e,i=Jc(),[c,d]=Object(n.useState)({name:"",users:0,connections:0,queues:0,amount:0,useWhatsapp:!0,useFacebook:!0,useInstagram:!0,useCampaigns:!0,useSchedules:!0,useInternalChat:!0,useExternalApi:!0,useKanban:!0,useOpenAi:!0,useIntegrations:!0});Object(n.useEffect)(()=>{d(r)},[r]);return l.a.createElement(pt.f,{enableReinitialize:!0,className:i.fullWidth,initialValues:c,onSubmit:(e,t)=>{let{resetForm:n}=t;return setTimeout(()=>{(async e=>{a(e)})(e),n()},500)}},e=>l.a.createElement(pt.e,{className:i.fullWidth},l.a.createElement(it.a,{spacing:1,justifyContent:"flex-start",container:!0},l.a.createElement(it.a,{xs:12,sm:6,md:2,item:!0},l.a.createElement(pt.c,{as:Et.a,label:Qe.a.t("plans.form.name"),name:"name",variant:"outlined",className:i.fullWidth,margin:"dense"})),l.a.createElement(it.a,{xs:12,sm:6,md:1,item:!0},l.a.createElement(pt.c,{as:Et.a,label:Qe.a.t("plans.form.users"),name:"users",variant:"outlined",className:i.fullWidth,margin:"dense",type:"number"})),l.a.createElement(it.a,{xs:12,sm:6,md:1,item:!0},l.a.createElement(pt.c,{as:Et.a,label:Qe.a.t("plans.form.connections"),name:"connections",variant:"outlined",className:i.fullWidth,margin:"dense",type:"number"})),l.a.createElement(it.a,{xs:12,sm:6,md:1,item:!0},l.a.createElement(pt.c,{as:Et.a,label:"Filas",name:"queues",variant:"outlined",className:i.fullWidth,margin:"dense",type:"number"})),l.a.createElement(it.a,{xs:12,sm:6,md:1,item:!0},l.a.createElement(pt.c,{as:Et.a,label:"Valor",name:"amount",variant:"outlined",className:i.fullWidth,margin:"dense",type:"text"})),l.a.createElement(it.a,{xs:12,sm:6,md:2,item:!0},l.a.createElement(xt.a,{margin:"dense",variant:"outlined",fullWidth:!0},l.a.createElement(Ct.a,{htmlFor:"useWhatsapp-selection"},"Whatsapp"),l.a.createElement(pt.c,{as:At.a,id:"useWhatsapp-selection",label:"Whatsapp",labelId:"useWhatsapp-selection-label",name:"useWhatsapp",margin:"dense"},l.a.createElement(F.a,{value:!0},Qe.a.t("plans.form.enabled")),l.a.createElement(F.a,{value:!1},Qe.a.t("plans.form.disabled"))))),l.a.createElement(it.a,{xs:12,sm:6,md:2,item:!0},l.a.createElement(xt.a,{margin:"dense",variant:"outlined",fullWidth:!0},l.a.createElement(Ct.a,{htmlFor:"useFacebook-selection"},"Facebook"),l.a.createElement(pt.c,{as:At.a,id:"useFacebook-selection",label:"Facebook",labelId:"useFacebook-selection-label",name:"useFacebook",margin:"dense"},l.a.createElement(F.a,{value:!0},Qe.a.t("plans.form.enabled")),l.a.createElement(F.a,{value:!1},Qe.a.t("plans.form.disabled"))))),l.a.createElement(it.a,{xs:12,sm:6,md:2,item:!0},l.a.createElement(xt.a,{margin:"dense",variant:"outlined",fullWidth:!0},l.a.createElement(Ct.a,{htmlFor:"useInstagram-selection"},"Instagram"),l.a.createElement(pt.c,{as:At.a,id:"useInstagram-selection",label:"Instagram",labelId:"useInstagram-selection-label",name:"useInstagram",margin:"dense"},l.a.createElement(F.a,{value:!0},Qe.a.t("plans.form.enabled")),l.a.createElement(F.a,{value:!1},Qe.a.t("plans.form.disabled"))))),l.a.createElement(it.a,{xs:12,sm:6,md:2,item:!0},l.a.createElement(xt.a,{margin:"dense",variant:"outlined",fullWidth:!0},l.a.createElement(Ct.a,{htmlFor:"useCampaigns-selection"},Qe.a.t("plans.form.campaigns")),l.a.createElement(pt.c,{as:At.a,id:"useCampaigns-selection",label:Qe.a.t("plans.form.campaigns"),labelId:"useCampaigns-selection-label",name:"useCampaigns",margin:"dense"},l.a.createElement(F.a,{value:!0},Qe.a.t("plans.form.enabled")),l.a.createElement(F.a,{value:!1},Qe.a.t("plans.form.disabled"))))),l.a.createElement(it.a,{xs:12,sm:8,md:2,item:!0},l.a.createElement(xt.a,{margin:"dense",variant:"outlined",fullWidth:!0},l.a.createElement(Ct.a,{htmlFor:"useSchedules-selection"},Qe.a.t("plans.form.schedules")),l.a.createElement(pt.c,{as:At.a,id:"useSchedules-selection",label:Qe.a.t("plans.form.schedules"),labelId:"useSchedules-selection-label",name:"useSchedules",margin:"dense"},l.a.createElement(F.a,{value:!0},Qe.a.t("plans.form.enabled")),l.a.createElement(F.a,{value:!1},Qe.a.t("plans.form.disabled"))))),l.a.createElement(it.a,{xs:12,sm:8,md:2,item:!0},l.a.createElement(xt.a,{margin:"dense",variant:"outlined",fullWidth:!0},l.a.createElement(Ct.a,{htmlFor:"useInternalChat-selection"},"Chat Interno"),l.a.createElement(pt.c,{as:At.a,id:"useInternalChat-selection",label:"Chat Interno",labelId:"useInternalChat-selection-label",name:"useInternalChat",margin:"dense"},l.a.createElement(F.a,{value:!0},Qe.a.t("plans.form.enabled")),l.a.createElement(F.a,{value:!1},Qe.a.t("plans.form.disabled"))))),l.a.createElement(it.a,{xs:12,sm:8,md:4,item:!0},l.a.createElement(xt.a,{margin:"dense",variant:"outlined",fullWidth:!0},l.a.createElement(Ct.a,{htmlFor:"useExternalApi-selection"},"API Externa"),l.a.createElement(pt.c,{as:At.a,id:"useExternalApi-selection",label:"API Externa",labelId:"useExternalApi-selection-label",name:"useExternalApi",margin:"dense"},l.a.createElement(F.a,{value:!0},Qe.a.t("plans.form.enabled")),l.a.createElement(F.a,{value:!1},Qe.a.t("plans.form.disabled"))))),l.a.createElement(it.a,{xs:12,sm:8,md:2,item:!0},l.a.createElement(xt.a,{margin:"dense",variant:"outlined",fullWidth:!0},l.a.createElement(Ct.a,{htmlFor:"useKanban-selection"},"Kanban"),l.a.createElement(pt.c,{as:At.a,id:"useKanban-selection",label:"Kanban",labelId:"useKanban-selection-label",name:"useKanban",margin:"dense"},l.a.createElement(F.a,{value:!0},Qe.a.t("plans.form.enabled")),l.a.createElement(F.a,{value:!1},Qe.a.t("plans.form.disabled"))))),l.a.createElement(it.a,{xs:12,sm:8,md:2,item:!0},l.a.createElement(xt.a,{margin:"dense",variant:"outlined",fullWidth:!0},l.a.createElement(Ct.a,{htmlFor:"useOpenAi-selection"},"Talk.Ai"),l.a.createElement(pt.c,{as:At.a,id:"useOpenAi-selection",label:"Talk.Ai",labelId:"useOpenAi-selection-label",name:"useOpenAi",margin:"dense"},l.a.createElement(F.a,{value:!0},Qe.a.t("plans.form.enabled")),l.a.createElement(F.a,{value:!1},Qe.a.t("plans.form.disabled"))))),l.a.createElement(it.a,{xs:12,sm:8,md:2,item:!0},l.a.createElement(xt.a,{margin:"dense",variant:"outlined",fullWidth:!0},l.a.createElement(Ct.a,{htmlFor:"useIntegrations-selection"},"Integra\xe7\xf5es"),l.a.createElement(pt.c,{as:At.a,id:"useIntegrations-selection",label:"Integra\xe7\xf5es",labelId:"useIntegrations-selection-label",name:"useIntegrations",margin:"dense"},l.a.createElement(F.a,{value:!0},Qe.a.t("plans.form.enabled")),l.a.createElement(F.a,{value:!1},Qe.a.t("plans.form.disabled")))))),l.a.createElement(it.a,{spacing:2,justifyContent:"flex-end",container:!0},l.a.createElement(it.a,{sm:3,md:2,item:!0},l.a.createElement(Kl,{className:i.fullWidth,loading:s,onClick:()=>o(),variant:"contained"},Qe.a.t("plans.form.clear"))),void 0!==c.id?l.a.createElement(it.a,{sm:3,md:2,item:!0},l.a.createElement(Kl,{className:i.fullWidth,loading:s,onClick:()=>t(c),variant:"contained",color:"secondary"},Qe.a.t("plans.form.delete"))):null,l.a.createElement(it.a,{sm:3,md:2,item:!0},l.a.createElement(Kl,{className:i.fullWidth,loading:s,type:"submit",variant:"contained",color:"primary"},Qe.a.t("plans.form.save"))))))}function $c(e){const{records:a,onSelect:t}=e,n=Jc();return l.a.createElement(St.a,{className:n.tableContainer},l.a.createElement(Rn.a,{className:n.fullWidth,padding:"none","aria-label":"a dense table"},l.a.createElement(Ln.a,null,l.a.createElement(qn.a,null,l.a.createElement(Dn.a,{align:"center",style:{width:"1%"}},"#"),l.a.createElement(Dn.a,{align:"left"},Qe.a.t("plans.form.name")),l.a.createElement(Dn.a,{align:"center"},Qe.a.t("plans.form.users")),l.a.createElement(Dn.a,{align:"center"},Qe.a.t("plans.form.connections")),l.a.createElement(Dn.a,{align:"center"},"Filas"),l.a.createElement(Dn.a,{align:"center"},"Valor"),l.a.createElement(Dn.a,{align:"center"},"Whatsapp"),l.a.createElement(Dn.a,{align:"center"},"Facebook"),l.a.createElement(Dn.a,{align:"center"},"Instagram"),l.a.createElement(Dn.a,{align:"center"},Qe.a.t("plans.form.campaigns")),l.a.createElement(Dn.a,{align:"center"},Qe.a.t("plans.form.schedules")),l.a.createElement(Dn.a,{align:"center"},"Chat Interno"),l.a.createElement(Dn.a,{align:"center"},"API Externa"),l.a.createElement(Dn.a,{align:"center"},"Kanban"),l.a.createElement(Dn.a,{align:"center"},"Talk.Ai"),l.a.createElement(Dn.a,{align:"center"},"Integra\xe7\xf5es"))),l.a.createElement(Pn.a,null,a.map(e=>l.a.createElement(qn.a,{key:e.id},l.a.createElement(Dn.a,{align:"center",style:{width:"1%"}},l.a.createElement(M.a,{onClick:()=>t(e),"aria-label":"delete"},l.a.createElement(mc.a,null))),l.a.createElement(Dn.a,{align:"left"},e.name||"-"),l.a.createElement(Dn.a,{align:"center"},e.users||"-"),l.a.createElement(Dn.a,{align:"center"},e.connections||"-"),l.a.createElement(Dn.a,{align:"center"},e.queues||"-"),l.a.createElement(Dn.a,{align:"center"},Qe.a.t("plans.form.money")," ",e.amount?e.amount.toLocaleString("pt-br",{minimumFractionDigits:2}):"00.00"),l.a.createElement(Dn.a,{align:"center"},(e=>!1===e.useWhatsapp?"".concat(Qe.a.t("plans.form.no")):"".concat(Qe.a.t("plans.form.yes")))(e)),l.a.createElement(Dn.a,{align:"center"},(e=>!1===e.useFacebook?"".concat(Qe.a.t("plans.form.no")):"".concat(Qe.a.t("plans.form.yes")))(e)),l.a.createElement(Dn.a,{align:"center"},(e=>!1===e.useInstagram?"".concat(Qe.a.t("plans.form.no")):"".concat(Qe.a.t("plans.form.yes")))(e)),l.a.createElement(Dn.a,{align:"center"},(e=>!1===e.useCampaigns?"".concat(Qe.a.t("plans.form.no")):"".concat(Qe.a.t("plans.form.yes")))(e)),l.a.createElement(Dn.a,{align:"center"},(e=>!1===e.useSchedules?"".concat(Qe.a.t("plans.form.no")):"".concat(Qe.a.t("plans.form.yes")))(e)),l.a.createElement(Dn.a,{align:"center"},(e=>!1===e.useInternalChat?"".concat(Qe.a.t("plans.form.no")):"".concat(Qe.a.t("plans.form.yes")))(e)),l.a.createElement(Dn.a,{align:"center"},(e=>!1===e.useExternalApi?"".concat(Qe.a.t("plans.form.no")):"".concat(Qe.a.t("plans.form.yes")))(e)),l.a.createElement(Dn.a,{align:"center"},(e=>!1===e.useKanban?"".concat(Qe.a.t("plans.form.no")):"".concat(Qe.a.t("plans.form.yes")))(e)),l.a.createElement(Dn.a,{align:"center"},(e=>!1===e.useOpenAi?"".concat(Qe.a.t("plans.form.no")):"".concat(Qe.a.t("plans.form.yes")))(e)),l.a.createElement(Dn.a,{align:"center"},(e=>!1===e.useIntegrations?"".concat(Qe.a.t("plans.form.no")):"".concat(Qe.a.t("plans.form.yes")))(e)))))))}function ed(){const e=Jc(),{list:a,save:t,update:o,remove:r}=ua(),[i,c]=Object(n.useState)(!1),[d,m]=Object(n.useState)(!1),[u,p]=Object(n.useState)([]),[g,E]=Object(n.useState)({name:"",users:0,connections:0,queues:0,amount:0,useWhatsapp:!0,useFacebook:!0,useInstagram:!0,useCampaigns:!0,useSchedules:!0,useInternalChat:!0,useExternalApi:!0,useKanban:!0,useOpenAi:!0,useIntegrations:!0});Object(n.useEffect)(()=>{!async function(){await b()}()},[g]);const b=async()=>{m(!0);try{const e=await a();p(e)}catch(e){s.b.error("N\xe3o foi poss\xedvel carregar a lista de registros")}m(!1)},f=()=>{E({id:void 0,name:"",users:0,connections:0,queues:0,amount:0,useWhatsapp:!0,useFacebook:!0,useInstagram:!0,useCampaigns:!0,useSchedules:!0,useInternalChat:!0,useExternalApi:!0,useKanban:!0,useOpenAi:!0,useIntegrations:!0})};return l.a.createElement(St.a,{className:e.mainPaper,elevation:0},l.a.createElement(it.a,{spacing:2,container:!0},l.a.createElement(it.a,{xs:12,item:!0},l.a.createElement(Zc,{initialValue:g,onDelete:()=>{c(!0)},onSubmit:async e=>{m(!0),console.log(e);try{void 0!==e.id?await o(e):await t(e),await b(),f(),s.b.success("Opera\xe7\xe3o realizada com sucesso!")}catch(a){s.b.error("N\xe3o foi poss\xedvel realizar a opera\xe7\xe3o. Verifique se j\xe1 existe uma plano com o mesmo nome ou se os campos foram preenchidos corretamente")}m(!1)},onCancel:f,loading:d})),l.a.createElement(it.a,{xs:12,item:!0},l.a.createElement($c,{records:u,onSelect:e=>{var a;let t=!1!==e.useWhatsapp,n=!1!==e.useFacebook,l=!1!==e.useInstagram,o=!1!==e.useCampaigns,r=!1!==e.useSchedules,s=!1!==e.useInternalChat,i=!1!==e.useExternalApi,c=!1!==e.useKanban,d=!1!==e.useOpenAi,m=!1!==e.useIntegrations;E({id:e.id,name:e.name||"",users:e.users||0,connections:e.connections||0,queues:e.queues||0,amount:(null===(a=e.amount)||void 0===a?void 0:a.toLocaleString("pt-br",{minimumFractionDigits:2}))||0,useWhatsapp:t,useFacebook:n,useInstagram:l,useCampaigns:o,useSchedules:r,useInternalChat:s,useExternalApi:i,useKanban:c,useOpenAi:d,useIntegrations:m})}}))),l.a.createElement(wr,{title:"Exclus\xe3o de Registro",open:i,onClose:()=>c(!1),onConfirm:()=>(async()=>{m(!0);try{await r(g.id),await b(),f(),s.b.success("Opera\xe7\xe3o realizada com sucesso!")}catch(e){s.b.error("N\xe3o foi poss\xedvel realizar a opera\xe7\xe3o")}m(!1)})()},"Deseja realmente excluir esse registro?"))}var ad=()=>({findAll:async e=>{const{data:a}=await Ze.request({url:"/helps",method:"GET",params:e});return a},list:async e=>{const{data:a}=await Ze.request({url:"/helps/list",method:"GET",params:e});return a},save:async e=>{const{data:a}=await Ze.request({url:"/helps",method:"POST",data:e});return a},update:async e=>{const{data:a}=await Ze.request({url:"/helps/".concat(e.id),method:"PUT",data:e});return a},remove:async e=>{const{data:a}=await Ze.request({url:"/helps/".concat(e),method:"DELETE"});return a}});const td=Object(x.a)(e=>({root:{width:"100%"},mainPaper:{width:"100%",flex:1,padding:e.spacing(2)},fullWidth:{width:"100%"},tableContainer:{width:"100%",overflowX:"scroll",...e.scrollbarStyles},textfield:{width:"100%"},textRight:{textAlign:"right"},row:{paddingTop:e.spacing(2),paddingBottom:e.spacing(2)},control:{paddingRight:e.spacing(1),paddingLeft:e.spacing(1)},buttonContainer:{textAlign:"right",padding:e.spacing(1)}}));function nd(e){const{onSubmit:a,onDelete:t,onCancel:o,initialValue:r,loading:s}=e,i=td(),[c,d]=Object(n.useState)(r);Object(n.useEffect)(()=>{d(r)},[r]);return l.a.createElement(pt.f,{enableReinitialize:!0,className:i.fullWidth,initialValues:c,onSubmit:(e,t)=>{let{resetForm:n}=t;return setTimeout(()=>{(async e=>{a(e)})(e),n()},500)}},e=>l.a.createElement(pt.e,{className:i.fullWidth},l.a.createElement(it.a,{spacing:2,justifyContent:"flex-end",container:!0},l.a.createElement(it.a,{xs:12,sm:6,md:3,item:!0},l.a.createElement(pt.c,{as:Et.a,label:"T\xedtulo",name:"title",variant:"outlined",className:i.fullWidth,margin:"dense"})),l.a.createElement(it.a,{xs:12,sm:6,md:3,item:!0},l.a.createElement(pt.c,{as:Et.a,label:Qe.a.t("helps.settings.codeVideo"),name:"video",variant:"outlined",className:i.fullWidth,margin:"dense"})),l.a.createElement(it.a,{xs:12,sm:12,md:6,item:!0},l.a.createElement(pt.c,{as:Et.a,label:Qe.a.t("helps.settings.description"),name:"description",variant:"outlined",className:i.fullWidth,margin:"dense"})),l.a.createElement(it.a,{sm:3,md:1,item:!0},l.a.createElement(Kl,{className:i.fullWidth,loading:s,onClick:()=>o(),variant:"contained"},Qe.a.t("helps.settings.clear"))),void 0!==c.id?l.a.createElement(it.a,{sm:3,md:1,item:!0},l.a.createElement(Kl,{className:i.fullWidth,loading:s,onClick:()=>t(c),variant:"contained",color:"secondary"},Qe.a.t("helps.settings.delete"))):null,l.a.createElement(it.a,{sm:3,md:1,item:!0},l.a.createElement(Kl,{className:i.fullWidth,loading:s,type:"submit",variant:"contained",color:"primary"},Qe.a.t("helps.settings.save"))))))}function ld(e){const{records:a,onSelect:t}=e,n=td();return l.a.createElement(St.a,{className:n.tableContainer},l.a.createElement(Rn.a,{className:n.fullWidth,size:"small","aria-label":"a dense table"},l.a.createElement(Ln.a,null,l.a.createElement(qn.a,null,l.a.createElement(Dn.a,{align:"center",style:{width:"1%"}},"#"),l.a.createElement(Dn.a,{align:"left"},"T\xedtulo"),l.a.createElement(Dn.a,{align:"left"},Qe.a.t("helps.settings.description")),l.a.createElement(Dn.a,{align:"left"},"Video"))),l.a.createElement(Pn.a,null,a.map(e=>l.a.createElement(qn.a,{key:e.id},l.a.createElement(Dn.a,{align:"center",style:{width:"1%"}},l.a.createElement(M.a,{onClick:()=>t(e),"aria-label":"delete"},l.a.createElement(mc.a,null))),l.a.createElement(Dn.a,{align:"left"},e.title||"-"),l.a.createElement(Dn.a,{align:"left"},e.description||"-"),l.a.createElement(Dn.a,{align:"left"},e.video||"-"))))))}function od(){const e=td(),{list:a,save:t,update:o,remove:r}=ad(),[i,c]=Object(n.useState)(!1),[d,m]=Object(n.useState)(!1),[u,p]=Object(n.useState)([]),[g,E]=Object(n.useState)({title:"",description:"",video:""});Object(n.useEffect)(()=>{!async function(){await b()}()},[]);const b=async()=>{m(!0);try{const e=await a();p(e)}catch(e){s.b.error("N\xe3o foi poss\xedvel carregar a lista de registros")}m(!1)},f=()=>{E({title:"",description:"",video:""})};return l.a.createElement(St.a,{className:e.mainPaper,elevation:0},l.a.createElement(it.a,{spacing:2,container:!0},l.a.createElement(it.a,{xs:12,item:!0},l.a.createElement(nd,{initialValue:g,onDelete:()=>{c(!0)},onSubmit:async e=>{m(!0);try{void 0!==e.id?await o(e):await t(e),await b(),f(),s.b.success("Opera\xe7\xe3o realizada com sucesso!")}catch(a){s.b.error("N\xe3o foi poss\xedvel realizar a opera\xe7\xe3o. Verifique se j\xe1 existe uma helpo com o mesmo nome ou se os campos foram preenchidos corretamente")}m(!1)},onCancel:f,loading:d})),l.a.createElement(it.a,{xs:12,item:!0},l.a.createElement(ld,{records:u,onSelect:e=>{E({id:e.id,title:e.title||"",description:e.description||"",video:e.video||""})}}))),l.a.createElement(wr,{title:"Exclus\xe3o de Registro",open:i,onClose:()=>c(!1),onConfirm:()=>(async()=>{m(!0);try{await r(g.id),await b(),f(),s.b.success("Opera\xe7\xe3o realizada com sucesso!")}catch(e){s.b.error("N\xe3o foi poss\xedvel realizar a opera\xe7\xe3o")}m(!1)})()},"Deseja realmente excluir esse registro?"))}var rd=t(698);const sd=Object(x.a)(e=>({container:{paddingTop:e.spacing(4),paddingBottom:e.spacing(4)},fixedHeightPaper:{padding:e.spacing(2),display:"flex",overflow:"auto",flexDirection:"column",height:240},cardAvatar:{fontSize:"55px",color:jn.a[500],backgroundColor:"#ffffff",width:e.spacing(7),height:e.spacing(7)},cardTitle:{fontSize:"18px",color:Nn.a[700]},cardSubtitle:{color:jn.a[600],fontSize:"14px"},alignRight:{textAlign:"right"},fullWidth:{width:"100%"},selectContainer:{width:"100%",textAlign:"left"},tab:{backgroundColor:"light"===e.mode?"#f2f2f2":"#7f7f7f",borderRadius:4,width:"100%","& .MuiTabs-flexContainer":{justifyContent:"center"}}}));function id(e){const{oldSettings:a,settings:t,scheduleTypeChanged:o,user:r}=e,s=sd(),[i,c]=Object(n.useState)("disabled"),[d,m]=Object(n.useState)("disabled"),[u,p]=Object(n.useState)("text"),[g,E]=Object(n.useState)(!1),[b,f]=Object(n.useState)(!1),[h,v]=Object(n.useState)("disabled"),[y,A]=Object(n.useState)(!1),[C,x]=Object(n.useState)("enabled"),[T,O]=Object(n.useState)(!1),[k,S]=Object(n.useState)("enabled"),[w,M]=Object(n.useState)(!1),[I,j]=Object(n.useState)("enabled"),[N,R]=Object(n.useState)(!1),[P,D]=Object(n.useState)("enabled"),[L,q]=Object(n.useState)(!1),[W,B]=Object(n.useState)("enabled"),[z,H]=Object(n.useState)(!1),[U,Q]=Object(n.useState)("enabled"),[G,V]=Object(n.useState)(!1),[K,_]=Object(n.useState)("enabled"),[Y,X]=Object(n.useState)(!1),[J,Z]=Object(n.useState)("enabled"),[$,ee]=Object(n.useState)(!1),[ae,te]=Object(n.useState)("enabled"),[ne,le]=Object(n.useState)(!1),[oe,re]=Object(n.useState)("disabled"),[se,ie]=Object(n.useState)(!1),[ce,de]=Object(n.useState)(""),[me,ue]=Object(n.useState)(!1),[pe,ge]=Object(n.useState)(""),[Ee,be]=Object(n.useState)(!1),[fe,he]=Object(n.useState)("disabled"),[ve,ye]=Object(n.useState)(!1),[Ae,Ce]=Object(n.useState)("disabled"),[xe,Te]=Object(n.useState)(!1),[Oe,ke]=Object(n.useState)("disabled"),[Se,we]=Object(n.useState)(!1),[Me,Ie]=Object(n.useState)("enabled"),[je,Ne]=Object(n.useState)(!1),[Re,Pe]=Object(n.useState)(!1),[De,Fe]=Object(n.useState)(!1),[Le,qe]=Object(n.useState)(!1),[We,Be]=Object(n.useState)(!1),{update:ze,getAll:He}=on(),{update:Ue}=To();return Object(n.useEffect)(()=>{if(Array.isArray(a)&&a.length){const e=a.find(e=>"userCreation"===e.key);e&&v(e.value)}},[a]),Object(n.useEffect)(()=>{for(const[e,a]of Object.entries(t))"userRating"===e&&c(a),"scheduleType"===e&&m(a),"chatBotType"===e&&p(a),"acceptCallWhatsapp"===e&&D(a),"userRandom"===e&&S(a),"sendGreetingMessageOneQueues"===e&&Q(a),"sendSignMessage"===e&&B(a),"sendFarewellWaitingTicket"===e&&Z(a),"sendGreetingAccepted"===e&&x(a),"sendQueuePosition"===e&&_(a),"acceptAudioMessageContact"===e&&te(a),"enableLGPD"===e&&re(a),"requiredTag"===e&&Ie(a),"lgpdDeleteMessage"===e&&he(a),"lgpdHideNumber"===e&&ke(a),"lgpdConsent"===e&&Ce(a),"lgpdMessage"===e&&de(a),"sendMsgTransfTicket"===e&&j(a),"lgpdLink"===e&&ge(a),"DirectTicketsToWallets"===e&&qe(a),"closeTicketOnTransfer"===e&&Pe(a)},[t]),l.a.createElement(l.a.Fragment,null,l.a.createElement(it.a,{spacing:3,container:!0},r.super?l.a.createElement(it.a,{xs:12,sm:6,md:4,item:!0},l.a.createElement(xt.a,{className:s.selectContainer},l.a.createElement(Ct.a,{id:"UserCreation-label"},Qe.a.t("settings.settings.options.creationCompanyUser")),l.a.createElement(At.a,{labelId:"UserCreation-label",value:h,onChange:async e=>{!async function(e){v(e),A(!0),await ze({key:"userCreation",value:e}),A(!1)}(e.target.value)}},l.a.createElement(F.a,{value:"disabled"},Qe.a.t("settings.settings.options.disabled")),l.a.createElement(F.a,{value:"enabled"},Qe.a.t("settings.settings.options.enabled"))),l.a.createElement(rd.a,null,y&&Qe.a.t("settings.settings.options.updating")))):null,l.a.createElement(it.a,{xs:12,sm:6,md:4,item:!0},l.a.createElement(xt.a,{className:s.selectContainer},l.a.createElement(Ct.a,{id:"ratings-label"},Qe.a.t("settings.settings.options.evaluations")),l.a.createElement(At.a,{labelId:"ratings-label",value:i,onChange:async e=>{!async function(e){c(e),E(!0),await Ue({column:"userRating",data:e}),E(!1)}(e.target.value)}},l.a.createElement(F.a,{value:"disabled"},Qe.a.t("settings.settings.options.disabled")),l.a.createElement(F.a,{value:"enabled"},Qe.a.t("settings.settings.options.enabled"))),l.a.createElement(rd.a,null,g&&Qe.a.t("settings.settings.options.evaluations")))),l.a.createElement(it.a,{xs:12,sm:6,md:4,item:!0},l.a.createElement(xt.a,{className:s.selectContainer},l.a.createElement(Ct.a,{id:"schedule-type-label"},Qe.a.t("settings.settings.options.officeScheduling")),l.a.createElement(At.a,{labelId:"schedule-type-label",value:d,onChange:async e=>{!async function(e){m(e),f(!0),await Ue({column:"scheduleType",data:e}),f(!1),"function"===typeof o&&o(e)}(e.target.value)}},l.a.createElement(F.a,{value:"disabled"},Qe.a.t("settings.settings.options.disabled")),l.a.createElement(F.a,{value:"queue"},Qe.a.t("settings.settings.options.queueManagement")),l.a.createElement(F.a,{value:"company"},Qe.a.t("settings.settings.options.companyManagement")),l.a.createElement(F.a,{value:"connection"},Qe.a.t("settings.settings.options.connectionManagement"))),l.a.createElement(rd.a,null,b&&Qe.a.t("settings.settings.options.updating")))),l.a.createElement(it.a,{xs:12,sm:6,md:4,item:!0},l.a.createElement(xt.a,{className:s.selectContainer},l.a.createElement(Ct.a,{id:"sendGreetingAccepted-label"},Qe.a.t("settings.settings.options.sendGreetingAccepted")),l.a.createElement(At.a,{labelId:"sendGreetingAccepted-label",value:C,onChange:async e=>{!async function(e){x(e),O(!0),await Ue({column:"sendGreetingAccepted",data:e}),O(!1)}(e.target.value)}},l.a.createElement(F.a,{value:"disabled"},Qe.a.t("settings.settings.options.disabled")),l.a.createElement(F.a,{value:"enabled"},Qe.a.t("settings.settings.options.enabled"))),l.a.createElement(rd.a,null,T&&Qe.a.t("settings.settings.options.updating")))),l.a.createElement(it.a,{xs:12,sm:6,md:4,item:!0},l.a.createElement(xt.a,{className:s.selectContainer},l.a.createElement(Ct.a,{id:"userRandom-label"},Qe.a.t("settings.settings.options.userRandom")),l.a.createElement(At.a,{labelId:"userRandom-label",value:k,onChange:async e=>{!async function(e){S(e),M(!0),await Ue({column:"userRandom",data:e}),M(!1)}(e.target.value)}},l.a.createElement(F.a,{value:"disabled"},Qe.a.t("settings.settings.options.disabled")),l.a.createElement(F.a,{value:"enabled"},Qe.a.t("settings.settings.options.enabled"))),l.a.createElement(rd.a,null,w&&Qe.a.t("settings.settings.options.updating")))),l.a.createElement(it.a,{xs:12,sm:6,md:4,item:!0},l.a.createElement(xt.a,{className:s.selectContainer},l.a.createElement(Ct.a,{id:"sendMsgTransfTicket-label"},Qe.a.t("settings.settings.options.sendMsgTransfTicket")),l.a.createElement(At.a,{labelId:"sendMsgTransfTicket-label",value:I,onChange:async e=>{!async function(e){j(e),R(!0),await Ue({column:"sendMsgTransfTicket",data:e}),R(!1)}(e.target.value)}},l.a.createElement(F.a,{value:"disabled"},Qe.a.t("settings.settings.options.disabled")),l.a.createElement(F.a,{value:"enabled"},Qe.a.t("settings.settings.options.enabled"))),l.a.createElement(rd.a,null,N&&Qe.a.t("settings.settings.options.updating")))),l.a.createElement(it.a,{xs:12,sm:6,md:4,item:!0},l.a.createElement(xt.a,{className:s.selectContainer},l.a.createElement(Ct.a,{id:"schedule-type-label"},Qe.a.t("settings.settings.options.chatBotType")),l.a.createElement(At.a,{labelId:"schedule-type-label",value:u,onChange:async e=>{!async function(e){p(e),await Ue({column:"chatBotType",data:e}),"function"===typeof o&&p(e)}(e.target.value)}},l.a.createElement(F.a,{value:"text"},"Texto")),l.a.createElement(rd.a,null,b&&Qe.a.t("settings.settings.options.updating")))),l.a.createElement(it.a,{xs:12,sm:6,md:4,item:!0},l.a.createElement(xt.a,{className:s.selectContainer},l.a.createElement(Ct.a,{id:"acceptCallWhatsapp-label"},Qe.a.t("settings.settings.options.acceptCallWhatsapp")),l.a.createElement(At.a,{labelId:"acceptCallWhatsapp-label",value:P,onChange:async e=>{!async function(e){D(e),q(!0),await Ue({column:"acceptCallWhatsapp",data:e}),q(!1)}(e.target.value)}},l.a.createElement(F.a,{value:"disabled"},Qe.a.t("settings.settings.options.disabled")),l.a.createElement(F.a,{value:"enabled"},Qe.a.t("settings.settings.options.enabled"))),l.a.createElement(rd.a,null,L&&Qe.a.t("settings.settings.options.updating")))),l.a.createElement(it.a,{xs:12,sm:6,md:4,item:!0},l.a.createElement(xt.a,{className:s.selectContainer},l.a.createElement(Ct.a,{id:"sendSignMessage-label"},Qe.a.t("settings.settings.options.sendSignMessage")),l.a.createElement(At.a,{labelId:"sendSignMessage-label",value:W,onChange:async e=>{!async function(e){B(e),H(!0),await Ue({column:"sendSignMessage",data:e}),localStorage.setItem("sendSignMessage","enabled"===e),H(!1)}(e.target.value)}},l.a.createElement(F.a,{value:"disabled"},Qe.a.t("settings.settings.options.disabled")),l.a.createElement(F.a,{value:"enabled"},Qe.a.t("settings.settings.options.enabled"))),l.a.createElement(rd.a,null,z&&Qe.a.t("settings.settings.options.updating")))),l.a.createElement(it.a,{xs:12,sm:6,md:4,item:!0},l.a.createElement(xt.a,{className:s.selectContainer},l.a.createElement(Ct.a,{id:"sendGreetingMessageOneQueues-label"},Qe.a.t("settings.settings.options.sendGreetingMessageOneQueues")),l.a.createElement(At.a,{labelId:"sendGreetingMessageOneQueues-label",value:U,onChange:async e=>{!async function(e){Q(e),V(!0),await Ue({column:"sendGreetingMessageOneQueues",data:e}),V(!1)}(e.target.value)}},l.a.createElement(F.a,{value:"disabled"},Qe.a.t("settings.settings.options.disabled")),l.a.createElement(F.a,{value:"enabled"},Qe.a.t("settings.settings.options.enabled"))),l.a.createElement(rd.a,null,G&&Qe.a.t("settings.settings.options.updating")))),l.a.createElement(it.a,{xs:12,sm:6,md:4,item:!0},l.a.createElement(xt.a,{className:s.selectContainer},l.a.createElement(Ct.a,{id:"sendQueuePosition-label"},Qe.a.t("settings.settings.options.sendQueuePosition")),l.a.createElement(At.a,{labelId:"sendQueuePosition-label",value:K,onChange:async e=>{!async function(e){_(e),X(!0),await Ue({column:"sendQueuePosition",data:e}),X(!1)}(e.target.value)}},l.a.createElement(F.a,{value:"disabled"},Qe.a.t("settings.settings.options.disabled")),l.a.createElement(F.a,{value:"enabled"},Qe.a.t("settings.settings.options.enabled"))),l.a.createElement(rd.a,null,Y&&Qe.a.t("settings.settings.options.updating")))),l.a.createElement(it.a,{xs:12,sm:6,md:4,item:!0},l.a.createElement(xt.a,{className:s.selectContainer},l.a.createElement(Ct.a,{id:"sendFarewellWaitingTicket-label"},Qe.a.t("settings.settings.options.sendFarewellWaitingTicket")),l.a.createElement(At.a,{labelId:"sendFarewellWaitingTicket-label",value:J,onChange:async e=>{!async function(e){Z(e),ee(!0),await Ue({column:"sendFarewellWaitingTicket",data:e}),ee(!1)}(e.target.value)}},l.a.createElement(F.a,{value:"disabled"},Qe.a.t("settings.settings.options.disabled")),l.a.createElement(F.a,{value:"enabled"},Qe.a.t("settings.settings.options.enabled"))),l.a.createElement(rd.a,null,$&&Qe.a.t("settings.settings.options.updating")))),l.a.createElement(it.a,{xs:12,sm:6,md:4,item:!0},l.a.createElement(xt.a,{className:s.selectContainer},l.a.createElement(Ct.a,{id:"acceptAudioMessageContact-label"},Qe.a.t("settings.settings.options.acceptAudioMessageContact")),l.a.createElement(At.a,{labelId:"acceptAudioMessageContact-label",value:ae,onChange:async e=>{!async function(e){te(e),le(!0),await Ue({column:"acceptAudioMessageContact",data:e}),le(!1)}(e.target.value)}},l.a.createElement(F.a,{value:"disabled"},Qe.a.t("settings.settings.options.disabled")),l.a.createElement(F.a,{value:"enabled"},Qe.a.t("settings.settings.options.enabled"))),l.a.createElement(rd.a,null,ne&&Qe.a.t("settings.settings.options.updating")))),l.a.createElement(it.a,{xs:12,sm:6,md:4,item:!0},l.a.createElement(xt.a,{className:s.selectContainer},l.a.createElement(Ct.a,{id:"enableLGPD-label"}," ",Qe.a.t("settings.settings.options.enableLGPD")),l.a.createElement(At.a,{labelId:"enableLGPD-label",value:oe,onChange:async e=>{!async function(e){re(e),ie(!0),await Ue({column:"enableLGPD",data:e}),ie(!1)}(e.target.value)}},l.a.createElement(F.a,{value:"disabled"},Qe.a.t("settings.settings.options.disabled")),l.a.createElement(F.a,{value:"enabled"},Qe.a.t("settings.settings.options.enabled"))),l.a.createElement(rd.a,null,se&&Qe.a.t("settings.settings.options.updating")))),l.a.createElement(it.a,{xs:12,sm:6,md:4,item:!0},l.a.createElement(xt.a,{className:s.selectContainer},l.a.createElement(Ct.a,{id:"requiredTag-label"}," ",Qe.a.t("settings.settings.options.requiredTag")),l.a.createElement(At.a,{labelId:"requiredTag-label",value:Me,onChange:async e=>{!async function(e){Ie(e),Ne(!0),await Ue({column:"requiredTag",data:e}),Ne(!1)}(e.target.value)}},l.a.createElement(F.a,{value:"disabled"},Qe.a.t("settings.settings.options.disabled")),l.a.createElement(F.a,{value:"enabled"},Qe.a.t("settings.settings.options.enabled"))),l.a.createElement(rd.a,null,je&&Qe.a.t("settings.settings.options.updating")))),l.a.createElement(it.a,{xs:12,sm:6,md:4,item:!0},l.a.createElement(xt.a,{className:s.selectContainer},l.a.createElement(Ct.a,{id:"closeTicketOnTransfer-label"}," ",Qe.a.t("settings.settings.options.closeTicketOnTransfer")),l.a.createElement(At.a,{labelId:"closeTicketOnTransfer-label",value:Re,onChange:async e=>{!async function(e){Pe(e),Fe(!0),await Ue({column:"closeTicketOnTransfer",data:e}),Fe(!1)}(e.target.value)}},l.a.createElement(F.a,{value:!1},Qe.a.t("settings.settings.options.disabled")),l.a.createElement(F.a,{value:!0},Qe.a.t("settings.settings.options.enabled"))),l.a.createElement(rd.a,null,De&&Qe.a.t("settings.settings.options.updating"))))),l.a.createElement("br",null),"enabled"===oe&&l.a.createElement(l.a.Fragment,null,l.a.createElement(it.a,{spacing:3,container:!0,style:{marginBottom:10}},l.a.createElement(wt.a,{value:0,indicatorColor:"primary",textColor:"primary",scrollButtons:"on",variant:"scrollable",className:s.tab},l.a.createElement(Mt.a,{label:Qe.a.t("settings.settings.LGPD.title")}))),l.a.createElement(it.a,{spacing:3,container:!0},l.a.createElement(it.a,{xs:12,sm:6,md:12,item:!0},l.a.createElement(xt.a,{className:s.selectContainer},l.a.createElement(Et.a,{id:"lgpdMessage",name:"lgpdMessage",margin:"dense",multiline:!0,rows:3,label:Qe.a.t("settings.settings.LGPD.welcome"),variant:"outlined",value:ce,onChange:async e=>{!async function(e){de(e),ue(!0),await Ue({column:"lgpdMessage",data:e}),ue(!1)}(e.target.value)}}),l.a.createElement(rd.a,null,me&&Qe.a.t("settings.settings.options.updating")))),l.a.createElement(it.a,{xs:12,sm:6,md:12,item:!0},l.a.createElement(xt.a,{className:s.selectContainer},l.a.createElement(Et.a,{id:"lgpdLink",name:"lgpdLink",margin:"dense",label:Qe.a.t("settings.settings.LGPD.linkLGPD"),variant:"outlined",value:pe,onChange:async e=>{!async function(e){ge(e),be(!0),await Ue({column:"lgpdLink",data:e}),be(!1)}(e.target.value)}}),l.a.createElement(rd.a,null,Ee&&Qe.a.t("settings.settings.options.updating")))),l.a.createElement(it.a,{xs:12,sm:6,md:4,item:!0},l.a.createElement(xt.a,{className:s.selectContainer},l.a.createElement(Ct.a,{id:"lgpdDeleteMessage-label"},Qe.a.t("settings.settings.LGPD.obfuscateMessageDelete")),l.a.createElement(At.a,{labelId:"lgpdDeleteMessage-label",value:fe,onChange:async e=>{!async function(e){he(e),ye(!0),await Ue({column:"lgpdDeleteMessage",data:e}),ye(!1)}(e.target.value)}},l.a.createElement(F.a,{value:"disabled"},Qe.a.t("settings.settings.LGPD.disabled")),l.a.createElement(F.a,{value:"enabled"},Qe.a.t("settings.settings.LGPD.enabled"))),l.a.createElement(rd.a,null,ve&&Qe.a.t("settings.settings.options.updating")))),l.a.createElement(it.a,{xs:12,sm:6,md:4,item:!0},l.a.createElement(xt.a,{className:s.selectContainer},l.a.createElement(Ct.a,{id:"lgpdConsent-label"},Qe.a.t("settings.settings.LGPD.alwaysConsent")),l.a.createElement(At.a,{labelId:"lgpdConsent-label",value:Ae,onChange:async e=>{!async function(e){Ce(e),Te(!0),await Ue({column:"lgpdConsent",data:e}),Te(!1)}(e.target.value)}},l.a.createElement(F.a,{value:"disabled"},Qe.a.t("settings.settings.LGPD.disabled")),l.a.createElement(F.a,{value:"enabled"},Qe.a.t("settings.settings.LGPD.enabled"))),l.a.createElement(rd.a,null,xe&&Qe.a.t("settings.settings.options.updating")))),l.a.createElement(it.a,{xs:12,sm:6,md:4,item:!0},l.a.createElement(xt.a,{className:s.selectContainer},l.a.createElement(Ct.a,{id:"lgpdHideNumber-label"},Qe.a.t("settings.settings.LGPD.obfuscatePhoneUser")),l.a.createElement(At.a,{labelId:"lgpdHideNumber-label",value:Oe,onChange:async e=>{!async function(e){ke(e),we(!0),await Ue({column:"lgpdHideNumber",data:e}),we(!1)}(e.target.value)}},l.a.createElement(F.a,{value:"disabled"},Qe.a.t("settings.settings.LGPD.disabled")),l.a.createElement(F.a,{value:"enabled"},Qe.a.t("settings.settings.LGPD.enabled"))),l.a.createElement(rd.a,null,Se&&Qe.a.t("settings.settings.options.updating")))))))}const cd=e=>{let{user:a,yes:t,no:n}=e;return a.super?t():n()};cd.defaultProps={user:{},yes:()=>null,no:()=>null};var dd=cd;const md=Object(x.a)(e=>({root:{flex:1,backgroundColor:e.palette.background.paper},mainPaper:{...e.scrollbarStyles,overflowY:"scroll",flex:1},tab:{backgroundColor:"light"===e.mode?"#f2f2f2":"#7f7f7f",borderRadius:4},paper:{...e.scrollbarStyles,overflowY:"scroll",padding:e.spacing(2),display:"flex",alignItems:"center",width:"100%"},container:{width:"100%",maxHeight:"100%"},control:{padding:e.spacing(1)},textfield:{width:"100%"}}));var ud=()=>{const e=md(),[a,t]=Object(n.useState)("options"),[o,r]=Object(n.useState)([]),[i,c]=Object(n.useState)({}),[d,m]=Object(n.useState)(!1),[u,p]=Object(n.useState)({}),[g,E]=Object(n.useState)({}),[b,f]=Object(n.useState)({}),[h,v]=Object(n.useState)(!1),{find:y,updateSchedules:A}=zc(),{getAll:C}=To(),{getAll:x}=on(),{user:T}=Object(n.useContext)(la);Object(n.useEffect)(()=>{!async function(){m(!0);try{const e=T.companyId,a=await y(e),t=await C(e),n=await x();c(a),r(a.schedules),E(t),f(n),v("company"===t.scheduleType),p(T)}catch(e){s.b.error(e)}m(!1)}()},[]);const O=()=>u.super;return l.a.createElement(bc,{className:e.root},l.a.createElement(hc,null,l.a.createElement(Ac,null,Qe.a.t("settings.title"))),l.a.createElement(St.a,{className:e.mainPaper,elevation:1},l.a.createElement(wt.a,{value:a,indicatorColor:"primary",textColor:"primary",scrollButtons:"on",variant:"scrollable",onChange:(e,a)=>{t(a)},className:e.tab},l.a.createElement(Mt.a,{label:Qe.a.t("settings.tabs.options"),value:"options"}),h&&l.a.createElement(Mt.a,{label:"Hor\xe1rios",value:"schedules"}),O()?l.a.createElement(Mt.a,{label:"Empresas",value:"companies"}):null,O()?l.a.createElement(Mt.a,{label:Qe.a.t("settings.tabs.plans"),value:"plans"}):null,O()?l.a.createElement(Mt.a,{label:Qe.a.t("settings.tabs.helps"),value:"helps"}):null),l.a.createElement(St.a,{className:e.paper,elevation:0},l.a.createElement(Rt,{className:e.container,value:a,name:"schedules"},l.a.createElement(wc,{loading:d,onSubmit:async e=>{m(!0);try{r(e),await A({id:i.id,schedules:e}),s.b.success("Hor\xe1rios atualizados com sucesso.")}catch(a){s.b.error(a)}m(!1)},initialValues:o})),l.a.createElement(dd,{user:u,yes:()=>l.a.createElement(Rt,{className:e.container,value:a,name:"companies"},l.a.createElement(Xc,null))}),l.a.createElement(dd,{user:u,yes:()=>l.a.createElement(Rt,{className:e.container,value:a,name:"plans"},l.a.createElement(ed,null))}),l.a.createElement(dd,{user:u,yes:()=>l.a.createElement(Rt,{className:e.container,value:a,name:"helps"},l.a.createElement(od,null))}),l.a.createElement(Rt,{className:e.container,value:a,name:"options"},l.a.createElement(id,{settings:g,oldSettings:b,user:u,scheduleTypeChanged:e=>v("company"===e)})))))},pd=t(88),gd=t.n(pd),Ed=t(73),bd=t.n(Ed),fd=t(1793);const hd=Nt(),vd=(e,a)=>{if("LOAD_USERS"===a.type){const t=a.payload,n=[];return t.forEach(a=>{const t=e.findIndex(e=>e.id===a.id);-1!==t?e[t]=a:n.push(a)}),[...e,...n]}if("UPDATE_USERS"===a.type){const t=a.payload,n=e.findIndex(e=>e.id===t.id);return-1!==n?(e[n]=t,[...e]):[t,...e]}if("DELETE_USER"===a.type){const t=a.payload,n=e.findIndex(e=>e.id===t);return-1!==n&&e.splice(n,1),[...e]}if("RESET"===a.type)return[]},yd=Object(x.a)(e=>({mainPaper:{flex:1,padding:e.spacing(1),overflowY:"scroll",...e.scrollbarStyles}}));var Ad=()=>{const e=yd(),[a,t]=Object(n.useState)(!1),[o,r]=Object(n.useState)(1),[i,c]=Object(n.useState)(!1),[d,m]=Object(n.useState)(null),[u,p]=Object(n.useState)(null),[g,E]=Object(n.useState)(!1),[b,f]=Object(n.useState)(!1),[h,v]=Object(n.useState)(""),[y,A]=Object(n.useReducer)(vd,[]),{user:C}=Object(n.useContext)(la),{profileImage:x}=C;Object(n.useEffect)(()=>{A({type:"RESET"}),r(1)},[h]),Object(n.useEffect)(()=>{t(!0);const e=setTimeout(()=>{(async()=>{try{const{data:e}=await Ze.get("/users/",{params:{searchParam:h,pageNumber:o}});A({type:"LOAD_USERS",payload:e.users}),c(e.hasMore),t(!1)}catch(e){Ke(e)}})()},500);return()=>clearTimeout(e)},[h,o]),Object(n.useEffect)(()=>{const e=C.companyId,a=aa({companyId:e,userId:C.id});return a.on("company-".concat(e,"-user"),e=>{"update"!==e.action&&"create"!==e.action||A({type:"UPDATE_USERS",payload:e.user}),"delete"===e.action&&A({type:"DELETE_USER",payload:+e.userId})}),()=>{a.disconnect()}},[]);return l.a.createElement(bc,null,l.a.createElement(wr,{title:u&&"".concat(Qe.a.t("users.confirmationModal.deleteTitle")," ").concat(u.name,"?"),open:b,onClose:f,onConfirm:()=>(async e=>{try{await Ze.delete("/users/".concat(e)),s.b.success(Qe.a.t("users.toasts.deleted"))}catch(a){Ke(a)}p(null),v(""),r(1)})(u.id)},Qe.a.t("users.confirmationModal.deleteMessage")),l.a.createElement(qt,{open:g,onClose:()=>{m(null),E(!1)},"aria-labelledby":"form-dialog-title",userId:d&&d.id}),l.a.createElement(hc,null,l.a.createElement(Ac,null,Qe.a.t("users.title")," (",y.length,")"),l.a.createElement(yc,null,l.a.createElement(Et.a,{placeholder:Qe.a.t("contacts.searchPlaceholder"),type:"search",value:h,onChange:e=>{v(e.target.value.toLowerCase())},InputProps:{startAdornment:l.a.createElement(Yi.a,{position:"start"},l.a.createElement(gd.a,{style:{color:"gray"}}))}}),l.a.createElement(gt.a,{variant:"contained",color:"primary",onClick:()=>{m(null),E(!0)}},Qe.a.t("users.buttons.add")))),l.a.createElement(St.a,{className:e.mainPaper,variant:"outlined",onScroll:e=>{if(!i||a)return;const{scrollTop:t,scrollHeight:n,clientHeight:l}=e.currentTarget;n-(t+100)<l&&r(e=>e+1)}},l.a.createElement(Rn.a,{size:"small"},l.a.createElement(Ln.a,null,l.a.createElement(qn.a,null,l.a.createElement(Dn.a,{align:"center"},Qe.a.t("users.table.ID")),l.a.createElement(Dn.a,{align:"center"},Qe.a.t("users.table.status")),l.a.createElement(Dn.a,{align:"center"},"Avatar"),l.a.createElement(Dn.a,{align:"center"},Qe.a.t("users.table.name")),l.a.createElement(Dn.a,{align:"center"},Qe.a.t("users.table.email")),l.a.createElement(Dn.a,{align:"center"},Qe.a.t("users.table.profile")),l.a.createElement(Dn.a,{align:"center"},Qe.a.t("users.table.startWork")),l.a.createElement(Dn.a,{align:"center"},Qe.a.t("users.table.endWork")),l.a.createElement(Dn.a,{align:"center"},Qe.a.t("users.table.actions")))),l.a.createElement(Pn.a,null,l.a.createElement(l.a.Fragment,null,y.map(a=>l.a.createElement(qn.a,{key:a.id},l.a.createElement(Dn.a,{align:"center"},a.id),l.a.createElement(Dn.a,{align:"center"},l.a.createElement(Mo,{user:a})),l.a.createElement(Dn.a,{align:"center"},l.a.createElement("div",{className:e.avatarDiv},(a=>a.id===C.id?l.a.createElement(k.a,{src:"".concat(hd,"/public/company").concat(a.companyId,"/user/").concat(x||Q.a),alt:a.name,className:e.userAvatar}):a.id!==C.id?l.a.createElement(k.a,{src:a.profileImage?"".concat(hd,"/public/company").concat(a.companyId,"/user/").concat(a.profileImage):Q.a,alt:a.name,className:e.userAvatar}):l.a.createElement(fd.a,null))(a))),l.a.createElement(Dn.a,{align:"center"},a.name),l.a.createElement(Dn.a,{align:"center"},a.email),l.a.createElement(Dn.a,{align:"center"},a.profile),l.a.createElement(Dn.a,{align:"center"},a.startWork),l.a.createElement(Dn.a,{align:"center"},a.endWork),l.a.createElement(Dn.a,{align:"center"},l.a.createElement(M.a,{size:"small",onClick:()=>(e=>{m(e),E(!0)})(a)},l.a.createElement(bd.a,null)),l.a.createElement(M.a,{size:"small",onClick:e=>{f(!0),p(a)}},l.a.createElement(Yl.a,null))))),a&&l.a.createElement(xc,{columns:7}))))))},Cd=t(1045),xd=t.n(Cd),Td=t(562),Od=t.n(Td),kd=t(1794),Sd=t(1795),wd=t(1796),Md=t(1813),Id=t(181),jd=t.n(Id),Nd=t(316);const Rd=Object(x.a)(e=>({multFieldLine:{display:"flex","& > *:not(:last-child)":{marginRight:e.spacing(1)},marginTop:8},uploadInput:{display:"none"},btns:{margin:15},label:{padding:18,width:"100%",textTransform:"uppercase",display:"block",marginTop:10,border:"solid 2px grey",textAlign:"center",cursor:"pointer",borderRadius:8}}));var Pd=e=>{let{isOpen:a,handleClose:t,selectedTags:o,hideNum:r,userProfile:s}=e;const i=Rd(),{user:c}=Object(n.useContext)(la),d={name:"",number:"",error:""},[m,u]=Object(n.useState)([]),[p,g]=Object(n.useState)(""),[E,b]=Object(n.useState)(d),f=()=>{u([]),g(""),b(d),t()};Object(n.useEffect)(()=>{(null===m||void 0===m?void 0:m.length)&&m.map(async(e,a)=>{setTimeout(async()=>{try{a>=(null===m||void 0===m?void 0:m.length)-1&&(g("importa\xe7\xe3o conclu\xedda com exito a importa\xe7\xe3o"),u([]),b(d),setTimeout(()=>{f()},15e3)),a%5===0&&g("importa\xe7\xe3o em andamento ".concat(a," de ").concat(null===m||void 0===m?void 0:m.length," n\xe3o saia desta tela at\xe9 concluir a importa\xe7\xe3o")),await Ze.post("/contactsImport",{name:e.name,number:e.number.toString(),email:e.email}),b({name:e.name,number:e.number,error:"success"})}catch(t){b({name:e.name,number:e.number,error:t})}},330*a)})},[m]);const h=async function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];const a=[];let t=1;if(e)a.push({name:"Jo\xe3o",number:"5599999999999",email:""});else for(;0!==t;){const{data:e}=await Ze.get("/contacts/",{params:{searchParam:"",pageNumber:t,contactTag:JSON.stringify(o)}});e.contacts.forEach(e=>{const t=e.tags.map(e=>e.name).join(", "),n={...e,tags:t};a.push(n)});t++,t>(null===e||void 0===e?void 0:e.count)/20&&(t=0)}const n=a.map(e=>({name:e.name,number:r&&"user"===s?e.isGroup?e.number:e.number.slice(0,-6)+"**-**"+e.number.slice(-2):e.number,email:e.email,tags:e.tags}));let l=Nd.b.book_new(),i=Nd.b.json_to_sheet(n);Nd.b.book_append_sheet(l,i,"Contatos"),Nd.c(l,"backup_contatos.xlsx")};return l.a.createElement(lo.a,{fullWidth:!0,open:a,onClose:f},l.a.createElement(oo.a,null,Qe.a.t("Exportar / Importar contatos")),l.a.createElement("div",null,l.a.createElement(Md.a,{style:{padding:"0px 10px 10px"}},l.a.createElement(ma,{role:c.profile,perform:"contacts-page:deleteContact",yes:()=>l.a.createElement("div",{className:i.multFieldLine},l.a.createElement(tl.a,{fullWidth:!0,size:"small",color:"primary",variant:"contained",onClick:()=>h(!1)},Qe.a.t("contactImportWpModal.title")))}),l.a.createElement("div",{className:i.multFieldLine},l.a.createElement(tl.a,{fullWidth:!0,size:"small",color:"primary",variant:"contained",onClick:()=>h(!0)},Qe.a.t("contactImportWpModal.buttons.downloadModel"))),l.a.createElement("div",{className:i.multFieldLine},l.a.createElement("div",{style:{minWidth:"100%"}},(null===m||void 0===m?void 0:m.length)?l.a.createElement(l.a.Fragment,null,l.a.createElement("div",{className:i.label},l.a.createElement("h4",null,p),(null===E||void 0===E?void 0:E.name)?l.a.createElement(tl.a,{fullWidth:!0,disabled:!0,size:"small",color:"success"===(null===E||void 0===E?void 0:E.error)?"primary":"error",variant:"text"},"".concat(null===E||void 0===E?void 0:E.name," => ").concat(null===E||void 0===E?void 0:E.number," ")):l.a.createElement(l.a.Fragment,null))):l.a.createElement(l.a.Fragment,null,l.a.createElement("label",{className:i.label,for:"contacts"}," ",l.a.createElement(jd.a,null)," ",l.a.createElement("div",null," ",Qe.a.t("contactImportWpModal.buttons.import"))," "),l.a.createElement("input",{className:i.uploadInput,name:"contacts",id:"contacts",type:"file",accept:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet",onChange:e=>{const[a]=e.target.files,t=new FileReader;t.onload=e=>{const a=e.target.result,t=Nd.a(a,{type:"binary"}),n=t.SheetNames[0],l=t.Sheets[n],o=Nd.b.sheet_to_json(l);u(o)},t.readAsBinaryString(a)}})))))),l.a.createElement(io.a,null,l.a.createElement(tl.a,{onClick:t,color:"primary"},Qe.a.t("contactImportWpModal.buttons.closed"))))};const Dd=(e,a)=>{if("LOAD_CONTACTS"===a.type){const t=a.payload,n=[];return t.forEach(a=>{const t=e.findIndex(e=>e.id===a.id);-1!==t?e[t]=a:n.push(a)}),[...e,...n]}if("UPDATE_CONTACTS"===a.type){const t=a.payload,n=e.findIndex(e=>e.id===t.id);return-1!==n?(e[n]=t,[...e]):[t,...e]}if("DELETE_CONTACT"===a.type){const t=a.payload,n=e.findIndex(e=>e.id===t);return-1!==n&&e.splice(n,1),[...e]}if("RESET"===a.type)return[]},Fd=Object(x.a)(e=>({mainPaper:{flex:1,padding:e.spacing(1),overflowY:"scroll",...e.scrollbarStyles}}));var Ld=()=>{const e=Fd(),a=Object(f.useHistory)(),{user:t}=Object(n.useContext)(la),[o,r]=Object(n.useState)(!1),[i,c]=Object(n.useState)(1),[d,m]=Object(n.useState)(""),[u,p]=Object(n.useReducer)(Dd,[]),[g,E]=Object(n.useState)(null),[b,h]=Object(n.useState)(!1),[v,y]=Object(n.useState)(!1),[A,C]=Object(n.useState)(null),[x,T]=Object(n.useState)(null),[O,S]=Object(n.useState)(null),[w,I]=Object(n.useState)(null),[j,N]=Object(n.useState)(!1),[R,P]=Object(n.useState)(!1),[L,q]=Object(n.useState)(!1),[W,B]=Object(n.useState)(!1),[z,H]=Object(n.useState)(!1),[U,Q]=Object(n.useState)({}),G=Object(n.useRef)(null),[V,K]=Object(n.useState)([]),{setCurrentTicket:_}=Object(n.useContext)(Ka),{get:Y}=To(),[X,J]=Object(n.useState)(!1);Object(n.useEffect)(()=>{!async function(){"enabled"===(await Y({column:"lgpdHideNumber"})).lgpdHideNumber&&J(!0)}()},[]);Object(n.useEffect)(()=>{p({type:"RESET"}),c(1)},[d,V]),Object(n.useEffect)(()=>{r(!0);const e=setTimeout(()=>{(async()=>{try{const{data:e}=await Ze.get("/contacts/",{params:{searchParam:d,pageNumber:i,contactTag:JSON.stringify(V)}});p({type:"LOAD_CONTACTS",payload:e.contacts}),B(e.hasMore),r(!1)}catch(e){Ke(e)}})()},500);return()=>clearTimeout(e)},[d,i,V]),Object(n.useEffect)(()=>{const e=t.companyId,a=aa({companyId:e,userId:t.id});return a.on("company-".concat(e,"-contact"),e=>{"update"!==e.action&&"create"!==e.action||p({type:"UPDATE_CONTACTS",payload:e.contact}),"delete"===e.action&&p({type:"DELETE_CONTACT",payload:+e.contactId})}),()=>{a.disconnect()}},[]);const Z=e=>{H(!1),void 0!==e&&void 0!==e.uuid&&((e=>{const a=Object(ka.a)(),{id:t,uuid:n}=e;_({id:t,uuid:n,code:a})})(e),a.push("/tickets/".concat(e.uuid)))};return l.a.createElement(bc,{className:e.mainContainer},l.a.createElement(po,{modalOpen:z,initialContact:U,onClose:e=>{Z(e)}}),l.a.createElement(eo,{open:b,onClose:()=>{E(null),h(!1)},"aria-labelledby":"form-dialog-title",contactId:g}),l.a.createElement(wr,{title:A?"".concat(Qe.a.t("contacts.confirmationModal.deleteTitle")," ").concat(A.name,"?"):O?"Bloquear Contato ".concat(O.name,"?"):w?"Desbloquear Contato ".concat(w.name,"?"):"".concat(x?Qe.a.t("contacts.confirmationModal.importTitlte"):Qe.a.t("contactListItems.confirmationModal.importTitlte")),open:j,onClose:N,onConfirm:e=>A?(async e=>{try{await Ze.delete("/contacts/".concat(e)),s.b.success(Qe.a.t("contacts.toasts.deleted"))}catch(a){Ke(a)}C(null),m(""),c(1)})(A.id):O?(async e=>{try{await Ze.put("/contacts/block/".concat(e),{active:!1}),s.b.success("Contato bloqueado")}catch(a){Ke(a)}C(null),m(""),c(1),S(null)})(O.id):w?(async e=>{try{await Ze.put("/contacts/block/".concat(e),{active:!0}),s.b.success("Contato desbloqueado")}catch(a){Ke(a)}C(null),m(""),c(1),I(null)})(w.id):x?(async()=>{try{await Ze.post("/contacts/import"),a.go(0),T(!1)}catch(e){Ke(e),T(!1)}})():(async()=>{try{const e=new FormData;e.append("file",G.current.files[0]),await Ze.request({url:"/contacts/upload",method:"POST",data:e}),a.go(0)}catch(e){Ke(e)}})()},"".concat(R?Qe.a.t("contacts.confirmationModal.exportContact"):A?Qe.a.t("contacts.confirmationModal.deleteMessage"):O?Qe.a.t("contacts.confirmationModal.blockContact"):w?Qe.a.t("contacts.confirmationModal.unblockContact"):x?Qe.a.t("contacts.confirmationModal.importMessage"):Qe.a.t("contactListItems.confirmationModal.importMessage"))),l.a.createElement(wr,{title:Qe.a.t("contacts.confirmationModal.importChat"),open:L,onClose:q,onConfirm:e=>(async()=>{try{await Ze.post("/contacts/import/chats"),a.go(0)}catch(e){Ke(e)}})()},Qe.a.t("contacts.confirmationModal.wantImport")),l.a.createElement(hc,null,l.a.createElement(Ac,null,Qe.a.t("contacts.title")," (",u.length,")"),l.a.createElement(yc,null,l.a.createElement($o,{onFiltered:e=>{const a=e.map(e=>e.id);K(a)}}),l.a.createElement(Et.a,{placeholder:Qe.a.t("contacts.searchPlaceholder"),type:"search",value:d,onChange:e=>{m(e.target.value.toLowerCase())},InputProps:{startAdornment:l.a.createElement(Yi.a,{position:"start"},l.a.createElement(gd.a,{color:"secondary"}))}}),l.a.createElement(lc.a,{variant:"popover",popupId:"demo-popup-menu"},e=>l.a.createElement(l.a.Fragment,null,l.a.createElement(gt.a,Object.assign({variant:"contained",color:"primary"},Object(nc.bindTrigger)(e)),"Importar / Exportar",l.a.createElement(kd.a,null)),l.a.createElement(D.a,Object(nc.bindMenu)(e),l.a.createElement(F.a,{onClick:()=>{N(!0),T(!0),e.close()}},l.a.createElement(Sd.a,{fontSize:"small",color:"primary",style:{marginRight:10}}),Qe.a.t("contacts.menu.importYourPhone")),l.a.createElement(F.a,{onClick:()=>{y(!0)}},l.a.createElement(wd.a,{fontSize:"small",color:"primary",style:{marginRight:10}}),Qe.a.t("contacts.menu.importToExcel"))))),l.a.createElement(gt.a,{variant:"contained",color:"primary",onClick:()=>{E(null),h(!0)}},Qe.a.t("contacts.buttons.add")))),v&&l.a.createElement(Pd,{isOpen:v,handleClose:()=>y(!1),selectedTags:V,hideNum:X,userProfile:t.profile}),l.a.createElement(St.a,{className:e.mainPaper,variant:"outlined",onScroll:e=>{if(!W||o)return;const{scrollTop:a,scrollHeight:t,clientHeight:n}=e.currentTarget;t-(a+100)<n&&c(e=>e+1)}},l.a.createElement(l.a.Fragment,null,l.a.createElement("input",{style:{display:"none"},id:"upload",name:"file",type:"file",accept:".xls,.xlsx",onChange:()=>{N(!0)},ref:G})),l.a.createElement(Rn.a,{size:"small"},l.a.createElement(Ln.a,null,l.a.createElement(qn.a,null,l.a.createElement(Dn.a,{padding:"checkbox"}),l.a.createElement(Dn.a,null,Qe.a.t("contacts.table.name")),l.a.createElement(Dn.a,{align:"center"},Qe.a.t("contacts.table.whatsapp")),l.a.createElement(Dn.a,{align:"center"},Qe.a.t("contacts.table.email")),l.a.createElement(Dn.a,{align:"center"},Qe.a.t("contacts.table.lastMessage")),l.a.createElement(Dn.a,{align:"center"},Qe.a.t("contacts.table.whatsapp")),l.a.createElement(Dn.a,{align:"center"},"Status"),l.a.createElement(Dn.a,{align:"center"},Qe.a.t("contacts.table.actions")))),l.a.createElement(Pn.a,null,l.a.createElement(l.a.Fragment,null,u.map(e=>{var a;return l.a.createElement(qn.a,{key:e.id},l.a.createElement(Dn.a,{style:{paddingRight:0}},l.a.createElement(k.a,{src:"".concat(null===e||void 0===e?void 0:e.urlPicture)})),l.a.createElement(Dn.a,null,e.name),l.a.createElement(Dn.a,{align:"center"},X&&"user"===t.profile?e.isGroup?e.number:null===gr(null===e||void 0===e?void 0:e.number)?e.number.slice(0,-6)+"**-**"+(null===e||void 0===e?void 0:e.number.slice(-2)):gr(null===e||void 0===e?void 0:e.number).slice(0,-6)+"**-**"+(null===e||void 0===e?void 0:e.number.slice(-2)):e.isGroup?e.number:gr(null===e||void 0===e?void 0:e.number)),l.a.createElement(Dn.a,{align:"center"},e.email),l.a.createElement(Dn.a,{align:"center"},function(e){if(!e)return null;if(!e.tickets)return null;if(e.tickets.length>0){const a=new Date(e.tickets[e.tickets.length-1].updatedAt),t=a.getDate()>9?a.getDate():"0".concat(a.getDate()),n=a.getMonth()+1>9?a.getMonth()+1:"0".concat(a.getMonth()+1),l=a.getFullYear(),o=a.getHours()>9?a.getHours():"0".concat(a.getHours()),r=a.getMinutes()>9?a.getMinutes():"0".concat(a.getMinutes());return"".concat(t,"/").concat(n,"/").concat(l," ").concat(o,":").concat(r)}return null}(e)),l.a.createElement(Dn.a,null,null===e||void 0===e||null===(a=e.whatsapp)||void 0===a?void 0:a.name),l.a.createElement(Dn.a,{align:"center"},e.active?l.a.createElement(Na.a,{style:{color:"green"},fontSize:"small"}):l.a.createElement(xd.a,{style:{color:"red"},fontSize:"small"})),l.a.createElement(Dn.a,{align:"center"},l.a.createElement(M.a,{size:"small",onClick:()=>{Q(e),H(!0)}},"whatsapp"===e.channel&&l.a.createElement(no.a,{style:{color:"green"}}),"instagram"===e.channel&&l.a.createElement(to.a,{style:{color:"purple"}}),"facebook"===e.channel&&l.a.createElement(ao.a,{style:{color:"blue"}})),l.a.createElement(M.a,{size:"small",onClick:()=>{return a=e.id,E(a),void h(!0);var a}},l.a.createElement(bd.a,{color:"secondary"})),l.a.createElement(M.a,{size:"small",onClick:e.active?()=>{N(!0),S(e)}:()=>{N(!0),I(e)}},e.active?l.a.createElement(Od.a,{color:"secondary"}):l.a.createElement(Na.a,{color:"secondary"})),l.a.createElement(ma,{role:t.profile,perform:"contacts-page:deleteContact",yes:()=>l.a.createElement(M.a,{size:"small",onClick:a=>{N(!0),C(e)}},l.a.createElement(Yl.a,{color:"secondary"}))})))}),o&&l.a.createElement(xc,{avatar:!0,columns:6}))))))},qd=t(1798),Wd=t(1797);const Bd=Nt(),zd=Object(x.a)(e=>({main:{display:"flex",justifyContent:"space-between"},container:{display:"flex",flexWrap:"wrap",overflowY:"scroll",...e.scrollbarStyles},cardHeader:{width:"380px",height:"78px",padding:10,backgroundColor:"#DCDCDC"},cardHeaderPending:{width:"380px",height:"78px",padding:10,backgroundColor:"#C0C0C0"},card:{height:"300px",width:"380px",margin:"3px",borderRadius:5,flex:1,maxHeight:"100%",overflowY:"scroll",...e.scrollbarStyles,borderTop:"2px solid rgba(0, 0, 0, 0.12)"},changeWarap:{width:"380px",padding:0,margin:0},pending:{color:Wd.a[600],fontSize:"20px"},connectionTag:{background:"green",color:"#FFF",marginRight:1,padding:1,fontWeight:"bold",borderRadius:3,fontSize:"0.6em"},lastMessageTime:{justifySelf:"flex-end",textAlign:"right",position:"relative",marginRight:"1px",color:jn.a[400]},lastMessageTimeUnread:{justifySelf:"flex-end",textAlign:"right",position:"relative",color:"green",fontWeight:"bold",marginRight:"1px"},pending:{color:Wd.a[600],fontSize:"20px"}}));var Hd=()=>{const e=zd(),{user:a}=(Object(f.useHistory)(),Object(n.useContext)(la)),[t,o]=Object(n.useState)([]),[r,i]=Object(n.useState)(!0),[c,d]=Object(n.useState)(null),m=a.companyId,u=a.queues.map(e=>e.id),[p,g]=Object(n.useState)(u||[]);Object(n.useEffect)(()=>{d(0)},[]),Object(n.useEffect)(()=>{(async()=>{try{const{data:e}=await Ze.get("/usersMoments");o(e),d(null)}catch(a){var e;500!==(null===(e=a.response)||void 0===e?void 0:e.status)?Ke(a):s.b.error("".concat(Qe.a.t("frontEndErrors.getUsers")))}})()},[a,c]),Object(n.useEffect)(()=>{const e=aa({companyId:m,userId:a.id});return e.on("connect",()=>e.emit("joinNotification")),e.on("company-".concat(m,"-appMessage"),e=>{"create"===e.action&&d(e.ticket.id),"update"===e.action&&d(e.ticket.id),"delete"===e.action&&d(e.ticketId)}),()=>{e.disconnect()}},[a]);const E=Object(n.useMemo)(()=>{if(t&&t.length>0){return t.reduce((e,a)=>{const t=a.user;if(t){const n=e.findIndex(e=>e.user.id===t.id);-1===n?e.push({user:t,userTickets:[a]}):e[n].userTickets.push(a)}return e},[]).map((a,t)=>{var o,r;return l.a.createElement(it.a,{item:!0,key:t},l.a.createElement("div",{padding:20,className:e.main,key:t},l.a.createElement("div",{className:e.changeWarap},l.a.createElement(St.a,{elevation:3,className:e.cardHeader},l.a.createElement(vr.a,{style:{maxWidth:"380px",width:"100%"},avatar:l.a.createElement(k.a,{alt:"".concat(a.user.profileImage),src:a.user.profileImage?"".concat(Bd,"/public/company").concat(m,"/user/").concat(a.user.profileImage):null}),title:l.a.createElement("span",null,(null===a||void 0===a||null===(o=a.user)||void 0===o?void 0:o.name)||"Pendentes"," ",l.a.createElement("br",null),"Atendimentos: ".concat(null===(r=a.userTickets)||void 0===r?void 0:r.length))})),l.a.createElement(St.a,{square:!0,elevation:1,className:e.card},a.userTickets.map(a=>{var t,o,r,s,i,c,d,m;return l.a.createElement(I.a,{style:{paddingTop:0},key:a.id},l.a.createElement(G.a,{dense:!0,button:!0},l.a.createElement(wa.a,null,l.a.createElement(k.a,{alt:"".concat(a.contact.urlPicture),src:"".concat(a.contact.urlPicture)})),l.a.createElement(K.a,{disableTypography:!0,primary:(null===a||void 0===a||null===(t=a.contact)||void 0===t||null===(o=t.name)||void 0===o?void 0:o.length)>30?(null===a||void 0===a||null===(r=a.contact)||void 0===r?void 0:r.name.substring(0,25))+"...":null===a||void 0===a||null===(s=a.contact)||void 0===s?void 0:s.name,secondary:l.a.createElement(n.Fragment,null,l.a.createElement("div",null,l.a.createElement(P.a,{style:{display:"inline"},component:"span",variant:"body2"},"".concat((null===(i=a.lastMessage)||void 0===i?void 0:i.length)>30?String(a.lastMessage).substring(0,27)+"...":a.lastMessage))),l.a.createElement(O.a,{className:e.connectionTag},null===a||void 0===a||null===(c=a.whatsapp)||void 0===c?void 0:c.name),l.a.createElement(O.a,{style:{backgroundColor:(null===(d=a.queue)||void 0===d?void 0:d.color)||"#7c7c7c"},className:e.connectionTag},(null===(m=a.queue)||void 0===m?void 0:m.name.toUpperCase())||"SEM FILA"))}),l.a.createElement(P.a,{className:Number(a.unreadMessages)>0?e.lastMessageTimeUnread:e.lastMessageTime,component:"span",variant:"body2"},Object(Ca.a)(Object(xa.a)(a.updatedAt),new Date)?l.a.createElement(l.a.Fragment,null,Object(fa.a)(Object(xa.a)(a.updatedAt),"HH:mm")):l.a.createElement(l.a.Fragment,null,Object(fa.a)(Object(xa.a)(a.updatedAt),"dd/MM/yyyy")))),l.a.createElement(j.a,{variant:"inset",component:"li"}))})))))})}return null},[c]),b=Object(n.useMemo)(()=>{if(t&&t.length>0){const a=t.filter(e=>!e.user);return l.a.createElement(it.a,{item:!0},l.a.createElement("div",{className:e.main},l.a.createElement("div",{padding:2,className:e.changeWarap},l.a.createElement(St.a,{elevation:3,className:e.cardHeaderPending},l.a.createElement(vr.a,{style:{maxWidth:"380px",width:"100%"},avatar:l.a.createElement(k.a,null),title:l.a.createElement("span",null,"Pendentes",l.a.createElement(qd.a,{className:e.pending}),l.a.createElement("div",null,"Atendimentos: ",null===a||void 0===a?void 0:a.length))})),l.a.createElement(St.a,{square:!0,elevation:1,className:e.card},a.map(a=>{var t,o,r,s,i;return l.a.createElement(I.a,{style:{paddingTop:0},key:a.id},l.a.createElement(G.a,{dense:!0,button:!0},l.a.createElement(wa.a,null,l.a.createElement(k.a,{alt:"".concat(a.contact.urlPicture),src:"".concat(a.contact.urlPicture)})),l.a.createElement(K.a,{disableTypography:!0,primary:null===a||void 0===a||null===(t=a.contact)||void 0===t?void 0:t.name,secondary:l.a.createElement(n.Fragment,null,l.a.createElement("div",null,l.a.createElement(P.a,{style:{display:"inline"},component:"span",variant:"body2"},"".concat((null===(o=a.lastMessage)||void 0===o?void 0:o.length)>30?String(a.lastMessage).substring(0,27)+"...":a.lastMessage))),l.a.createElement(O.a,{className:e.connectionTag},null===a||void 0===a||null===(r=a.whatsapp)||void 0===r?void 0:r.name),l.a.createElement(O.a,{style:{backgroundColor:(null===(s=a.queue)||void 0===s?void 0:s.color)||"#7c7c7c"},className:e.connectionTag},(null===(i=a.queue)||void 0===i?void 0:i.name.toUpperCase())||"SEM FILA"))}),l.a.createElement(P.a,{className:Number(a.unreadMessages)>0?e.lastMessageTimeUnread:e.lastMessageTime,component:"span",variant:"body2"},Object(Ca.a)(Object(xa.a)(a.updatedAt),new Date)?l.a.createElement(l.a.Fragment,null,Object(fa.a)(Object(xa.a)(a.updatedAt),"HH:mm")):l.a.createElement(l.a.Fragment,null,Object(fa.a)(Object(xa.a)(a.updatedAt),"dd/MM/yyyy")))),l.a.createElement(j.a,{variant:"inset",component:"li"}))})))))}return null},[c]);return l.a.createElement(n.Fragment,null,l.a.createElement(it.a,{container:!0,spacing:2},E,b))};const Ud=Object(x.a)(e=>({container:{paddingTop:e.spacing(1),paddingBottom:e.spacing(1),paddingLeft:"5px",maxWidth:"100%"},mainPaper:{display:"flex",padding:e.spacing(1),overflowY:"scroll",...e.scrollbarStyles,alignItems:"center"},fixedHeightPaper:{padding:e.spacing(2),display:"flex",flexDirection:"column",height:100},chatPapper:{display:"flex",height:"100%"},contactsHeader:{display:"flex",flexWrap:"wrap",padding:"0px 6px 6px 6px"}}));var Qd=()=>{const e=Ud();return l.a.createElement(hc,null,l.a.createElement(it.a,{style:{width:"99.6%"},container:!0,justifyContent:"center",alignItems:"flex-start"},l.a.createElement(it.a,{xs:12,sm:8,xl:4,item:!0},l.a.createElement(Ac,null,"Painel de Atendimentos")),l.a.createElement(it.a,{style:{width:"100%",height:"100vh"},item:!0},l.a.createElement(St.a,{className:e.mainPaper,variant:"outlined",style:{maxWidth:"100%"}},l.a.createElement(Hd,null)))))},Gd=t(376),Vd=t.n(Gd),Kd=t(428),_d=t.n(Kd),Yd=t(1077);var Xd=e=>{let{onChange:a,currentColor:t,handleClose:o,open:r}=e;const[s,i]=Object(n.useState)(t);return l.a.createElement(bt.a,{onClose:o,"aria-labelledby":"simple-dialog-title",open:r},l.a.createElement(Yd.a,{width:"100%",triangle:"hide",color:s,colors:["#B80000","#DB3E00","#FCCB00","#008B02","#006B76","#1273DE","#004DCF","#5300EB","#EB9694","#FAD0C3","#FEF3BD","#C1E1C5","#BEDADC","#C4DEF6","#BED3F3","#D4C4FB","#4D4D4D","#999999","#F44E3B","#FE9200","#FCDC00","#DBDF00","#A4DD00","#68CCCA","#73D8FF","#AEA1FF","#FDA1FF","#333333","#808080","#cccccc","#D33115","#E27300","#FCC400","#B0BC00","#68BC00","#16A5A5","#009CE0","#7B64FF","#FA28FF","#666666","#B3B3B3","#9F0500","#C45100","#FB9E00","#808900","#194D33","#0C797D","#0062B1","#653294","#AB149E"],onChange:e=>{i(e.hex),o()},onChangeComplete:e=>a(e.hex)}))},Jd=t(1799),Zd=t(1546);const $d=Object(x.a)(e=>({mainPaper:{flex:1,padding:e.spacing(1),overflowY:"scroll",...e.scrollbarStyles},customTableCell:{display:"flex",alignItems:"center",justifyContent:"center"},tooltip:{backgroundColor:"#f5f5f9",color:"rgba(0, 0, 0, 0.87)",fontSize:e.typography.pxToRem(14),border:"1px solid #dadde9",maxWidth:450},tooltipPopper:{textAlign:"center"},buttonProgress:{color:Sa.a[500]}}));var em=e=>{let{title:a,content:t,children:n}=e;const o=$d();return l.a.createElement(Ha.a,{arrow:!0,classes:{tooltip:o.tooltip,popper:o.tooltipPopper},title:l.a.createElement(l.a.Fragment,null,l.a.createElement(P.a,{gutterBottom:!0,color:"inherit"},a),t&&l.a.createElement(P.a,null,t))},n)};const am=ut.c().shape({options:ut.a().of(ut.c().shape({name:ut.d().min(4,"too short").required("Required")})).required("Must have friends")}),tm=Object(x.a)(e=>({greetingMessage:{cursor:"pointer",display:"flex",alignItems:"center","& > *:not(:last-child)":{marginRight:e.spacing(1)}},Box:{cursor:"pointer",alignItems:"center"},textField1:{margin:e.spacing(1),minWidth:120},textField:{marginRight:e.spacing(1),flex:1},customHeight:{height:"48px"}}));function nm(e){const a={name:"",greetingMessage:"",options:[],closeTicket:!1,optQueueId:""},t=tm(),[o,r]=Object(n.useState)(-1),[i,c]=Object(n.useState)(a),[d,m]=Object(n.useState)(!1),[u,p]=Object(n.useState)(!0),[g,E]=Object(n.useState)(null),[b,f]=Object(n.useState)(null),[h,v]=Object(n.useState)(!1),[y,A]=Object(n.useState)([]),[C,x]=Object(n.useState)([]),[T,O]=Object(n.useState)([]),[k,S]=Object(n.useState)([]),{user:w}=Object(n.useContext)(la),[I,j]=Object(n.useState)(""),[N,R]=Object(n.useState)(null),[D,L]=Object(n.useState)(""),[q,W]=Object(n.useState)(""),{findAll:B}=So(),[z,H]=Object(n.useState)([]),[U,Q]=Object(n.useState)([]),G=Object(n.useRef)(!0),V=w.companyId,K=async t=>{try{e.chatBotId?await Ze.put("/chatbot/".concat(e.chatBotId),t):await Ze.post("/chatbot",t),s.b.success("Bot saved successfully");const{data:n}=await Ze.get("/chatbot/".concat(e.chatBotId));c(a),c(n),E(null),f(null),c(n)}catch(n){Ke(n)}};Object(n.useEffect)(()=>{if(G.current){(async()=>{const e=await B();H(e),A(e)})()}},[]),Object(n.useEffect)(()=>{(async()=>{try{const{data:e}=await Ze.get("/files/",{params:{companyId:V}});S(e.files)}catch(e){Ke(e)}})()},[]),Object(n.useEffect)(()=>{if(I.length<3)return m(!1),void W("");const e=setTimeout(()=>{(async()=>{try{const{data:e}=await Ze.get("/users/");Q(e.users),m(!1)}catch(e){m(!1),Ke(e)}})()},500);return()=>clearTimeout(e)},[I]),Object(n.useEffect)(()=>{(async()=>{try{const{data:e}=await Ze.get("/queueIntegration",{params:{companyId:V}});O(e.queueIntegrations)}catch(e){Ke(e)}})()},[]),Object(n.useEffect)(()=>{m(!0);const a=setTimeout(()=>{(async()=>{try{const{data:a}=await Ze.get("/chatbot/".concat(e.chatBotId));(null===a||void 0===a?void 0:a.user)&&R(a.user),null!==a.optQueueId&&void 0!==a.optQueueId&&W(a.optQueueId),c(a),m(!1)}catch(a){console.log(a)}})()},500);return()=>clearTimeout(a)},[e.chatBotId]),Object(n.useEffect)(()=>{var e;i.options[o]&&W(null===(e=i.options[o])||void 0===e?void 0:e.optQueueId),p(o!==g)},[g,o]);const _=Object(Ql.a)({trim:!0});return l.a.createElement("div",{className:t.root},l.a.createElement(wr,{title:D&&"".concat(Qe.a.t("queues.confirmationModal.deleteTitle")," ").concat(D.name,"?"),open:h,onClose:()=>{v(!1),L(null)},onConfirm:()=>(async t=>{try{await Ze.delete("/chatbot/".concat(t));const{data:n}=await Ze.get("/chatbot/".concat(e.chatBotId));c(a),c(n),E(null),f(null),c(n),s.b.success(Qe.a.t("Queue deleted successfully!"))}catch(n){Ke(n)}L(null)})(D.id)},Qe.a.t("Tem certeza? Todas as op\xe7\xf5es internas tamb\xe9m ser\xe3o exclu\xeddas")),!d&&l.a.createElement("div",null,l.a.createElement(pt.f,{initialValues:i,validateOnChange:!1,enableReinitialize:!0,validationSchema:am,render:e=>{let{touched:a,errors:s,isSubmitting:c,values:m,setFieldValue:h}=e;return l.a.createElement(pt.d,{name:"options"},e=>{let{push:C,remove:x}=e;return l.a.createElement(l.a.Fragment,null,l.a.createElement($s.a,{nonLinear:!0,activeStep:o,orientation:"vertical"},m.options&&m.options.length>0&&m.options.map((e,o)=>{var C,O,S,w,I,N,D,B,H,Q,G,V,Y,X,J,Z,$,ee,ae,te,ne,le,oe,re,se,ie,ce,de,me,ue,pe,ge,Ee,be;return l.a.createElement(ei.a,{key:"".concat(e.id?e.id:o,"-options"),onClick:()=>r(o)},l.a.createElement(ai.a,{key:"".concat(e.id,"-options")},g!==o&&(null===(C=i.options[o])||void 0===C?void 0:C.name)?l.a.createElement("div",{className:t.greetingMessage,variant:"body1"},m.options[o].name,l.a.createElement(M.a,{size:"small",onClick:()=>{E(o),p(!1)}},l.a.createElement(bd.a,null)),l.a.createElement(M.a,{onClick:()=>{L(e),v(!0)},size:"small"},l.a.createElement(Yl.a,null))):l.a.createElement(it.a,{container:!0,spacing:2},l.a.createElement(it.a,{xs:12,md:12,item:!0},l.a.createElement(pt.c,{as:Et.a,name:"options[".concat(o,"].name"),variant:"outlined",margin:"dense",label:Qe.a.t("queueModal.form.greetingMessage"),color:"primary",disabled:c,autoFocus:!0,fullWidth:!0,error:(null===a||void 0===a||null===(O=a.options)||void 0===O||null===(S=O[o])||void 0===S?void 0:S.name)&&Boolean(null===(w=s.options)||void 0===w||null===(I=w[o])||void 0===I?void 0:I.name)})),l.a.createElement(it.a,{xs:12,md:8,item:!0},l.a.createElement(xt.a,{variant:"outlined",margin:"dense",className:t.FormControl,fullWidth:!0},l.a.createElement(Ct.a,{id:"queueType-selection-label"},Qe.a.t("queueModal.form.queueType")),l.a.createElement(pt.c,{as:At.a,name:"options[".concat(o,"].queueType"),variant:"outlined",margin:"dense",fullWidth:!0,labelId:"queueType-selection-label",label:Qe.a.t("queueModal.form.queueType"),error:(null===a||void 0===a||null===(N=a.options)||void 0===N||null===(D=N[o])||void 0===D?void 0:D.queueType)&&Boolean(null===s||void 0===s||null===(B=s.options)||void 0===B||null===(H=B[o])||void 0===H?void 0:H.queueType)},l.a.createElement(F.a,{value:"text"},"Texto"),l.a.createElement(F.a,{value:"attendent"},"Atendente"),l.a.createElement(F.a,{value:"queue"},"Fila"),l.a.createElement(F.a,{value:"integration"},"Integra\xe7\xe3o"),l.a.createElement(F.a,{value:"file"},"Arquivo")))),l.a.createElement(it.a,{xs:12,md:4,item:!0},l.a.createElement(ii.a,{control:l.a.createElement(pt.c,{as:Yo.a,color:"primary",name:"options[".concat(o,"].closeTicket"),checked:m.options[o].closeTicket||!1}),labelPlacement:"top",label:Qe.a.t("queueModal.form.closeTicket")}),l.a.createElement(M.a,{size:"small",onClick:()=>m.options[o].name?K(m):null,disabled:c},l.a.createElement(Vd.a,null)),l.a.createElement(M.a,{size:"small",onClick:()=>x(o),disabled:c},l.a.createElement(Yl.a,null))))),u&&i.options[o]&&l.a.createElement(Zd.a,null,l.a.createElement(l.a.Fragment,null,l.a.createElement(em,{title:"A mensagem \xe9 obrigat\xf3ria para seguir ao pr\xf3ximo n\xedvel",content:"Se a mensagem n\xe3o estiver definida, o bot n\xe3o seguir\xe1 adiante"},l.a.createElement(_d.a,{color:"secondary",style:{marginLeft:"4px"},fontSize:"small"})),b!==o?l.a.createElement("div",{className:t.greetingMessage},l.a.createElement(P.a,{color:"textSecondary",variant:"body1"},"Message:"),m.options[o].greetingMessage,l.a.createElement(M.a,{size:"small",onClick:()=>f(o)},l.a.createElement(bd.a,null))):l.a.createElement(it.a,{spacing:2,container:!0},l.a.createElement("div",{className:t.greetingMessage},"text"===i.options[o].queueType&&l.a.createElement(it.a,{xs:12,md:12,item:!0},l.a.createElement(pt.c,{as:Et.a,name:"options[".concat(o,"].greetingMessage"),variant:"outlined",margin:"dense",color:"primary",fullWidth:!0,multiline:!0,error:a.greetingMessage&&Boolean(s.greetingMessage),helperText:a.greetingMessage&&s.greetingMessage,className:t.textField}))),"queue"===i.options[o].queueType&&l.a.createElement(l.a.Fragment,null,l.a.createElement(it.a,{xs:12,md:12,item:!0},l.a.createElement(pt.c,{as:Et.a,name:"options[".concat(o,"].greetingMessage"),label:Qe.a.t("queueModal.form.message"),variant:"outlined",margin:"dense",fullWidth:!0,multiline:!0,error:a.greetingMessage&&Boolean(s.greetingMessage),helperText:a.greetingMessage&&s.greetingMessage,className:t.textField})),l.a.createElement(it.a,{xs:12,md:8,item:!0},l.a.createElement(xt.a,{variant:"outlined",margin:"dense",className:t.FormControl,fullWidth:!0},l.a.createElement(Ct.a,{id:"queue-selection-label"},Qe.a.t("queueModal.form.queue")),l.a.createElement(pt.c,{as:At.a,name:"options[".concat(o,"].optQueueId"),labelId:"queue-selection-label",label:Qe.a.t("queueModal.form.queue"),error:(null===a||void 0===a||null===(Q=a.options)||void 0===Q||null===(G=Q[o])||void 0===G?void 0:G.optQueueId)&&Boolean(null===s||void 0===s||null===(V=s.options)||void 0===V||null===(Y=V[o])||void 0===Y?void 0:Y.optQueueId),helpertext:(null===a||void 0===a||null===(X=a.options)||void 0===X||null===(J=X[o])||void 0===J?void 0:J.optQueueId)&&(null===s||void 0===s||null===(Z=s.options)||void 0===Z||null===($=Z[o])||void 0===$?void 0:$.optQueueId),fullWidth:!0,variant:"outlined",margin:"dense"},y.map(e=>l.a.createElement(F.a,{key:e.id,value:e.id},e.name)))))),"attendent"===i.options[o].queueType&&l.a.createElement(l.a.Fragment,null,l.a.createElement(it.a,{xs:12,md:12,item:!0},l.a.createElement(pt.c,{as:Et.a,name:"options[".concat(o,"].greetingMessage"),label:Qe.a.t("queueModal.form.message"),variant:"outlined",margin:"dense",fullWidth:!0,multiline:!0,error:a.greetingMessage&&Boolean(s.greetingMessage),helperText:a.greetingMessage&&s.greetingMessage,className:t.textField})),l.a.createElement(it.a,{xs:12,md:4,item:!0},l.a.createElement(Gl.a,{style:{marginTop:"8px"},variant:"outlined",margin:"dense",getOptionLabel:e=>"".concat(e.name),value:i.options[o].user,onChange:(e,a)=>{R(a),h("options[".concat(o,"].optUserId"),null!=a?a.id:null),null!=a&&Array.isArray(a.queues)?(1===a.queues.length&&(W(a.queues[0].id),h("options[".concat(o,"].optQueueId"),a.queues[0].id)),A(a.queues)):(A(z),W(""))},options:U,filterOptions:_,freeSolo:!0,fullWidth:!0,autoHighlight:!0,noOptionsText:Qe.a.t("transferTicketModal.noOptions"),loading:d,size:"small",renderOption:e=>l.a.createElement("span",null," ",l.a.createElement(Mo,{user:e})," ",e.name),renderInput:e=>l.a.createElement(Et.a,Object.assign({},e,{label:Qe.a.t("transferTicketModal.fieldLabel"),variant:"outlined",onChange:e=>j(e.target.value),InputProps:{...e.InputProps,endAdornment:l.a.createElement(n.Fragment,null,d?l.a.createElement(yt.a,{color:"inherit",size:20}):null,e.InputProps.endAdornment)}}))})),l.a.createElement(it.a,{xs:12,md:4,item:!0},l.a.createElement(xt.a,{variant:"outlined",margin:"dense",fullWidth:!0,className:t.formControl},l.a.createElement(Ct.a,null,Qe.a.t("transferTicketModal.fieldQueueLabel")),l.a.createElement(At.a,{value:q,onChange:e=>{W(e.target.value),h("options[".concat(o,"].optQueueId"),e.target.value)},label:Qe.a.t("transferTicketModal.fieldQueuePlaceholder")},y.map(e=>l.a.createElement(F.a,{key:e.id,value:e.id},e.name)))))),"integration"===i.options[o].queueType&&l.a.createElement(l.a.Fragment,null,l.a.createElement(it.a,{xs:12,md:12,item:!0},l.a.createElement(pt.c,{as:Et.a,name:"options[".concat(o,"].greetingMessage"),label:Qe.a.t("queueModal.form.message"),variant:"outlined",margin:"dense",fullWidth:!0,multiline:!0,error:a.greetingMessage&&Boolean(s.greetingMessage),helperText:a.greetingMessage&&s.greetingMessage,className:t.textField})),l.a.createElement(it.a,{xs:12,md:8,item:!0},l.a.createElement(xt.a,{variant:"outlined",margin:"dense",fullWidth:!0,className:t.formControl},l.a.createElement(Ct.a,{id:"optIntegrationId-selection-label"},Qe.a.t("queueModal.form.integration")),l.a.createElement(pt.c,{as:At.a,name:"options[".concat(o,"].optIntegrationId"),labelId:"optIntegrationId-selection-label",label:Qe.a.t("queueModal.form.integration"),variant:"outlined",margin:"dense",fullWidth:!0,error:(null===a||void 0===a||null===(ee=a.options)||void 0===ee||null===(ae=ee[o])||void 0===ae?void 0:ae.optIntegrationId)&&Boolean(null===s||void 0===s||null===(te=s.options)||void 0===te||null===(ne=te[o])||void 0===ne?void 0:ne.optIntegrationId),helpertext:(null===a||void 0===a||null===(le=a.options)||void 0===le||null===(oe=le[o])||void 0===oe?void 0:oe.optIntegrationId)&&(null===s||void 0===s||null===(re=s.options)||void 0===re||null===(se=re[o])||void 0===se?void 0:se.optIntegrationId)},T.map(e=>l.a.createElement(F.a,{key:e.id,value:e.id},e.name)))))),"file"===i.options[o].queueType&&l.a.createElement(l.a.Fragment,null,l.a.createElement(it.a,{xs:12,md:12,item:!0},l.a.createElement(pt.c,{as:Et.a,name:"options[".concat(o,"].greetingMessage"),label:Qe.a.t("queueModal.form.message"),variant:"outlined",margin:"dense",fullWidth:!0,multiline:!0,error:a.greetingMessage&&Boolean(s.greetingMessage),helperText:a.greetingMessage&&s.greetingMessage,className:t.textField})),l.a.createElement(it.a,{xs:12,md:8,item:!0},l.a.createElement(xt.a,{variant:"outlined",margin:"dense",fullWidth:!0,className:t.formControl},l.a.createElement(Ct.a,{id:"optFileId-selection-label"},Qe.a.t("queueModal.form.file")),l.a.createElement(pt.c,{as:At.a,name:"options[".concat(o,"].optFileId"),labelId:"optFileId-selection-label",label:Qe.a.t("queueModal.form.file"),error:(null===a||void 0===a||null===(ie=a.options)||void 0===ie||null===(ce=ie[o])||void 0===ce?void 0:ce.optFileId)&&Boolean(null===s||void 0===s||null===(de=s.options)||void 0===de||null===(me=de[o])||void 0===me?void 0:me.optFileId),helpertext:(null===a||void 0===a||null===(ue=a.options)||void 0===ue||null===(pe=ue[o])||void 0===pe?void 0:pe.optFileId)&&(null===s||void 0===s||null===(ge=s.options)||void 0===ge||null===(Ee=ge[o])||void 0===Ee?void 0:Ee.optFileId),variant:"outlined",margin:"dense"},k.map(e=>l.a.createElement(F.a,{key:e.id,value:e.id},e.name)))))),l.a.createElement(it.a,{xs:2,md:4,item:!0},l.a.createElement(M.a,{size:"small",onClick:()=>K(m),disabled:c,style:{marginTop:"8px"}}," ",l.a.createElement(Vd.a,null)))),(be=e.id,l.a.createElement(nm,{chatBotId:be})))))}),l.a.createElement(ei.a,null,l.a.createElement(ai.a,{onClick:()=>C({name:void 0,greetingMessage:void 0})},Qe.a.t("fileModal.buttons.fileOptions")))))})}})))}const lm=Object(x.a)(e=>({root:{display:"flex",flexWrap:"wrap"},textField:{marginRight:e.spacing(1),flex:1},textField1:{margin:e.spacing(1),minWidth:120},btnWrapper:{position:"relative"},buttonProgress:{color:Sa.a[500],position:"absolute",top:"50%",left:"50%",marginTop:-12,marginLeft:-12},formControl:{margin:e.spacing(1),minWidth:120},colorAdorment:{width:20,height:20},greetingMessage:{cursor:"pointer",display:"flex",alignItems:"center","& > *:not(:last-child)":{marginRight:e.spacing(1)}},custom:{display:"flex",alignItems:"center",justifyContent:"center"}})),om=ut.c().shape({name:ut.d().min(2,"Too Short!").max(50,"Too Long!").required("Required"),color:ut.d().min(3,"Too Short!").max(9,"Too Long!").required(),greetingMessage:ut.d(),chatbots:ut.a().of(ut.c().shape({name:ut.d().min(4,"too short").required("Required")})).required("Must have friends")});var rm=e=>{let{open:a,onClose:t,queueId:o,onEdit:r}=e;const i=lm(),c={name:"",color:"",greetingMessage:"",chatbots:[],outOfHoursMessage:"",orderQueue:"",tempoRoteador:0,ativarRoteador:!1,integrationId:"",fileListId:"",closeTicket:!1},[d,m]=Object(n.useState)(!1),[u,p]=Object(n.useState)(c),g=Object(n.useRef)(),[E,b]=Object(n.useState)(null),[f,h]=Object(n.useState)(null),[v,y]=Object(n.useState)(!1),[A,C]=Object(n.useState)(!0),[x,T]=Object(n.useState)(null),[O,k]=Object(n.useState)(null),[S,w]=Object(n.useState)([]),[I,j]=Object(n.useState)([]),[N,R]=Object(n.useState)(!1),[D,L]=Object(n.useState)(0),[q,W]=Object(n.useState)(null),{user:B}=Object(n.useContext)(la),[z,H]=Object(n.useState)(""),[U,Q]=Object(n.useState)(!1),[G,V]=Object(n.useState)(""),{findAll:K}=So(),[_,Y]=Object(n.useState)([]),[X,J]=Object(n.useState)([]),Z=Object(n.useRef)(!0),[$,ee]=Object(n.useState)([{weekday:Qe.a.t("queueModal.serviceHours.monday"),weekdayEn:"monday",startTimeA:"08:00",endTimeA:"12:00",startTimeB:"13:00",endTimeB:"18:00"},{weekday:Qe.a.t("queueModal.serviceHours.tuesday"),weekdayEn:"tuesday",startTimeA:"08:00",endTimeA:"12:00",startTimeB:"13:00",endTimeB:"18:00"},{weekday:Qe.a.t("queueModal.serviceHours.wednesday"),weekdayEn:"wednesday",startTimeA:"08:00",endTimeA:"12:00",startTimeB:"13:00",endTimeB:"18:00"},{weekday:Qe.a.t("queueModal.serviceHours.thursday"),weekdayEn:"thursday",startTimeA:"08:00",endTimeA:"12:00",startTimeB:"13:00",endTimeB:"18:00"},{weekday:Qe.a.t("queueModal.serviceHours.friday"),weekdayEn:"friday",startTimeA:"08:00",endTimeA:"12:00",startTimeB:"13:00",endTimeB:"18:00"},{weekday:"S\xe1bado",weekdayEn:"saturday",startTimeA:"08:00",endTimeA:"12:00",startTimeB:"13:00",endTimeB:"18:00"},{weekday:"Domingo",weekdayEn:"sunday",startTimeA:"08:00",endTimeA:"12:00",startTimeB:"13:00",endTimeB:"18:00"}]),ae=B.companyId,{get:te}=To();Object(n.useEffect)(()=>{(async()=>{"queue"===(await te({column:"scheduleType"})).scheduleType&&R(!0)})()},[]),Object(n.useEffect)(()=>{(async()=>{try{const{data:e}=await Ze.get("/files/",{params:{companyId:ae}});W(e.files)}catch(e){Ke(e)}})()},[]),Object(n.useEffect)(()=>((async()=>{if(o)try{const{data:e}=await Ze.get("/queue/".concat(o));p(a=>({...a,...e})),ee(e.schedules)}catch(e){Ke(e)}})(),()=>{p({name:"",color:"",greetingMessage:"",chatbots:[],outOfHoursMessage:"",orderQueue:"",tempoRoteador:"",ativarRoteador:!1,integrationId:"",fileListId:"",closeTicket:!1})}),[o,a]),Object(n.useEffect)(()=>{if(Z.current){(async()=>{const e=await K();Y(e),w(e)})()}},[]),Object(n.useEffect)(()=>{if(z.length<3)return Q(!1),void V("");const e=setTimeout(()=>{(async()=>{try{const{data:e}=await Ze.get("/users/");J(e.users),Q(!1)}catch(e){Q(!1),Ke(e)}})()},500);return()=>clearTimeout(e)},[z]),Object(n.useEffect)(()=>{(async()=>{try{const{data:e}=await Ze.get("/queueIntegration");j(e.queueIntegrations)}catch(e){Ke(e)}})()},[]),Object(n.useEffect)(()=>{var e;E&&V(null===(e=u.chatbots[E])||void 0===e?void 0:e.optQueueId);C(E!==x)},[x,E]);const ne=()=>{t(),T(null),b(null),k(null)},le=Object(Ql.a)({trim:!0}),oe=async e=>{console.log(e);try{if(o){const{data:a}=await Ze.put("/queue/".concat(o),e);a.chatbots&&a.chatbots.length&&(r(a),p(a))}else{const{data:a}=await Ze.post("/queue",e);a.chatbots&&a.chatbots.length&&(p(a),r(a),ne())}T(null),k(null),s.b.success("".concat(Qe.a.t("queues.toasts.success")))}catch(a){Ke(a)}};return l.a.createElement("div",{className:i.root},l.a.createElement(wr,{title:f&&"".concat(Qe.a.t("queues.confirmationModal.deleteTitle")," ").concat(f.name,"?"),open:v,onClose:()=>{y(!1),h(null)},onConfirm:()=>(async e=>{try{await Ze.delete("/chatbot/".concat(e));const{data:a}=await Ze.get("/queue/".concat(o));p(c),p(a),T(null),k(null),s.b.success("".concat(Qe.a.t("queues.toasts.deleted")))}catch(a){Ke(a)}})(f.id)},Qe.a.t("queueModal.title.confirmationDelete")),l.a.createElement(bt.a,{maxWidth:"md",fullWidth:!0,open:a,onClose:ne,scroll:"paper"},l.a.createElement(vt.a,null,"".concat(o?Qe.a.t("queueModal.title.edit"):Qe.a.t("queueModal.title.add"))),l.a.createElement(wt.a,{value:D,indicatorColor:"primary",textColor:"primary",onChange:(e,a)=>L(a),"aria-label":"disabled tabs example"},l.a.createElement(Mt.a,{label:Qe.a.t("queueModal.title.queueData")}),N&&l.a.createElement(Mt.a,{label:Qe.a.t("queueModal.title.text")})),0===D&&l.a.createElement(pt.f,{initialValues:u,validateOnChange:!1,enableReinitialize:!0,validationSchema:om,onSubmit:(e,a)=>{setTimeout(()=>{(async e=>{try{o?await Ze.put("/queue/".concat(o),{...e,schedules:$}):await Ze.post("/queue",{...e,schedules:$}),s.b.success("".concat(Qe.a.t("queues.toasts.success"))),ne()}catch(a){Ke(a)}})(e),a.setSubmitting(!1)},400)}},e=>{let{setFieldValue:a,touched:t,errors:r,isSubmitting:s,values:c}=e;return l.a.createElement(pt.e,null,l.a.createElement(ht.a,{dividers:!0},l.a.createElement(pt.c,{as:Et.a,label:Qe.a.t("queueModal.form.name"),autoFocus:!0,name:"name",error:t.name&&Boolean(r.name),helperText:t.name&&r.name,variant:"outlined",margin:"dense",className:i.textField}),l.a.createElement(pt.c,{as:Et.a,label:Qe.a.t("queueModal.form.color"),name:"color",id:"color",onFocus:()=>{m(!0),g.current.focus()},error:t.color&&Boolean(r.color),helperText:t.color&&r.color,InputProps:{startAdornment:l.a.createElement(Yi.a,{position:"start"},l.a.createElement("div",{style:{backgroundColor:c.color},className:i.colorAdorment})),endAdornment:l.a.createElement(M.a,{size:"small",color:"default",onClick:()=>m(!0)},l.a.createElement(Jd.a,null))},variant:"outlined",margin:"dense"}),l.a.createElement(Xd,{open:d,handleClose:()=>m(!1),onChange:e=>{c.color=e,p(()=>({...c,color:e}))}}),l.a.createElement(pt.c,{as:Et.a,label:Qe.a.t("queueModal.form.orderQueue"),name:"orderQueue",type:"orderQueue",error:t.orderQueue&&Boolean(r.orderQueue),helperText:t.orderQueue&&r.orderQueue,variant:"outlined",margin:"dense",className:i.textField1}),l.a.createElement(ii.a,{control:l.a.createElement(pt.c,{as:Xl.a,color:"primary",name:"closeTicket",checked:c.closeTicket}),label:Qe.a.t("queueModal.form.closeTicket")}),l.a.createElement("div",null,l.a.createElement(ii.a,{control:l.a.createElement(pt.c,{as:Xl.a,color:"primary",name:"ativarRoteador",checked:c.ativarRoteador}),label:Qe.a.t("queueModal.form.rotate")}),l.a.createElement(pt.c,{as:At.a,label:Qe.a.t("queueModal.form.timeRotate"),name:"tempoRoteador",id:"tempoRoteador",variant:"outlined",margin:"dense",className:i.selectField},l.a.createElement(F.a,{value:"0",selected:!0,disabled:!0},Qe.a.t("queueModal.form.timeRotate")),l.a.createElement(F.a,{value:"2"},"2 minutos"),l.a.createElement(F.a,{value:"5"},"5 minutos"),l.a.createElement(F.a,{value:"10"},"10 minutos"),l.a.createElement(F.a,{value:"15"},"15 minutos"),l.a.createElement(F.a,{value:"30"},"30 minutos"),l.a.createElement(F.a,{value:"45"},"45 minutos"),l.a.createElement(F.a,{value:"60"},"60 minutos"))),l.a.createElement("div",null,l.a.createElement(xt.a,{variant:"outlined",margin:"dense",className:i.FormControl,fullWidth:!0},l.a.createElement(Ct.a,{id:"integrationId-selection-label"},Qe.a.t("queueModal.form.integrationId")),l.a.createElement(pt.c,{as:At.a,label:Qe.a.t("queueModal.form.integrationId"),name:"integrationId",id:"integrationId",placeholder:Qe.a.t("queueModal.form.integrationId"),labelId:"integrationId-selection-label",value:c.integrationId||""},l.a.createElement(F.a,{value:""},"Nenhum"),I.map(e=>l.a.createElement(F.a,{key:e.id,value:e.id},e.name)))),l.a.createElement(xt.a,{variant:"outlined",margin:"dense",className:i.FormControl,fullWidth:!0},l.a.createElement(Ct.a,{id:"fileListId-selection-label"},Qe.a.t("queueModal.form.fileListId")),l.a.createElement(pt.c,{as:At.a,label:Qe.a.t("queueModal.form.fileListId"),name:"fileListId",id:"fileListId",placeholder:Qe.a.t("queueModal.form.fileListId"),labelId:"fileListId-selection-label",value:c.fileListId||""},l.a.createElement(F.a,{value:""},"Nenhum"),q.map(e=>l.a.createElement(F.a,{key:e.id,value:e.id},e.name))))),l.a.createElement("div",null,l.a.createElement(pt.c,{as:Et.a,label:Qe.a.t("queueModal.form.greetingMessage"),type:"greetingMessage",multiline:!0,inputRef:g,minRows:5,fullWidth:!0,name:"greetingMessage",error:t.greetingMessage&&Boolean(r.greetingMessage),helperText:t.greetingMessage&&r.greetingMessage,variant:"outlined",margin:"dense"}),N&&l.a.createElement(pt.c,{as:Et.a,label:Qe.a.t("queueModal.form.outOfHoursMessage"),type:"outOfHoursMessage",multiline:!0,rows:5,fullWidth:!0,required:N,name:"outOfHoursMessage",error:t.outOfHoursMessage&&Boolean(r.outOfHoursMessage),helperText:t.outOfHoursMessage&&r.outOfHoursMessage,variant:"outlined",margin:"dense"})),l.a.createElement(P.a,{variant:"subtitle1"},Qe.a.t("queueModal.bot.title"),l.a.createElement(em,{title:Qe.a.t("queueModal.bot.toolTipTitle"),content:Qe.a.t("queueModal.bot.toolTip")},l.a.createElement(_d.a,{style:{marginLeft:"14px"},fontSize:"small"}))),l.a.createElement("div",null,l.a.createElement(pt.d,{name:"chatbots"},e=>{let{push:o,remove:d}=e;return l.a.createElement(l.a.Fragment,null,l.a.createElement($s.a,{nonLinear:!0,activeStep:E,orientation:"vertical"},c.chatbots&&c.chatbots.length>0&&c.chatbots.map((e,o)=>{var m,p,g,E,f,v,j,N,R,D,L,W,B,z,Q,K,Y,J,Z,$,ee,ae,te,ne,re,se,ie,ce,de,me,ue,pe,ge,Ee;return l.a.createElement(ei.a,{key:"".concat(e.id?e.id:o,"-chatbots"),onClick:()=>b(o)},l.a.createElement(ai.a,{key:"".concat(e.id,"-chatbots")},x!==o&&(null===(m=u.chatbots[o])||void 0===m?void 0:m.name)?l.a.createElement("div",{className:i.greetingMessage,variant:"body1"},c.chatbots[o].name,l.a.createElement(M.a,{size:"small",onClick:()=>{T(o),C(!1)}},l.a.createElement(bd.a,null)),l.a.createElement(M.a,{onClick:()=>{h(e),y(!0)},size:"small"},l.a.createElement(Yl.a,null))):l.a.createElement(it.a,{spacing:2,container:!0},l.a.createElement(it.a,{xs:12,md:12,item:!0},l.a.createElement(pt.c,{as:Et.a,name:"chatbots[".concat(o,"].name"),variant:"outlined",margin:"dense",color:"primary",label:Qe.a.t("queueModal.form.greetingMessage"),disabled:s,autoFocus:!0,fullWidth:!0,size:"small",error:(null===t||void 0===t||null===(p=t.chatbots)||void 0===p||null===(g=p[o])||void 0===g?void 0:g.name)&&Boolean(null===(E=r.chatbots)||void 0===E||null===(f=E[o])||void 0===f?void 0:f.name),className:i.textField})),l.a.createElement(it.a,{xs:12,md:8,item:!0},l.a.createElement(xt.a,{variant:"outlined",margin:"dense",className:i.formControl,fullWidth:!0},l.a.createElement(Ct.a,{id:"queueType-selection-label"},Qe.a.t("queueModal.form.queueType")),l.a.createElement(pt.c,{as:At.a,name:"chatbots[".concat(o,"].queueType"),variant:"outlined",margin:"dense",fullWidth:!0,labelId:"queueType-selection-label",label:Qe.a.t("queueModal.form.queueType"),error:(null===t||void 0===t||null===(v=t.chatbots)||void 0===v||null===(j=v[o])||void 0===j?void 0:j.queueType)&&Boolean(null===r||void 0===r||null===(N=r.chatbots)||void 0===N||null===(R=N[o])||void 0===R?void 0:R.queueType)},l.a.createElement(F.a,{value:"text"},Qe.a.t("queueModal.bot.text")),l.a.createElement(F.a,{value:"attendent"},Qe.a.t("queueModal.bot.attendent")),l.a.createElement(F.a,{value:"queue"},Qe.a.t("queueModal.bot.queue")),l.a.createElement(F.a,{value:"integration"},Qe.a.t("queueModal.bot.integration")),l.a.createElement(F.a,{value:"file"},Qe.a.t("queueModal.bot.file"))))),l.a.createElement(it.a,{xs:12,md:4,item:!0},l.a.createElement(ii.a,{control:l.a.createElement(pt.c,{as:Ei.a,color:"primary",name:"chatbots[".concat(o,"].closeTicket"),checked:c.chatbots[o].closeTicket||!1}),labelPlacement:"top",label:Qe.a.t("queueModal.form.closeTicket")}),l.a.createElement(M.a,{size:"small",onClick:()=>c.chatbots[o].name?oe(c):null,disabled:s},l.a.createElement(Vd.a,null)),l.a.createElement(M.a,{size:"small",onClick:()=>d(o),disabled:s},l.a.createElement(Yl.a,null))))),A&&u.chatbots[o]&&l.a.createElement(Zd.a,null,l.a.createElement(l.a.Fragment,null,O!==o?l.a.createElement("div",{className:i.greetingMessage},l.a.createElement(P.a,{color:"textSecondary",variant:"body1"},"Message:"),c.chatbots[o].greetingMessage,!(null===(D=u.chatbots[o])||void 0===D?void 0:D.greetingMessage)&&l.a.createElement(em,{title:Qe.a.t("queueModal.bot.toolTipMessageTitle"),content:Qe.a.t("queueModal.bot.toolTipMessageContent")},l.a.createElement(_d.a,{color:"secondary",style:{marginLeft:"4px"},fontSize:"small"})),l.a.createElement(M.a,{size:"small",onClick:()=>k(o)},l.a.createElement(bd.a,null))):l.a.createElement(it.a,{spacing:2,container:!0},l.a.createElement("div",{className:i.greetingMessage},"text"===u.chatbots[o].queueType&&l.a.createElement(it.a,{xs:12,md:12,item:!0},l.a.createElement(pt.c,{as:Et.a,name:"chatbots[".concat(o,"].greetingMessage"),label:Qe.a.t("queueModal.form.message"),variant:"outlined",margin:"dense",fullWidth:!0,multiline:!0,error:t.greetingMessage&&Boolean(r.greetingMessage),helperText:t.greetingMessage&&r.greetingMessage,className:i.textField}))),"queue"===u.chatbots[o].queueType&&l.a.createElement(l.a.Fragment,null,l.a.createElement(it.a,{xs:12,md:12,item:!0},l.a.createElement(pt.c,{as:Et.a,name:"chatbots[".concat(o,"].greetingMessage"),label:Qe.a.t("queueModal.form.message"),variant:"outlined",margin:"dense",fullWidth:!0,multiline:!0,error:t.greetingMessage&&Boolean(r.greetingMessage),helperText:t.greetingMessage&&r.greetingMessage,className:i.textField})),l.a.createElement(it.a,{xs:12,md:8,item:!0},l.a.createElement(xt.a,{variant:"outlined",margin:"dense",className:i.FormControl,fullWidth:!0},l.a.createElement(Ct.a,{id:"queue-selection-label"},Qe.a.t("queueModal.form.queue")),l.a.createElement(pt.c,{as:At.a,name:"chatbots[".concat(o,"].optQueueId"),error:(null===t||void 0===t||null===(L=t.chatbots)||void 0===L||null===(W=L[o])||void 0===W?void 0:W.optQueueId)&&Boolean(null===r||void 0===r||null===(B=r.chatbots)||void 0===B||null===(z=B[o])||void 0===z?void 0:z.optQueueId),helpertext:(null===t||void 0===t||null===(Q=t.chatbots)||void 0===Q||null===(K=Q[o])||void 0===K?void 0:K.optQueueId)&&(null===r||void 0===r||null===(Y=r.chatbots)||void 0===Y||null===(J=Y[o])||void 0===J?void 0:J.optQueueId),className:i.textField1},S.map(e=>l.a.createElement(F.a,{key:e.id,value:e.id},e.name)))))),"attendent"===u.chatbots[o].queueType&&l.a.createElement(l.a.Fragment,null,l.a.createElement(it.a,{xs:12,md:12,item:!0},l.a.createElement(pt.c,{as:Et.a,name:"chatbots[".concat(o,"].greetingMessage"),label:Qe.a.t("queueModal.form.message"),variant:"outlined",margin:"dense",fullWidth:!0,multiline:!0,error:t.greetingMessage&&Boolean(r.greetingMessage),helperText:t.greetingMessage&&r.greetingMessage,className:i.textField})),l.a.createElement(it.a,{xs:12,md:4,item:!0},l.a.createElement(Gl.a,{style:{marginTop:"8px"},variant:"outlined",margin:"dense",getOptionLabel:e=>"".concat(e.name),value:u.chatbots[o].user,onChange:(e,t)=>{a("chatbots[".concat(o,"].optUserId"),null!=t?t.id:null),null!=t&&Array.isArray(t.queues)?(1===t.queues.length&&(V(t.queues[0].id),a("chatbots[".concat(o,"].optQueueId"),t.queues[0].id)),w(t.queues)):(w(_),V(""))},options:X,filterOptions:le,freeSolo:!0,fullWidth:!0,autoHighlight:!0,noOptionsText:Qe.a.t("transferTicketModal.noOptions"),loading:U,size:"small",renderOption:e=>l.a.createElement("span",null," ",l.a.createElement(Mo,{user:e})," ",e.name),renderInput:e=>l.a.createElement(Et.a,Object.assign({},e,{label:Qe.a.t("transferTicketModal.fieldLabel"),variant:"outlined",onChange:e=>H(e.target.value),InputProps:{...e.InputProps,endAdornment:l.a.createElement(n.Fragment,null,U?l.a.createElement(yt.a,{color:"inherit",size:20}):null,e.InputProps.endAdornment)}}))})),l.a.createElement(it.a,{xs:12,md:4,item:!0},l.a.createElement(xt.a,{variant:"outlined",margin:"dense",fullWidth:!0,className:i.formControl},l.a.createElement(Ct.a,null,Qe.a.t("transferTicketModal.fieldQueueLabel")),l.a.createElement(At.a,{value:G,onChange:e=>{V(e.target.value),a("chatbots[".concat(o,"].optQueueId"),e.target.value)},label:Qe.a.t("transferTicketModal.fieldQueuePlaceholder")},S.map(e=>l.a.createElement(F.a,{key:e.id,value:e.id},e.name)))))),"integration"===u.chatbots[o].queueType&&l.a.createElement(l.a.Fragment,null,l.a.createElement(it.a,{xs:12,md:12,item:!0},l.a.createElement(pt.c,{as:Et.a,name:"chatbots[".concat(o,"].greetingMessage"),label:Qe.a.t("queueModal.form.message"),variant:"outlined",margin:"dense",fullWidth:!0,multiline:!0,error:t.greetingMessage&&Boolean(r.greetingMessage),helperText:t.greetingMessage&&r.greetingMessage,className:i.textField})),l.a.createElement(it.a,{xs:12,md:8,item:!0},l.a.createElement(xt.a,{variant:"outlined",margin:"dense",className:i.FormControl,fullWidth:!0},l.a.createElement(Ct.a,{id:"optIntegrationId-selection-label"},Qe.a.t("queueModal.form.integration")),l.a.createElement(pt.c,{as:At.a,name:"chatbots[".concat(o,"].optIntegrationId"),error:(null===t||void 0===t||null===(Z=t.chatbots)||void 0===Z||null===($=Z[o])||void 0===$?void 0:$.optIntegrationId)&&Boolean(null===r||void 0===r||null===(ee=r.chatbots)||void 0===ee||null===(ae=ee[o])||void 0===ae?void 0:ae.optIntegrationId),helpertext:(null===t||void 0===t||null===(te=t.chatbots)||void 0===te||null===(ne=te[o])||void 0===ne?void 0:ne.optIntegrationId)&&(null===r||void 0===r||null===(re=r.chatbots)||void 0===re||null===(se=re[o])||void 0===se?void 0:se.optIntegrationId),className:i.textField1},I.map(e=>l.a.createElement(F.a,{key:e.id,value:e.id},e.name)))))),"file"===u.chatbots[o].queueType&&l.a.createElement(l.a.Fragment,null,l.a.createElement(it.a,{xs:12,md:12,item:!0},l.a.createElement(pt.c,{as:Et.a,name:"chatbots[".concat(o,"].greetingMessage"),label:Qe.a.t("queueModal.form.message"),variant:"outlined",margin:"dense",fullWidth:!0,multiline:!0,error:t.greetingMessage&&Boolean(r.greetingMessage),helperText:t.greetingMessage&&r.greetingMessage,className:i.textField})),l.a.createElement(Ct.a,null,"Selecione um Arquivo"),l.a.createElement(pt.c,{as:At.a,name:"chatbots[".concat(o,"].optFileId"),error:(null===t||void 0===t||null===(ie=t.chatbots)||void 0===ie||null===(ce=ie[o])||void 0===ce?void 0:ce.optFileId)&&Boolean(null===r||void 0===r||null===(de=r.chatbots)||void 0===de||null===(me=de[o])||void 0===me?void 0:me.optFileId),helpertext:(null===t||void 0===t||null===(ue=t.chatbots)||void 0===ue||null===(pe=ue[o])||void 0===pe?void 0:pe.optFileId)&&(null===r||void 0===r||null===(ge=r.chatbots)||void 0===ge||null===(Ee=ge[o])||void 0===Ee?void 0:Ee.optFileId),className:i.textField1},q.map(e=>l.a.createElement(F.a,{key:e.id,value:e.id},e.name)))),l.a.createElement(M.a,{size:"small",onClick:()=>oe(c),disabled:s}," ",l.a.createElement(Vd.a,null))),l.a.createElement(nm,{chatBotId:e.id}))))}),l.a.createElement(ei.a,null,l.a.createElement(ai.a,{onClick:()=>o({name:"",value:""})},Qe.a.t("queueModal.bot.addOptions")))))}))),l.a.createElement(ft.a,null,l.a.createElement(gt.a,{onClick:ne,disabled:s},Qe.a.t("queueModal.buttons.cancel")),l.a.createElement(gt.a,{type:"submit",color:"primary",disabled:s,variant:"contained",className:i.btnWrapper},"".concat(o?Qe.a.t("queueModal.buttons.okEdit"):Qe.a.t("queueModal.buttons.okAdd")),s&&l.a.createElement(yt.a,{size:24,className:i.buttonProgress}))))}),1===D&&l.a.createElement(St.a,{style:{padding:20}},l.a.createElement(wc,{loading:!1,onSubmit:async e=>{s.b.success("Clique em salvar para registar as altera\xe7\xf5es"),ee(e),L(0)},initialValues:$,labelSaveButton:Qe.a.t("whatsappModal.buttons.okAdd")}))))};const sm=Object(x.a)(e=>({mainPaper:{flex:1,padding:e.spacing(1),overflowY:"scroll",...e.scrollbarStyles},customTableCell:{display:"flex",alignItems:"center",justifyContent:"center"}})),im=(e,a)=>{if("LOAD_QUEUES"===a.type){const t=a.payload,n=[];return t.forEach(a=>{const t=e.findIndex(e=>e.id===a.id);-1!==t?e[t]=a:n.push(a)}),[...e,...n]}if("UPDATE_QUEUES"===a.type){const t=a.payload,n=e.findIndex(e=>e.id===t.id);return-1!==n?(e[n]=t,[...e]):[t,...e]}if("DELETE_QUEUE"===a.type){const t=a.payload,n=e.findIndex(e=>e.id===t);return-1!==n&&e.splice(n,1),[...e]}if("RESET"===a.type)return[]};var cm=()=>{const e=sm(),[a,t]=Object(n.useReducer)(im,[]),[o,r]=Object(n.useState)(!1),[i,c]=Object(n.useState)(!1),[d,m]=Object(n.useState)(null),[u,p]=Object(n.useState)(!1),{user:g}=Object(n.useContext)(la);Object(n.useEffect)(()=>{(async()=>{r(!0);try{const{data:e}=await Ze.get("/queue");t({type:"LOAD_QUEUES",payload:e}),r(!1)}catch(e){Ke(e),r(!1)}})()},[]),Object(n.useEffect)(()=>{const e=g.companyId,a=aa({companyId:e,userId:g.id});return a.on("company-".concat(e,"-queue"),e=>{"update"!==e.action&&"create"!==e.action||t({type:"UPDATE_QUEUES",payload:e.queue}),"delete"===e.action&&t({type:"DELETE_QUEUE",payload:e.queueId})}),()=>{a.disconnect()}},[]);const E=e=>{m(e),c(!0)};return l.a.createElement(bc,null,l.a.createElement(wr,{title:d&&"".concat(Qe.a.t("queues.confirmationModal.deleteTitle")," ").concat(d.name,"?"),open:u,onClose:()=>{p(!1),m(null)},onConfirm:()=>(async e=>{try{await Ze.delete("/queue/".concat(e)),s.b.success(Qe.a.t("Queue deleted successfully!"))}catch(a){Ke(a)}m(null)})(d.id)},Qe.a.t("queues.confirmationModal.deleteMessage")),l.a.createElement(rm,{open:i,onClose:()=>{c(!1),m(null)},queueId:null===d||void 0===d?void 0:d.id,onEdit:e=>{e&&setTimeout(()=>{E(e)},500)}}),l.a.createElement(hc,null,l.a.createElement(Ac,null,Qe.a.t("queues.title")," (",a.length,")"),l.a.createElement(yc,null,l.a.createElement(gt.a,{variant:"contained",color:"primary",onClick:()=>{c(!0),m(null)}},Qe.a.t("queues.buttons.add")))),l.a.createElement(St.a,{className:e.mainPaper,variant:"outlined"},l.a.createElement(Rn.a,{size:"small"},l.a.createElement(Ln.a,null,l.a.createElement(qn.a,null,l.a.createElement(Dn.a,{align:"center"},Qe.a.t("queues.table.ID")),l.a.createElement(Dn.a,{align:"center"},Qe.a.t("queues.table.name")),l.a.createElement(Dn.a,{align:"center"},Qe.a.t("queues.table.color")),l.a.createElement(Dn.a,{align:"center"},Qe.a.t("queues.table.orderQueue")),l.a.createElement(Dn.a,{align:"center"},Qe.a.t("queues.table.greeting")),l.a.createElement(Dn.a,{align:"center"},Qe.a.t("queues.table.actions")))),l.a.createElement(Pn.a,null,l.a.createElement(l.a.Fragment,null,a.map(a=>l.a.createElement(qn.a,{key:a.id},l.a.createElement(Dn.a,{align:"center"},a.id),l.a.createElement(Dn.a,{align:"center"},a.name),l.a.createElement(Dn.a,{align:"center"},l.a.createElement("div",{className:e.customTableCell},l.a.createElement("span",{style:{backgroundColor:a.color,width:60,height:20,alignSelf:"center"}}))),l.a.createElement(Dn.a,{align:"center"},l.a.createElement("div",{className:e.customTableCell},l.a.createElement(P.a,{style:{width:300,align:"center"},noWrap:!0,variant:"body2"},a.orderQueue))),l.a.createElement(Dn.a,{align:"center"},l.a.createElement("div",{className:e.customTableCell},l.a.createElement(P.a,{style:{width:300,align:"center"},noWrap:!0,variant:"body2"},a.greetingMessage))),l.a.createElement(Dn.a,{align:"center"},l.a.createElement(M.a,{size:"small",onClick:()=>E(a)},l.a.createElement(mc.a,null)),l.a.createElement(M.a,{size:"small",onClick:()=>{m(a),p(!0)}},l.a.createElement(uc.a,null))))),o&&l.a.createElement(xc,{columns:4}))))))},dm=t(1048);const mm=Object(x.a)(e=>({root:{display:"flex",flexWrap:"wrap"},multFieldLine:{display:"flex","& > *:not(:last-child)":{marginRight:e.spacing(1)}},btnWrapper:{position:"relative"},buttonProgress:{color:Sa.a[500],position:"absolute",top:"50%",left:"50%",marginTop:-12,marginLeft:-12},formControl:{margin:e.spacing(1),minWidth:120},colorAdorment:{width:20,height:20}})),um=ut.c().shape({name:ut.d().min(3,"Mensagem muito curta").required("Obrigat\xf3rio")});var pm=e=>{let{open:a,onClose:t,tagId:o,kanban:r}=e;const i=mm(),{user:c}=Object(n.useContext)(la),[d,m]=Object(n.useState)(!1),u={name:"",color:function(){const e=Math.floor(256*Math.random()),a=Math.floor(256*Math.random()),t=Math.floor(256*Math.random());return"#".concat(e.toString(16).padStart(2,"0")).concat(a.toString(16).padStart(2,"0")).concat(t.toString(16).padStart(2,"0"))}(),kanban:r},[p,g]=Object(n.useState)(u);Object(n.useEffect)(()=>{try{(async()=>{if(!o)return;const{data:e}=await Ze.get("/tags/".concat(o));g(a=>({...a,...e}))})()}catch(e){Ke(e)}},[o,a]);const E=()=>{g(u),m(!1),t()};return l.a.createElement("div",{className:i.root},l.a.createElement(bt.a,{open:a,onClose:E,maxWidth:"xs",fullWidth:!0,scroll:"paper"},l.a.createElement(vt.a,{id:"form-dialog-title"},"".concat(o?0===r?Qe.a.t("tagModal.title.edit"):Qe.a.t("tagModal.title.editKanban"):0===r?Qe.a.t("tagModal.title.add"):Qe.a.t("tagModal.title.addKanban"))),l.a.createElement(pt.f,{initialValues:p,enableReinitialize:!0,validationSchema:um,onSubmit:(e,a)=>{setTimeout(()=>{(async e=>{const a={...e,userId:null===c||void 0===c?void 0:c.id,kanban:r};try{o?await Ze.put("/tags/".concat(o),a):await Ze.post("/tags",a),s.b.success("".concat(0===r?Qe.a.t("tagModal.success"):Qe.a.t("tagModal.successKanban")))}catch(t){Ke(t)}E()})(e),a.setSubmitting(!1)},400)}},e=>{let{touched:a,errors:t,isSubmitting:n,values:r}=e;return l.a.createElement(pt.e,null,l.a.createElement(ht.a,{dividers:!0},l.a.createElement("div",{className:i.multFieldLine},l.a.createElement(pt.c,{as:Et.a,label:Qe.a.t("tagModal.form.name"),name:"name",error:a.name&&Boolean(t.name),helperText:a.name&&t.name,variant:"outlined",margin:"dense",onChange:e=>g(a=>({...a,name:e.target.value})),fullWidth:!0})),l.a.createElement("br",null),l.a.createElement("div",{className:i.multFieldLine},l.a.createElement(pt.c,{as:Et.a,fullWidth:!0,label:Qe.a.t("tagModal.form.color"),name:"color",id:"color",error:a.color&&Boolean(t.color),helperText:a.color&&t.color,InputProps:{startAdornment:l.a.createElement(Yi.a,{position:"start"},l.a.createElement("div",{style:{backgroundColor:r.color},className:i.colorAdorment})),endAdornment:l.a.createElement(M.a,{size:"small",color:"default",onClick:()=>m(!d)},l.a.createElement(Jd.a,null))},variant:"outlined",margin:"dense"})),d&&l.a.createElement("div",null,l.a.createElement(dm.a,{disableAlpha:!0,hslGradient:!1,style:{margin:"20px auto 0"},value:p.color,onChange:e=>{g(a=>({...a,color:"#".concat(e.hex)}))}}))),l.a.createElement(ft.a,null,l.a.createElement(gt.a,{onClick:E,color:"secondary",disabled:n,variant:"outlined"},Qe.a.t("tagModal.buttons.cancel")),l.a.createElement(gt.a,{type:"submit",color:"primary",disabled:n,variant:"contained",className:i.btnWrapper},"".concat(o?Qe.a.t("tagModal.buttons.okEdit"):Qe.a.t("tagModal.buttons.okAdd")),n&&l.a.createElement(yt.a,{size:24,className:i.buttonProgress}))))})))};const gm=(e,a)=>{if("LOAD_TAGS"===a.type)return[...e,...a.payload];if("UPDATE_TAGS"===a.type){const t=a.payload,n=e.findIndex(e=>e.id===t.id);return-1!==n?(e[n]=t,[...e]):[t,...e]}if("DELETE_TAGS"===a.type){const t=a.payload;return e.filter(e=>e.id!==t)}return"RESET"===a.type?[]:void 0},Em=Object(x.a)(e=>({mainPaper:{flex:1,padding:e.spacing(1),overflowY:"scroll",...e.scrollbarStyles}}));var bm=()=>{const e=Em(),{user:a}=Object(n.useContext)(la),[t,o]=Object(n.useState)(!1),[r,i]=Object(n.useState)(1),[c,d]=Object(n.useState)(!1),[m,u]=Object(n.useState)(null),[p,g]=Object(n.useState)(null),[E,b]=Object(n.useState)(!1),[f,h]=Object(n.useState)(""),[v,y]=Object(n.useReducer)(gm,[]),[A,C]=Object(n.useState)(!1);Object(n.useRef)(1);Object(n.useEffect)(()=>{r>0&&(o(!0),(async()=>{try{const{data:e}=await Ze.get("/tags/",{params:{searchParam:f,pageNumber:r,kanban:0}});y({type:"LOAD_TAGS",payload:e.tags}),d(e.hasMore),o(!1)}catch(e){Ke(e)}})())},[f,r]),Object(n.useEffect)(()=>{const e=aa({companyId:a.companyId});return e.on("company".concat(a.companyId,"-tag"),e=>{"update"!==e.action&&"create"!==e.action||y({type:"UPDATE_TAGS",payload:e.tag}),"delete"===e.action&&y({type:"DELETE_TAGS",payload:+e.tagId})}),()=>{e.disconnect()}},[]);return l.a.createElement(bc,{className:e.mainContainer},l.a.createElement(wr,{title:p&&"".concat(Qe.a.t("tags.confirmationModal.deleteTitle")),open:E,onClose:b,onConfirm:()=>(async e=>{try{await Ze.delete("/tags/".concat(e)),s.b.success(Qe.a.t("tags.toasts.deleted"))}catch(a){Ke(a)}g(null),h(""),i(1)})(p.id)},Qe.a.t("tags.confirmationModal.deleteMessage")),l.a.createElement(pm,{open:A,onClose:()=>{u(null),C(!1)},"aria-labelledby":"form-dialog-title",tagId:m&&m.id,kanban:0}),l.a.createElement(hc,null,l.a.createElement(Ac,null,Qe.a.t("tags.title")," (",v.length,")"),l.a.createElement(yc,null,l.a.createElement(Et.a,{placeholder:Qe.a.t("contacts.searchPlaceholder"),type:"search",value:f,onChange:e=>{h(e.target.value.toLowerCase())},InputProps:{startAdornment:l.a.createElement(Yi.a,{position:"start"},l.a.createElement(gd.a,{style:{color:"gray"}}))}}),l.a.createElement(gt.a,{variant:"contained",color:"primary",onClick:()=>{u(null),C(!0)}},Qe.a.t("tags.buttons.add")))),l.a.createElement(St.a,{className:e.mainPaper,variant:"outlined",onScroll:e=>{if(!c||t)return;const{scrollTop:a,scrollHeight:n,clientHeight:l}=e.currentTarget;n-(a+100)<l&&i(e=>e+1)}},l.a.createElement(Rn.a,{size:"small"},l.a.createElement(Ln.a,null,l.a.createElement(qn.a,null,l.a.createElement(Dn.a,{align:"center"},Qe.a.t("tags.table.name")),l.a.createElement(Dn.a,{align:"center"},Qe.a.t("tags.table.contacts")),l.a.createElement(Dn.a,{align:"center"},Qe.a.t("tags.table.actions")))),l.a.createElement(Pn.a,null,l.a.createElement(l.a.Fragment,null,v.map(e=>{var a;return l.a.createElement(qn.a,{key:e.id},l.a.createElement(Dn.a,{align:"center"},l.a.createElement(Tt.a,{variant:"outlined",style:{backgroundColor:e.color,textShadow:"1px 1px 1px #000",color:"white"},label:e.name,size:"small"})),l.a.createElement(Dn.a,{align:"center"},null===e||void 0===e||null===(a=e.contactTags)||void 0===a?void 0:a.length),l.a.createElement(Dn.a,{align:"center"},l.a.createElement(M.a,{size:"small",onClick:()=>(e=>{u(e),C(!0)})(e)},l.a.createElement(bd.a,null)),l.a.createElement(M.a,{size:"small",onClick:a=>{b(!0),g(e)}},l.a.createElement(Yl.a,null))))}),t&&l.a.createElement(xc,{key:"skeleton",columns:3}))))))};const fm=Object(x.a)(e=>({mainPaper:{flex:1,padding:e.spacing(2),paddingBottom:100},mainHeader:{marginTop:e.spacing(1)},elementMargin:{padding:e.spacing(2)},formContainer:{maxWidth:500},textRight:{textAlign:"right"}}));var hm=()=>{const e=fm(),a=Object(f.useHistory)(),[t]=Object(n.useState)({token:"",number:"",body:"",userId:"",queueId:""}),[o]=Object(n.useState)({token:"",number:"",medias:"",body:"",userId:"",queueId:""}),[r,i]=Object(n.useState)({}),{user:c}=Object(n.useContext)(la),{getPlanCompany:d}=ua();Object(n.useEffect)(()=>{!async function(){const e=c.companyId;(await d(void 0,e)).plan.useExternalApi||(s.b.error("Esta empresa n\xe3o possui permiss\xe3o para acessar essa p\xe1gina! Estamos lhe redirecionando."),setTimeout(()=>{a.push("/")},1e3))}()},[]);return l.a.createElement(St.a,{className:e.mainPaper,style:{marginLeft:"5px"},variant:"outlined"},l.a.createElement(P.a,{variant:"h5"},Qe.a.t("messagesAPI.API.title")),l.a.createElement(P.a,{variant:"h6",color:"primary",className:e.elementMargin},Qe.a.t("messagesAPI.API.methods.title")),l.a.createElement(P.a,{component:"div"},l.a.createElement("ol",null,l.a.createElement("li",null,Qe.a.t("messagesAPI.API.methods.messagesText")),l.a.createElement("li",null,Qe.a.t("messagesAPI.API.methods.messagesMidia")))),l.a.createElement(P.a,{variant:"h6",color:"primary",className:e.elementMargin},Qe.a.t("messagesAPI.API.instructions.title")),l.a.createElement(P.a,{className:e.elementMargin,component:"div"},l.a.createElement("b",null,Qe.a.t("messagesAPI.API.instructions.comments")),l.a.createElement("br",null),l.a.createElement("ul",null,l.a.createElement("li",null,Qe.a.t("messagesAPI.API.instructions.comments1")),l.a.createElement("li",null,Qe.a.t("messagesAPI.API.instructions.comments2"),l.a.createElement("ul",null,l.a.createElement("li",null,Qe.a.t("messagesAPI.API.instructions.codeCountry")),l.a.createElement("li",null,Qe.a.t("messagesAPI.API.instructions.code")),l.a.createElement("li",null,Qe.a.t("messagesAPI.API.instructions.number")))))),l.a.createElement(P.a,{variant:"h6",color:"primary",className:e.elementMargin},Qe.a.t("messagesAPI.API.text.title")),l.a.createElement(it.a,{container:!0},l.a.createElement(it.a,{item:!0,xs:12,sm:6},l.a.createElement(P.a,{className:e.elementMargin,component:"div"},l.a.createElement("p",null,Qe.a.t("messagesAPI.API.text.instructions")),l.a.createElement("b",null,"Endpoint: ")," ","https://backend.bonigroup.com.br/api/messages/send"," ",l.a.createElement("br",null),l.a.createElement("b",null,"M\xe9todo: ")," POST ",l.a.createElement("br",null),l.a.createElement("b",null,"Headers: ")," Authorization Bearer (token registrado) e Content-Type (application/json) ",l.a.createElement("br",null),l.a.createElement("b",null,"Body: ")," ","{"," ",l.a.createElement("br",null),'"number": "558599999999" ',l.a.createElement("br",null),'"body": "Message" ',l.a.createElement("br",null),'"userId": ID usu\xe1rio ou "" ',l.a.createElement("br",null),'"queueId": ID Fila ou ""',l.a.createElement("br",null),'"sendSignature": Assinar mensagem - true/false ',l.a.createElement("br",null),'"closeTicket": Encerrar o ticket - true/false',l.a.createElement("br",null),"}")),l.a.createElement(it.a,{item:!0,xs:12,sm:6},l.a.createElement(P.a,{className:e.elementMargin},l.a.createElement("b",null,"Teste de Envio")),l.a.createElement(pt.f,{initialValues:t,enableReinitialize:!0,onSubmit:(e,a)=>{setTimeout(async()=>{await(async e=>{const{number:a,body:t,userId:n,queueId:l}=e,o={number:a,body:t,userId:n,queueId:l};try{await Ye.a.request({url:"https://backend.bonigroup.com.br/api/messages/send",method:"POST",data:o,headers:{"Content-type":"application/json",Authorization:"Bearer ".concat(e.token)}}),s.b.success("Mensagem enviada com sucesso")}catch(r){Ke(r)}})(e),a.setSubmitting(!1),a.resetForm()},400)},className:e.elementMargin},a=>{let{isSubmitting:t}=a;return l.a.createElement(pt.e,{className:e.formContainer},l.a.createElement(it.a,{container:!0,spacing:2},l.a.createElement(it.a,{item:!0,xs:12,md:6},l.a.createElement(pt.c,{as:Et.a,label:Qe.a.t("messagesAPI.textMessage.token"),name:"token",autoFocus:!0,variant:"outlined",margin:"dense",fullWidth:!0,className:e.textField,required:!0})),l.a.createElement(it.a,{item:!0,xs:12,md:6},l.a.createElement(pt.c,{as:Et.a,label:Qe.a.t("messagesAPI.textMessage.number"),name:"number",autoFocus:!0,variant:"outlined",margin:"dense",fullWidth:!0,className:e.textField,required:!0})),l.a.createElement(it.a,{item:!0,xs:12},l.a.createElement(pt.c,{as:Et.a,label:Qe.a.t("messagesAPI.textMessage.body"),name:"body",autoFocus:!0,variant:"outlined",margin:"dense",fullWidth:!0,className:e.textField,required:!0})),l.a.createElement(it.a,{item:!0,xs:12,md:6},l.a.createElement(pt.c,{as:Et.a,label:Qe.a.t("messagesAPI.textMessage.userId"),name:"userId",autoFocus:!0,variant:"outlined",margin:"dense",fullWidth:!0,className:e.textField})),l.a.createElement(it.a,{item:!0,xs:12,md:6},l.a.createElement(pt.c,{as:Et.a,label:Qe.a.t("messagesAPI.textMessage.queueId"),name:"queueId",autoFocus:!0,variant:"outlined",margin:"dense",fullWidth:!0,className:e.textField})),l.a.createElement(it.a,{item:!0,xs:12,className:e.textRight},l.a.createElement(gt.a,{type:"submit",color:"primary",variant:"contained",className:e.btnWrapper},t?l.a.createElement(yt.a,{size:24,className:e.buttonProgress}):"Enviar"))))}))),l.a.createElement(P.a,{variant:"h6",color:"primary",className:e.elementMargin},Qe.a.t("messagesAPI.API.media.title")),l.a.createElement(it.a,{container:!0},l.a.createElement(it.a,{item:!0,xs:12,sm:6},l.a.createElement(P.a,{className:e.elementMargin,component:"div"},l.a.createElement("p",null,Qe.a.t("messagesAPI.API.media.instructions")),l.a.createElement("b",null,"Endpoint: ")," ","https://backend.bonigroup.com.br/api/messages/send"," ",l.a.createElement("br",null),l.a.createElement("b",null,"M\xe9todo: ")," POST ",l.a.createElement("br",null),l.a.createElement("b",null,"Headers: ")," Authorization Bearer (token cadastrado) e Content-Type (multipart/form-data) ",l.a.createElement("br",null),l.a.createElement("b",null,"FormData: ")," ",l.a.createElement("br",null),l.a.createElement("ul",null,l.a.createElement("li",null,l.a.createElement("b",null,"number: ")," 558599999999"),l.a.createElement("li",null,l.a.createElement("b",null,"body:")," Message"),l.a.createElement("li",null,l.a.createElement("b",null,"userId:"),' ID usu\xe1rio ou ""'),l.a.createElement("li",null,l.a.createElement("b",null,"queueId:"),' ID da fila ou ""'),l.a.createElement("li",null,l.a.createElement("b",null,"medias: ")," arquivo"),l.a.createElement("li",null,l.a.createElement("b",null,"sendSignature:")," Assinar mensagem true/false"),l.a.createElement("li",null,l.a.createElement("b",null,"closeTicket:")," Encerrar ticket true/false")))),l.a.createElement(it.a,{item:!0,xs:12,sm:6},l.a.createElement(P.a,{className:e.elementMargin},l.a.createElement("b",null,"Teste de Envio")),l.a.createElement(pt.f,{initialValues:o,enableReinitialize:!0,onSubmit:(e,a)=>{setTimeout(async()=>{await(async e=>{try{const a=r[0],t=new FormData;t.append("number",e.number),t.append("body",e.body?e.body:a.name),t.append("userId",e.userId),t.append("queueId",e.queueId),t.append("medias",a),await Ye.a.request({url:"https://backend.bonigroup.com.br/api/messages/send",method:"POST",data:t,headers:{"Content-type":"multipart/form-data",Authorization:"Bearer ".concat(e.token)}}),s.b.success("Mensagem enviada com sucesso")}catch(a){Ke(a)}})(e),a.setSubmitting(!1),a.resetForm(),document.getElementById("medias").files=null,document.getElementById("medias").value=null},400)},className:e.elementMargin},a=>{let{isSubmitting:t}=a;return l.a.createElement(pt.e,{className:e.formContainer},l.a.createElement(it.a,{container:!0,spacing:2},l.a.createElement(it.a,{item:!0,xs:12,md:6},l.a.createElement(pt.c,{as:Et.a,label:Qe.a.t("messagesAPI.mediaMessage.token"),name:"token",autoFocus:!0,variant:"outlined",margin:"dense",fullWidth:!0,className:e.textField,required:!0})),l.a.createElement(it.a,{item:!0,xs:12,md:6},l.a.createElement(pt.c,{as:Et.a,label:Qe.a.t("messagesAPI.mediaMessage.number"),name:"number",autoFocus:!0,variant:"outlined",margin:"dense",fullWidth:!0,className:e.textField,required:!0})),l.a.createElement(it.a,{item:!0,xs:12},l.a.createElement(pt.c,{as:Et.a,label:Qe.a.t("messagesAPI.textMessage.body"),name:"body",autoFocus:!0,variant:"outlined",margin:"dense",fullWidth:!0,className:e.textField})),l.a.createElement(it.a,{item:!0,xs:12,md:6},l.a.createElement(pt.c,{as:Et.a,label:Qe.a.t("messagesAPI.textMessage.userId"),name:"userId",autoFocus:!0,variant:"outlined",margin:"dense",fullWidth:!0,className:e.textField})),l.a.createElement(it.a,{item:!0,xs:12,md:6},l.a.createElement(pt.c,{as:Et.a,label:Qe.a.t("messagesAPI.textMessage.queueId"),name:"queueId",autoFocus:!0,variant:"outlined",margin:"dense",fullWidth:!0,className:e.textField})),l.a.createElement(it.a,{item:!0,xs:12},l.a.createElement("input",{type:"file",name:"medias",id:"medias",required:!0,onChange:e=>i(e.target.files)})),l.a.createElement(it.a,{item:!0,xs:12,className:e.textRight},l.a.createElement(gt.a,{type:"submit",color:"primary",variant:"contained",className:e.btnWrapper},t?l.a.createElement(yt.a,{size:24,className:e.buttonProgress}):"Enviar"))))}))))},vm=t(580);const ym=Object(x.a)(e=>({mainPaperContainer:{overflowY:"auto",maxHeight:"calc(100vh - 200px)"},mainPaper:{width:"100%",display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(320px, 1fr))",gap:e.spacing(3),padding:e.spacing(2),marginBottom:e.spacing(3)},helpPaper:{position:"relative",width:"100%",minHeight:"340px",padding:e.spacing(2),boxShadow:e.shadows[3],borderRadius:e.spacing(1),cursor:"pointer",display:"flex",flexDirection:"column",justifyContent:"space-between",maxWidth:"340px"},paperHover:{transition:"transform 0.3s, box-shadow 0.3s","&:hover":{transform:"scale(1.03)",boxShadow:"0 0 8px",color:e.palette.primary.main}},videoThumbnail:{width:"100%",height:"calc(100% - 56px)",objectFit:"cover",borderRadius:"".concat(e.spacing(1),"px ").concat(e.spacing(1),"px 0 0")},videoTitle:{marginTop:e.spacing(1),flex:1},videoDescription:{maxHeight:"100px",overflow:"hidden"},videoModal:{display:"flex",alignItems:"center",justifyContent:"center"},videoModalContent:{outline:"none",width:"90%",maxWidth:1024,aspectRatio:"16/9",position:"relative",backgroundColor:"white",borderRadius:e.spacing(1),overflow:"hidden"}}));var Am=()=>{const e=ym(),[a,t]=Object(n.useState)([]),{list:o}=ad(),[r,s]=Object(n.useState)(null);Object(n.useEffect)(()=>{!async function(){const e=await o();t(e)}()},[]);const i=()=>{s(null)},c=Object(n.useCallback)(e=>{"Escape"===e.key&&i()},[]);Object(n.useEffect)(()=>(document.addEventListener("keydown",c),()=>{document.removeEventListener("keydown",c)}),[c]);return l.a.createElement(bc,null,l.a.createElement(hc,null,l.a.createElement(Ac,null,Qe.a.t("helps.title")," (",a.length,")"),l.a.createElement(yc,null)),l.a.createElement("div",{className:e.mainPaper},l.a.createElement(l.a.Fragment,null,l.a.createElement("div",{className:"".concat(e.mainPaper," ").concat(e.mainPaperContainer)},a.length?a.map((a,t)=>l.a.createElement(St.a,{key:t,className:"".concat(e.helpPaper," ").concat(e.paperHover),onClick:()=>{return e=a.video,void s(e);var e}},l.a.createElement("img",{src:"https://img.youtube.com/vi/".concat(a.video,"/mqdefault.jpg"),alt:"Thumbnail",className:e.videoThumbnail}),l.a.createElement(P.a,{variant:"button",className:e.videoTitle},a.title),l.a.createElement(P.a,{variant:"caption",className:e.videoDescription},a.description))):null))),l.a.createElement(vm.a,{open:Boolean(r),onClose:i,className:e.videoModal},l.a.createElement("div",{className:e.videoModalContent},r&&l.a.createElement("iframe",{style:{width:"100%",height:"100%",position:"absolute",top:0,left:0},src:"https://www.youtube.com/embed/".concat(r),title:"YouTube video player",frameBorder:"0",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture",allowFullScreen:!0}))))},Cm=t(1049),xm=t.n(Cm);const Tm=Object(x.a)(e=>({root:{display:"flex",flexWrap:"wrap"},multFieldLine:{display:"flex","& > *:not(:last-child)":{marginRight:e.spacing(1)}},btnWrapper:{position:"relative"},buttonProgress:{color:Sa.a[500],position:"absolute",top:"50%",left:"50%",marginTop:-12,marginLeft:-12},formControl:{margin:e.spacing(1),minWidth:120}})),Om=ut.c().shape({name:ut.d().min(2,"Too Short!").max(50,"Too Long!").required("Required")});var km=e=>{let{open:a,onClose:t,contactListId:o}=e;const r=Tm(),i={name:""},[c,d]=Object(n.useState)(i);Object(n.useEffect)(()=>{(async()=>{if(o)try{const{data:e}=await Ze.get("/contact-lists/".concat(o));d(a=>({...a,...e}))}catch(e){Ke(e)}})()},[o,a]);const m=()=>{t(),d(i)};return l.a.createElement("div",{className:r.root},l.a.createElement(bt.a,{open:a,onClose:m,maxWidth:"xs",fullWidth:!0,scroll:"paper"},l.a.createElement(vt.a,{id:"form-dialog-title"},"".concat(o?Qe.a.t("contactLists.dialog.edit"):Qe.a.t("contactLists.dialog.add"))),l.a.createElement(pt.f,{initialValues:c,enableReinitialize:!0,validationSchema:Om,onSubmit:(e,a)=>{setTimeout(()=>{(async e=>{const a={...e};try{o?await Ze.put("/contact-lists/".concat(o),a):await Ze.post("/contact-lists",a),s.b.success(Qe.a.t("contactList.dialog"))}catch(t){Ke(t)}m()})(e),a.setSubmitting(!1)},400)}},e=>{let{touched:a,errors:t,isSubmitting:n}=e;return l.a.createElement(pt.e,null,l.a.createElement(ht.a,{dividers:!0},l.a.createElement("div",{className:r.multFieldLine},l.a.createElement(pt.c,{as:Et.a,label:Qe.a.t("contactLists.dialog.name"),autoFocus:!0,name:"name",error:a.name&&Boolean(t.name),helperText:a.name&&t.name,variant:"outlined",margin:"dense",fullWidth:!0}))),l.a.createElement(ft.a,null,l.a.createElement(gt.a,{onClick:m,color:"secondary",disabled:n,variant:"outlined"},Qe.a.t("contactLists.dialog.cancel")),l.a.createElement(gt.a,{type:"submit",color:"primary",disabled:n,variant:"contained",className:r.btnWrapper},"".concat(o?Qe.a.t("contactLists.dialog.okEdit"):Qe.a.t("contactLists.dialog.okAdd")),n&&l.a.createElement(yt.a,{size:24,className:r.buttonProgress}))))})))},Sm=t(563),wm=t.n(Sm);const Mm=(e,a)=>{if("LOAD_CONTACTLISTS"===a.type){const t=a.payload,n=[];return t.forEach(a=>{const t=e.findIndex(e=>e.id===a.id);-1!==t?e[t]=a:n.push(a)}),[...e,...n]}if("UPDATE_CONTACTLIST"===a.type){const t=a.payload,n=e.findIndex(e=>e.id===t.id);return-1!==n?(e[n]=t,[...e]):[t,...e]}if("DELETE_CONTACTLIST"===a.type){const t=a.payload,n=e.findIndex(e=>e.id===t);return-1!==n&&e.splice(n,1),[...e]}if("RESET"===a.type)return[]},Im=Object(x.a)(e=>({mainPaper:{flex:1,padding:e.spacing(1),overflowY:"scroll",...e.scrollbarStyles}}));var jm=()=>{const e=Im(),a=Object(f.useHistory)(),[t,o]=Object(n.useState)(!1),[r,i]=Object(n.useState)(1),[c,d]=Object(n.useState)(!1),[m,u]=Object(n.useState)(null),[p,g]=Object(n.useState)(null),[E,b]=Object(n.useState)(!1),[h,v]=Object(n.useState)(!1),[y,A]=Object(n.useState)(""),[C,x]=Object(n.useReducer)(Mm,[]),{user:T}=Object(n.useContext)(la);Object(n.useEffect)(()=>{x({type:"RESET"}),i(1)},[y]),Object(n.useEffect)(()=>{o(!0);const e=setTimeout(()=>{(async()=>{try{const{data:e}=await Ze.get("/contact-lists/",{params:{searchParam:y,pageNumber:r}});x({type:"LOAD_CONTACTLISTS",payload:e.records}),d(e.hasMore),o(!1)}catch(e){Ke(e)}})()},500);return()=>clearTimeout(e)},[y,r]),Object(n.useEffect)(()=>{const e=T.companyId,a=aa({companyId:e,userId:T.id});return a.on("company-".concat(e,"-ContactList"),e=>{"update"!==e.action&&"create"!==e.action||x({type:"UPDATE_CONTACTLIST",payload:e.record}),"delete"===e.action&&x({type:"DELETE_CONTACTLIST",payload:+e.id})}),()=>{a.disconnect()}},[]);return l.a.createElement(bc,null,l.a.createElement(wr,{title:p&&"".concat(Qe.a.t("contactLists.confirmationModal.deleteTitle")," ").concat(p.name,"?"),open:h,onClose:v,onConfirm:()=>(async e=>{try{await Ze.delete("/contact-lists/".concat(e)),s.b.success(Qe.a.t("contactLists.toasts.deleted"))}catch(a){Ke(a)}g(null),A(""),i(1)})(p.id)},Qe.a.t("contactLists.confirmationModal.deleteMessage")),l.a.createElement(km,{open:E,onClose:()=>{u(null),b(!1)},"aria-labelledby":"form-dialog-title",contactListId:m&&m.id}),l.a.createElement(hc,null,l.a.createElement(it.a,{style:{width:"99.6%"},container:!0},l.a.createElement(it.a,{xs:12,sm:8,item:!0},l.a.createElement(Ac,null,Qe.a.t("contactLists.title"))),l.a.createElement(it.a,{xs:12,sm:4,item:!0},l.a.createElement(it.a,{spacing:2,container:!0},l.a.createElement(it.a,{xs:7,sm:6,item:!0},l.a.createElement(Et.a,{fullWidth:!0,placeholder:Qe.a.t("contacts.searchPlaceholder"),type:"search",value:y,onChange:e=>{A(e.target.value.toLowerCase())},InputProps:{startAdornment:l.a.createElement(Yi.a,{position:"start"},l.a.createElement(gd.a,{style:{color:"gray"}}))}})),l.a.createElement(it.a,{xs:5,sm:6,item:!0},l.a.createElement(gt.a,{fullWidth:!0,variant:"contained",color:"primary",onClick:()=>{u(null),b(!0)}},Qe.a.t("contactLists.buttons.add"))))))),l.a.createElement(St.a,{className:e.mainPaper,variant:"outlined",onScroll:e=>{if(!c||t)return;const{scrollTop:a,scrollHeight:n,clientHeight:l}=e.currentTarget;n-(a+100)<l&&i(e=>e+1)}},l.a.createElement(Rn.a,{size:"small"},l.a.createElement(Ln.a,null,l.a.createElement(qn.a,null,l.a.createElement(Dn.a,{align:"center"},Qe.a.t("contactLists.table.name")),l.a.createElement(Dn.a,{align:"center"},Qe.a.t("contactLists.table.contacts")),l.a.createElement(Dn.a,{align:"center"},Qe.a.t("contactLists.table.actions")))),l.a.createElement(Pn.a,null,l.a.createElement(l.a.Fragment,null,C.map(e=>l.a.createElement(qn.a,{key:e.id},l.a.createElement(Dn.a,{align:"center"},e.name),l.a.createElement(Dn.a,{align:"center"},e.contactsCount||0),l.a.createElement(Dn.a,{align:"center"},l.a.createElement("a",{href:wm.a,download:"planilha.xlsx"},l.a.createElement(M.a,{size:"small",title:"Baixar Planilha Exemplo"},l.a.createElement(xm.a,null))),l.a.createElement(M.a,{size:"small",onClick:()=>{return t=e.id,void a.push("/contact-lists/".concat(t,"/contacts"));var t}},l.a.createElement(Me.a,null)),l.a.createElement(M.a,{size:"small",onClick:()=>(e=>{u(e),b(!0)})(e)},l.a.createElement(bd.a,null)),l.a.createElement(M.a,{size:"small",onClick:a=>{v(!0),g(e)}},l.a.createElement(Yl.a,null))))),t&&l.a.createElement(xc,{columns:3}))))))};const Nm=Object(x.a)(e=>({root:{display:"flex",flexWrap:"wrap"},textField:{marginRight:e.spacing(1),flex:1},extraAttr:{display:"flex",justifyContent:"center",alignItems:"center"},btnWrapper:{position:"relative"},buttonProgress:{color:Sa.a[500],position:"absolute",top:"50%",left:"50%",marginTop:-12,marginLeft:-12}})),Rm=ut.c().shape({name:ut.d().min(2,"Too Short!").max(50,"Too Long!").required("Required"),number:ut.d().min(8,"Too Short!").max(50,"Too Long!"),email:ut.d().email("Invalid email")});var Pm=e=>{let{open:a,onClose:t,contactId:o,initialValues:r,onSave:i}=e;const c=Nm(),d=Object(n.useRef)(!0),{user:{companyId:m}}=Object(n.useContext)(la),{contactListId:u}=Object(f.useParams)(),p={name:"",number:"",email:""},[g,E]=Object(n.useState)(p);Object(n.useEffect)(()=>()=>{d.current=!1},[]),Object(n.useEffect)(()=>{(async()=>{if(r&&E(e=>({...e,...r})),o)try{const{data:e}=await Ze.get("/contact-list-items/".concat(o));d.current&&E(e)}catch(e){Ke(e)}})()},[o,a,r]);const b=()=>{t(),E(p)};return l.a.createElement("div",{className:c.root},l.a.createElement(bt.a,{open:a,onClose:b,maxWidth:"lg",scroll:"paper"},l.a.createElement(vt.a,{id:"form-dialog-title"},"".concat(o?Qe.a.t("contactModal.title.edit"):Qe.a.t("contactModal.title.add"))),l.a.createElement(pt.f,{initialValues:g,enableReinitialize:!0,validationSchema:Rm,onSubmit:(e,a)=>{setTimeout(()=>{(async e=>{try{if(o)await Ze.put("/contact-list-items/".concat(o),{...e,companyId:m,contactListId:u}),b();else{const{data:a}=await Ze.post("/contact-list-items",{...e,companyId:m,contactListId:u});i&&i(a),b()}s.b.success(Qe.a.t("contactModal.success"))}catch(a){Ke(a)}})(e),a.setSubmitting(!1)},400)}},e=>{let{values:a,errors:t,touched:n,isSubmitting:r}=e;return l.a.createElement(pt.e,null,l.a.createElement(ht.a,{dividers:!0},l.a.createElement(P.a,{variant:"subtitle1",gutterBottom:!0},Qe.a.t("contactModal.form.mainInfo")),l.a.createElement(pt.c,{as:Et.a,label:Qe.a.t("contactModal.form.name"),name:"name",autoFocus:!0,error:n.name&&Boolean(t.name),helperText:n.name&&t.name,variant:"outlined",margin:"dense",className:c.textField}),l.a.createElement(pt.c,{as:Et.a,label:Qe.a.t("contactModal.form.number"),name:"number",error:n.number&&Boolean(t.number),helperText:n.number&&t.number,placeholder:"5513912344321",variant:"outlined",margin:"dense"}),l.a.createElement("div",null,l.a.createElement(pt.c,{as:Et.a,label:Qe.a.t("contactModal.form.email"),name:"email",error:n.email&&Boolean(t.email),helperText:n.email&&t.email,placeholder:"Email address",fullWidth:!0,margin:"dense",variant:"outlined"}))),l.a.createElement(ft.a,null,l.a.createElement(gt.a,{onClick:b,color:"secondary",disabled:r,variant:"outlined"},Qe.a.t("contactModal.buttons.cancel")),l.a.createElement(gt.a,{type:"submit",color:"primary",disabled:r,variant:"contained",className:c.btnWrapper},"".concat(o?Qe.a.t("contactModal.buttons.okEdit"):Qe.a.t("contactModal.buttons.okAdd")),r&&l.a.createElement(yt.a,{size:24,className:c.buttonProgress}))))})))};var Dm=()=>({findById:async e=>{const{data:a}=await Ze.request({url:"/contact-lists/".concat(e),method:"GET"});return a},save:async e=>{const{data:a}=await Ze.request({url:"/contact-lists",method:"POST",data:e});return a},update:async e=>{const{data:a}=await Ze.request({url:"/contact-lists/".concat(e.id),method:"PUT",data:e});return a},deleteRecord:async e=>{const{data:a}=await Ze.request({url:"/contact-lists/".concat(e),method:"DELETE"});return a},list:async e=>{const{data:a}=await Ze.request({url:"/contact-lists/list",method:"GET",params:e});return a}});const Fm=(e,a)=>{if("LOAD_CONTACTS"===a.type){const t=a.payload,n=[];return t.forEach(a=>{const t=e.findIndex(e=>e.id===a.id);-1!==t?e[t]=a:n.push(a)}),[...e,...n]}if("UPDATE_CONTACTS"===a.type){const t=a.payload,n=e.findIndex(e=>e.id===t.id);return-1!==n?(e[n]=t,[...e]):[t,...e]}if("DELETE_CONTACT"===a.type){const t=a.payload,n=e.findIndex(e=>e.id===t);return-1!==n&&e.splice(n,1),[...e]}if("RESET"===a.type)return[]},Lm=Object(x.a)(e=>({mainPaper:{flex:1,padding:e.spacing(1),overflowY:"scroll",...e.scrollbarStyles}}));var qm=()=>{const e=Lm(),{user:a}=Object(n.useContext)(la),{contactListId:t}=Object(f.useParams)(),o=Object(f.useHistory)(),[r,i]=Object(n.useState)(!1),[c,d]=Object(n.useState)(1),[m,u]=Object(n.useState)(""),[p,g]=Object(n.useReducer)(Fm,[]),[E,b]=Object(n.useState)(null),[h,v]=Object(n.useState)(!1),[y,A]=Object(n.useState)(null),[C,x]=Object(n.useState)(!1),[T,O]=Object(n.useState)(!1),[k,S]=Object(n.useState)({}),w=Object(n.useRef)(null),{findById:I}=Dm();Object(n.useEffect)(()=>{I(t).then(e=>{S(e)})},[t]),Object(n.useEffect)(()=>{g({type:"RESET"}),d(1)},[m]),Object(n.useEffect)(()=>{i(!0);const e=setTimeout(()=>{(async()=>{try{const{data:e}=await Ze.get("contact-list-items",{params:{searchParam:m,pageNumber:c,contactListId:t}});g({type:"LOAD_CONTACTS",payload:e.contacts}),O(e.hasMore),i(!1)}catch(e){Ke(e)}})()},500);return()=>clearTimeout(e)},[m,c,t]),Object(n.useEffect)(()=>{const e=a.companyId,n=aa({companyId:e,userId:a.id});return n.on("company-".concat(e,"-ContactListItem"),e=>{"update"!==e.action&&"create"!==e.action||g({type:"UPDATE_CONTACTS",payload:e.record}),"delete"===e.action&&g({type:"DELETE_CONTACT",payload:+e.id}),"reload"===e.action&&g({type:"LOAD_CONTACTS",payload:e.records})}),n.on("company-".concat(e,"-ContactListItem-").concat(t),e=>{"reload"===e.action&&g({type:"LOAD_CONTACTS",payload:e.records})}),()=>{n.disconnect()}},[t]);return l.a.createElement(bc,{className:e.mainContainer},l.a.createElement(Pm,{open:h,onClose:()=>{b(null),v(!1)},"aria-labelledby":"form-dialog-title",contactId:E}),l.a.createElement(wr,{title:y?"".concat(Qe.a.t("contactListItems.confirmationModal.deleteTitle")," ").concat(y.name,"?"):"".concat(Qe.a.t("contactListItems.confirmationModal.importTitlte")),open:C,onClose:x,onConfirm:()=>y?(async e=>{try{await Ze.delete("/contact-list-items/".concat(e)),s.b.success(Qe.a.t("contacts.toasts.deleted"))}catch(a){Ke(a)}A(null),u(""),d(1)})(y.id):(async()=>{try{const e=new FormData;e.append("file",w.current.files[0]),await Ze.request({url:"contact-lists/".concat(t,"/upload"),method:"POST",data:e})}catch(e){Ke(e)}})()},y?"".concat(Qe.a.t("contactListItems.confirmationModal.deleteMessage")):l.a.createElement(l.a.Fragment,null,Qe.a.t("contactListItems.confirmationModal.importMessage"),l.a.createElement("a",{href:wm.a,download:"planilha.xlsx"},"Clique aqui para baixar planilha exemplo."))),l.a.createElement(hc,null,l.a.createElement(it.a,{style:{width:"99.6%"},container:!0},l.a.createElement(it.a,{xs:12,sm:5,item:!0},l.a.createElement(Ac,null,k.name)),l.a.createElement(it.a,{xs:12,sm:7,item:!0},l.a.createElement(it.a,{spacing:2,container:!0},l.a.createElement(it.a,{xs:12,sm:6,item:!0},l.a.createElement(Et.a,{fullWidth:!0,placeholder:Qe.a.t("contactListItems.searchPlaceholder"),type:"search",value:m,onChange:e=>{u(e.target.value.toLowerCase())},InputProps:{startAdornment:l.a.createElement(Yi.a,{position:"start"},l.a.createElement(gd.a,{style:{color:"gray"}}))}})),l.a.createElement(it.a,{xs:4,sm:2,item:!0},l.a.createElement(gt.a,{fullWidth:!0,variant:"contained",color:"primary",onClick:()=>{o.push("/contact-lists")}},Qe.a.t("contactListItems.buttons.lists"))),l.a.createElement(it.a,{xs:4,sm:2,item:!0},l.a.createElement(gt.a,{fullWidth:!0,variant:"contained",color:"primary",onClick:()=>{w.current.value=null,w.current.click()}},Qe.a.t("contactListItems.buttons.import"))),l.a.createElement(it.a,{xs:4,sm:2,item:!0},l.a.createElement(gt.a,{fullWidth:!0,variant:"contained",color:"primary",onClick:()=>{b(null),v(!0)}},Qe.a.t("contactListItems.buttons.add"))))))),l.a.createElement(St.a,{className:e.mainPaper,variant:"outlined",onScroll:e=>{if(!T||r)return;const{scrollTop:a,scrollHeight:t,clientHeight:n}=e.currentTarget;t-(a+100)<n&&d(e=>e+1)}},l.a.createElement(l.a.Fragment,null,l.a.createElement("input",{style:{display:"none"},id:"upload",name:"file",type:"file",accept:".xls,.xlsx",onChange:()=>{x(!0)},ref:w})),l.a.createElement(Rn.a,{size:"small"},l.a.createElement(Ln.a,null,l.a.createElement(qn.a,null,l.a.createElement(Dn.a,{align:"center",style:{width:"0%"}},"#"),l.a.createElement(Dn.a,null,Qe.a.t("contactListItems.table.name")),l.a.createElement(Dn.a,{align:"center"},Qe.a.t("contactListItems.table.number")),l.a.createElement(Dn.a,{align:"center"},Qe.a.t("contactListItems.table.email")),l.a.createElement(Dn.a,{align:"center"},Qe.a.t("contactListItems.table.actions")))),l.a.createElement(Pn.a,null,l.a.createElement(l.a.Fragment,null,p.map(e=>l.a.createElement(qn.a,{key:e.id},l.a.createElement(Dn.a,{align:"center",style:{width:"0%"}},l.a.createElement(M.a,null,e.isWhatsappValid?l.a.createElement(Na.a,{titleAccess:"Whatsapp V\xe1lido",htmlColor:"green"}):l.a.createElement(Od.a,{titleAccess:"Whatsapp Inv\xe1lido",htmlColor:"grey"}))),l.a.createElement(Dn.a,null,e.name),l.a.createElement(Dn.a,{align:"center"},e.number),l.a.createElement(Dn.a,{align:"center"},e.email),l.a.createElement(Dn.a,{align:"center"},l.a.createElement(M.a,{size:"small",onClick:()=>{return a=e.id,b(a),void v(!0);var a}},l.a.createElement(bd.a,null)),l.a.createElement(ma,{role:a.profile,perform:"contacts-page:deleteContact",yes:()=>l.a.createElement(M.a,{size:"small",onClick:()=>{x(!0),A(e)}},l.a.createElement(Yl.a,null))})))),r&&l.a.createElement(xc,{columns:4}))))))};const Wm=Object(x.a)(e=>({root:{display:"flex",flexWrap:"wrap"},multFieldLine:{display:"flex","& > *:not(:last-child)":{marginRight:e.spacing(1)}},btnWrapper:{position:"relative"},buttonProgress:{color:Sa.a[500],position:"absolute",top:"50%",left:"50%",marginTop:-12,marginLeft:-12},formControl:{margin:e.spacing(1),minWidth:120}})),Bm=ut.c().shape({name:ut.d().min(2,"Too Short!").max(50,"Too Long!").required("Nome \xe9 obrigat\xf3rio"),email:ut.d().email("Email \xe9 inv\xe1lido").required("E-mail \xe9 obrigat\xf3rio"),numberAttendants:ut.b(),numberConections:ut.b()});var zm=e=>{let{open:a,onClose:t,companyId:o}=e;const r=Wm(),i={name:"",email:"",passwordDefault:"",numberAttendants:1,numberConections:1,status:!1},[c,d]=Object(n.useState)(i),[m,u]=Object(n.useState)(!1);Object(n.useEffect)(()=>{(async()=>{if(o)try{const{data:e}=await Ze.get("/companies/listPlan/".concat(o));d(a=>({...a,...e}))}catch(e){Ke(e)}})()},[o,a]);const p=()=>{t(),d(i)};return l.a.createElement("div",{className:r.root},l.a.createElement(bt.a,{open:a,onClose:p,maxWidth:"xs",fullWidth:!0,scroll:"paper"},l.a.createElement(vt.a,{id:"form-dialog-title"},"".concat(o?Qe.a.t("companyModal.title.edit"):Qe.a.t("companyModal.title.add"))),l.a.createElement(pt.f,{initialValues:c,enableReinitialize:!0,validationSchema:Bm,onSubmit:(e,a)=>{setTimeout(()=>{(async e=>{const a={...e};try{o?await Ze.put("/companies/".concat(o),a):await Ze.post("/companies",a),s.b.success(Qe.a.t("companyModal.success"))}catch(t){Ke(t)}p()})(e),a.setSubmitting(!1)},400)}},e=>{let{values:a,touched:t,errors:n,isSubmitting:s}=e;return l.a.createElement(pt.e,null,l.a.createElement(ht.a,{dividers:!0},l.a.createElement("div",{className:r.multFieldLine},l.a.createElement(pt.c,{as:Et.a,label:Qe.a.t("companyModal.form.name"),autoFocus:!0,name:"name",error:t.name&&Boolean(n.name),helperText:t.name&&n.name,variant:"outlined",margin:"dense",fullWidth:!0})),l.a.createElement("div",{className:r.multFieldLine},l.a.createElement(ii.a,{control:l.a.createElement(pt.c,{as:Xl.a,color:"primary",name:"status",checked:a.status}),label:"Ativo"})),l.a.createElement("div",{className:r.multFieldLine},l.a.createElement(pt.c,{as:Et.a,label:Qe.a.t("companyModal.form.email"),name:"email",error:t.email&&Boolean(n.email),helperText:t.email&&n.email,variant:"outlined",margin:"dense",fullWidth:!0})),l.a.createElement("div",{className:r.multFieldLine},l.a.createElement(pt.c,{as:Et.a,name:"passwordDefault",variant:"outlined",margin:"dense",label:Qe.a.t("companyModal.form.passwordDefault"),error:t.passwordDefault&&Boolean(n.passwordDefault),helperText:t.passwordDefault&&n.passwordDefault,type:m?"text":"password",InputProps:{endAdornment:l.a.createElement(Yi.a,{position:"end"},l.a.createElement(M.a,{"aria-label":"toggle password visibility",onClick:()=>u(e=>!e)},m?l.a.createElement(Xi.a,null):l.a.createElement(Ji.a,null)))},fullWidth:!0}))),l.a.createElement(ft.a,null,l.a.createElement(gt.a,{onClick:p,color:"secondary",disabled:s,variant:"outlined"},Qe.a.t("companyModal.buttons.cancel")),l.a.createElement(gt.a,{type:"submit",color:"primary",disabled:s,variant:"contained",className:r.btnWrapper},"".concat(o?Qe.a.t("companyModal.buttons.okEdit"):Qe.a.t("companyModal.buttons.okAdd")),s&&l.a.createElement(yt.a,{size:24,className:r.buttonProgress}))))})))};const Hm=(e,a)=>{if("LOAD_COMPANIES"===a.type){const t=a.payload,n=[];return t.forEach(a=>{const t=e.findIndex(e=>e.id===a.id);-1!==t?e[t]=a:n.push(a)}),[...e,...n]}if("UPDATE_COMPANIES"===a.type){const t=a.payload,n=e.findIndex(e=>e.id===t.id);return-1!==n?(e[n]=t,[...e]):[t,...e]}if("DELETE_COMPANIES"===a.type){const t=a.payload,n=e.findIndex(e=>e.id===t);return-1!==n&&e.splice(n,1),[...e]}if("RESET"===a.type)return[]},Um=Object(x.a)(e=>({mainPaper:{flex:1,padding:e.spacing(1),overflowY:"scroll",...e.scrollbarStyles}}));var Qm=()=>{const e=Um(),a=Object(f.useHistory)(),[t,o]=Object(n.useState)(!1),[r,i]=Object(n.useState)(1),[c,d]=Object(n.useState)(!1),[m,u]=Object(n.useState)(null),[p,g]=Object(n.useState)(null),[E,b]=Object(n.useState)(!1),[h,v]=Object(n.useState)(!1),[A,C]=Object(n.useState)(""),[x,T]=Object(n.useReducer)(Hm,[]),{dateToClient:O,datetimeToClient:k}=ta(),{user:S}=Object(n.useContext)(la);Object(n.useEffect)(()=>{!async function(){S.super||(s.b.error("Esta empresa n\xe3o possui permiss\xe3o para acessar essa p\xe1gina! Estamos lhe redirecionando."),setTimeout(()=>{a.push("/")},1e3))}()},[]),Object(n.useEffect)(()=>{T({type:"RESET"}),i(1)},[A]),Object(n.useEffect)(()=>{o(!0);const e=setTimeout(()=>{(async()=>{try{const{data:e}=await Ze.get("/companiesPlan/",{params:{searchParam:A,pageNumber:r}});T({type:"LOAD_COMPANIES",payload:e.companies}),d(e.hasMore),o(!1)}catch(e){Ke(e)}})()},500);return()=>clearTimeout(e)},[A,r]),Object(n.useEffect)(()=>{const e=aa({companyId:S.companyId,userId:S.id});return()=>{e.disconnect()}},[]);const w=e=>{if(y()(e.dueDate).isValid()){const a=y()(),t=y()(e.dueDate).diff(a,"days");if(t>=1&&t<=5)return{backgroundColor:"#fffead"};if(t<=0)return{backgroundColor:"#fa8c8c"}}return{}};return l.a.createElement(bc,null,l.a.createElement(wr,{title:p&&"".concat(Qe.a.t("compaies.confirmationModal.deleteTitle")," ").concat(p.name,"?"),open:h,onClose:v,onConfirm:()=>(async e=>{try{await Ze.delete("/companies/".concat(e)),s.b.success(Qe.a.t("compaies.toasts.deleted"))}catch(a){Ke(a)}g(null),C(""),i(1)})(p.id)},Qe.a.t("compaies.confirmationModal.deleteMessage")),l.a.createElement(zm,{open:E,onClose:()=>{u(null),b(!1)},"aria-labelledby":"form-dialog-title",companyId:m&&m.id}),l.a.createElement(hc,null,l.a.createElement(Ac,null,Qe.a.t("compaies.title")," (",x.length,")")),l.a.createElement(St.a,{className:e.mainPaper,variant:"outlined",onScroll:e=>{if(!c||t)return;const{scrollTop:a,scrollHeight:n,clientHeight:l}=e.currentTarget;n-(a+100)<l&&i(e=>e+1)}},l.a.createElement(Rn.a,{size:"small"},l.a.createElement(Ln.a,null,l.a.createElement(qn.a,null,l.a.createElement(Dn.a,{align:"center"},Qe.a.t("compaies.table.ID")),l.a.createElement(Dn.a,{align:"center"},Qe.a.t("compaies.table.status")),l.a.createElement(Dn.a,{align:"center"},Qe.a.t("compaies.table.name")),l.a.createElement(Dn.a,{align:"center"},Qe.a.t("compaies.table.email")),l.a.createElement(Dn.a,{align:"center"},Qe.a.t("compaies.table.namePlan")),l.a.createElement(Dn.a,{align:"center"},Qe.a.t("compaies.table.value")),l.a.createElement(Dn.a,{align:"center"},Qe.a.t("compaies.table.createdAt")),l.a.createElement(Dn.a,{align:"center"},Qe.a.t("compaies.table.dueDate")),l.a.createElement(Dn.a,{align:"center"},Qe.a.t("compaies.table.lastLogin")))),l.a.createElement(Pn.a,null,l.a.createElement(l.a.Fragment,null,x.map(e=>l.a.createElement(qn.a,{style:w(e),key:e.id},l.a.createElement(Dn.a,{align:"center"},e.id),l.a.createElement(Dn.a,{align:"center"},!1===e.status.status?"N\xe3o":"Sim"),l.a.createElement(Dn.a,{align:"center"},e.name),l.a.createElement(Dn.a,{align:"center"},e.email),l.a.createElement(Dn.a,{align:"center"},e.plan.name),l.a.createElement(Dn.a,{align:"center"},"R$ ",(e=>null!==e.planId?e.plan.amount?e.plan.amount.toLocaleString("pt-br",{minimumFractionDigits:2}):"00.00":"-")(e)),l.a.createElement(Dn.a,{align:"center"},O(e.createdAt)),l.a.createElement(Dn.a,{align:"center"},O(e.dueDate),l.a.createElement("br",null),l.a.createElement("span",null,e.recurrence)),l.a.createElement(Dn.a,{align:"center"},k(e.lastLogin)))),t&&l.a.createElement(xc,{columns:4}))))))};const Gm=e=>{let{inputRef:a,...t}=e;return l.a.createElement("div",t)};var Vm=e=>{let{InputProps:a,children:t,InputLabelProps:n,label:o,...r}=e;return l.a.createElement(Et.a,Object.assign({},r,{variant:"outlined",label:o,multiline:!0,InputLabelProps:{shrink:!0,...n},InputProps:{inputComponent:Gm,...a},inputProps:{children:t}}))};const Km=Object(x.a)(e=>({chip:{margin:e.spacing(.5),cursor:"pointer"}}));var _m=e=>{let{onClick:a,disabled:t}=e;const n=Km(),o=[{name:Qe.a.t("messageVariablesPicker.vars.contactFirstName"),value:"{{firstName}}"},{name:Qe.a.t("messageVariablesPicker.vars.contactName"),value:"{{name}} "},{name:Qe.a.t("messageVariablesPicker.vars.user"),value:"{{userName}} "},{name:Qe.a.t("messageVariablesPicker.vars.greeting"),value:"{{ms}} "},{name:Qe.a.t("messageVariablesPicker.vars.protocolNumber"),value:"{{protocol}} "},{name:Qe.a.t("messageVariablesPicker.vars.date"),value:"{{date}} "},{name:Qe.a.t("messageVariablesPicker.vars.hour"),value:"{{hour}} "},{name:Qe.a.t("messageVariablesPicker.vars.ticket_id"),value:"{{ticket_id}} "},{name:Qe.a.t("messageVariablesPicker.vars.queue"),value:"{{queue}} "},{name:Qe.a.t("messageVariablesPicker.vars.connection"),value:"{{connection}} "}];return l.a.createElement(Vm,{margin:"dense",fullWidth:!0,label:Qe.a.t("messageVariablesPicker.label"),disabled:t},o.map(e=>l.a.createElement(Tt.a,{key:e.value,onMouseDown:n=>((e,n)=>{e.preventDefault(),t||a(n)})(n,e.value),label:e.name,size:"small",className:n.chip,color:"primary"})))};const Ym=t(639),Xm=Object(x.a)(e=>({root:{display:"flex",flexWrap:"wrap"},multFieldLine:{display:"flex","& > *:not(:last-child)":{marginRight:e.spacing(1)}},btnWrapper:{position:"relative"},buttonProgress:{color:Sa.a[500],position:"absolute",top:"50%",left:"50%",marginTop:-12,marginLeft:-12},formControl:{margin:e.spacing(1),minWidth:120},colorAdorment:{width:20,height:20}})),Jm=ut.c().shape({shortcode:ut.d().required("Obrigat\xf3rio")});var Zm=e=>{let{open:a,onClose:t,quickemessageId:o,reload:r}=e;const i=Xm(),{user:c}=Object(n.useContext)(la),{profile:d}=c,m=Object(n.useRef)(),u={shortcode:"",message:"",geral:!1,status:!0},[p,g]=Object(n.useState)(!1),[E,b]=Object(n.useState)(u),[f,h]=Object(n.useState)(null),v=Object(n.useRef)(null);Object(n.useEffect)(()=>{try{(async()=>{if(!o)return;const{data:e}=await Ze.get("/quick-messages/".concat(o));b(a=>({...a,...e}))})()}catch(e){Ke(e)}},[o,a]);const y=()=>{b(u),h(null),t()};return l.a.createElement("div",{className:i.root},l.a.createElement(wr,{title:Qe.a.t("quickMessages.confirmationModal.deleteTitle"),open:p,onClose:()=>g(!1),onConfirm:async()=>{f&&(h(null),v.current.value=null),E.mediaPath&&(await Ze.delete("/quick-messages/".concat(E.id,"/media-upload")),b(e=>({...e,mediaPath:null})),s.b.success(Qe.a.t("quickMessages.toasts.deleted")),"function"==typeof r&&(console.log(r),console.log("1"),r()))}},Qe.a.t("quickMessages.confirmationModal.deleteMessage")),l.a.createElement(bt.a,{open:a,onClose:y,maxWidth:"xs",fullWidth:!0,scroll:"paper"},l.a.createElement(vt.a,{id:"form-dialog-title"},"".concat(o?Qe.a.t("quickMessages.dialog.edit"):Qe.a.t("quickMessages.dialog.add"))),l.a.createElement("div",{style:{display:"none"}},l.a.createElement("input",{type:"file",ref:v,onChange:e=>(e=>{const a=Object(A.head)(e.target.files);a&&h(a)})(e)})),l.a.createElement(pt.f,{initialValues:E,enableReinitialize:!0,validationSchema:Jm,onSubmit:(e,a)=>{setTimeout(()=>{(async e=>{const a={...e,isMedia:!0,mediaPath:f?String(f.name).replace(/ /g,"_"):e.mediaPath?Ym.basename(e.mediaPath).replace(/ /g,"_"):null};try{if(o){if(await Ze.put("/quick-messages/".concat(o),a),null!=f){const e=new FormData;e.append("typeArch","quickMessage"),e.append("file",f),await Ze.post("/quick-messages/".concat(o,"/media-upload"),e)}}else{const{data:e}=await Ze.post("/quick-messages",a);if(null!=f){const a=new FormData;a.append("typeArch","quickMessage"),a.append("file",f),await Ze.post("/quick-messages/".concat(e.id,"/media-upload"),a)}}s.b.success(Qe.a.t("quickMessages.toasts.success")),"function"==typeof r&&(console.log(r),console.log("0"),r())}catch(t){Ke(t)}y()})(e),a.setSubmitting(!1)},400)}},e=>{let{touched:a,errors:t,isSubmitting:n,setFieldValue:r,values:s}=e;return l.a.createElement(pt.e,null,l.a.createElement(ht.a,{dividers:!0},l.a.createElement(it.a,{spacing:2,container:!0},l.a.createElement(it.a,{xs:12,item:!0},l.a.createElement(pt.c,{as:Et.a,autoFocus:!0,label:Qe.a.t("quickMessages.dialog.shortcode"),name:"shortcode",error:a.shortcode&&Boolean(t.shortcode),helperText:a.shortcode&&t.shortcode,variant:"outlined",margin:"dense",fullWidth:!0})),l.a.createElement(it.a,{xs:12,item:!0},l.a.createElement(pt.c,{as:Et.a,label:Qe.a.t("quickMessages.dialog.message"),name:"message",inputRef:m,error:a.message&&Boolean(t.message),helperText:a.message&&t.message,variant:"outlined",margin:"dense",multiline:!0,rows:7,fullWidth:!0})),l.a.createElement(it.a,{item:!0},l.a.createElement(_m,{disabled:n,onClick:e=>(async(e,a)=>{const t=m.current,n=t.value.substring(0,t.selectionStart),l=t.value.substring(t.selectionEnd),o=t.selectionStart+e.length;a("message","".concat(n).concat(e).concat(l)),await new Promise(e=>setTimeout(e,100)),m.current.setSelectionRange(o,o)})(e,r)})),l.a.createElement(it.a,{xs:12,item:!0},l.a.createElement(xt.a,{variant:"outlined",margin:"dense",fullWidth:!0},l.a.createElement(Ct.a,{id:"geral-selection-label"},Qe.a.t("quickMessages.dialog.visao")),l.a.createElement(pt.c,{as:At.a,label:Qe.a.t("quickMessages.dialog.visao"),placeholder:Qe.a.t("quickMessages.dialog.visao"),labelId:"visao-selection-label",id:"visao",name:"visao",error:a.visao&&Boolean(t.visao),value:s.visao?"true":"false"},l.a.createElement(F.a,{value:"true"},Qe.a.t("announcements.active")),l.a.createElement(F.a,{value:"false"},Qe.a.t("announcements.inactive")))),!0===s.visao&&l.a.createElement(xt.a,{variant:"outlined",margin:"dense",fullWidth:!0},l.a.createElement(Ct.a,{id:"geral-selection-label"},Qe.a.t("quickMessages.dialog.geral")),l.a.createElement(pt.c,{as:At.a,label:Qe.a.t("quickMessages.dialog.geral"),placeholder:Qe.a.t("quickMessages.dialog.geral"),labelId:"novo-item-selection-label",id:"geral",name:"geral",value:s.geral?"true":"false",error:a.geral&&Boolean(t.geral)},l.a.createElement(F.a,{value:"true"},Qe.a.t("announcements.active")),l.a.createElement(F.a,{value:"false"},Qe.a.t("announcements.inactive"))))),(E.mediaPath||f)&&l.a.createElement(it.a,{xs:12,item:!0},l.a.createElement(gt.a,{startIcon:l.a.createElement(jd.a,null)},f?f.name:E.mediaName),l.a.createElement(M.a,{onClick:()=>g(!0),color:"secondary"},l.a.createElement(Yl.a,{color:"secondary"}))))),l.a.createElement(ft.a,null,!f&&!E.mediaPath&&l.a.createElement(gt.a,{color:"primary",onClick:()=>v.current.click(),disabled:n,variant:"outlined"},Qe.a.t("quickMessages.buttons.attach")),l.a.createElement(gt.a,{onClick:y,color:"secondary",disabled:n,variant:"outlined"},Qe.a.t("quickMessages.buttons.cancel")),l.a.createElement(gt.a,{type:"submit",color:"primary",disabled:n,variant:"contained",className:i.btnWrapper},"".concat(o?Qe.a.t("quickMessages.buttons.edit"):Qe.a.t("quickMessages.buttons.add")),n&&l.a.createElement(yt.a,{size:24,className:i.buttonProgress}))))})))};const $m=(e,a)=>{if("LOAD_QUICKMESSAGES"===a.type){const t=a.payload,n=[];return Object(A.isArray)(t)&&t.forEach(a=>{const t=e.findIndex(e=>e.id===a.id);-1!==t?e[t]=a:n.push(a)}),[...e,...n]}if("UPDATE_QUICKMESSAGES"===a.type){const t=a.payload,n=e.findIndex(e=>e.id===t.id);return-1!==n?(e[n]=t,[...e]):[t,...e]}if("DELETE_QUICKMESSAGE"===a.type){const t=a.payload,n=e.findIndex(e=>e.id===t);return-1!==n&&e.splice(n,1),[...e]}if("RESET"===a.type)return[]},eu=Object(x.a)(e=>({mainPaper:{flex:1,padding:e.spacing(1),overflowY:"scroll",...e.scrollbarStyles}}));var au=()=>{const e=eu(),[a,t]=Object(n.useState)(!1),[o,r]=Object(n.useState)(1),[i,c]=Object(n.useState)(!1),[d,m]=Object(n.useState)(null),[u,p]=Object(n.useState)(null),[g,E]=Object(n.useState)(!1),[b,f]=Object(n.useState)(!1),[h,v]=Object(n.useState)(""),[y,A]=Object(n.useReducer)($m,[]),{user:C}=Object(n.useContext)(la),{profile:x}=C;Object(n.useEffect)(()=>{A({type:"RESET"}),r(1)},[h]),Object(n.useEffect)(()=>{t(!0);const e=setTimeout(()=>{T()},500);return()=>clearTimeout(e)},[h,o]),Object(n.useEffect)(()=>{const e=C.companyId,a=aa({companyId:e,userId:C.id});return a.on("company".concat(e,"-quickemessage"),e=>{"update"!==e.action&&"create"!==e.action||A({type:"UPDATE_QUICKMESSAGES",payload:e.record}),"delete"===e.action&&A({type:"DELETE_QUICKMESSAGE",payload:+e.id})}),()=>{a.disconnect()}},[]);const T=async()=>{try{C.companyId;const{data:e}=await Ze.get("/quick-messages",{params:{searchParam:h,pageNumber:o}});A({type:"LOAD_QUICKMESSAGES",payload:e.records}),c(e.hasMore),t(!1)}catch(e){Ke(e)}};return l.a.createElement(bc,null,l.a.createElement(wr,{title:u&&"".concat(Qe.a.t("quickMessages.confirmationModal.deleteTitle")," ").concat(u.shortcode,"?"),open:b,onClose:f,onConfirm:()=>(async e=>{try{await Ze.delete("/quick-messages/".concat(e)),s.b.success(Qe.a.t("quickemessages.toasts.deleted"))}catch(a){Ke(a)}p(null),v(""),r(1),T(),A({type:"RESET"})})(u.id)},Qe.a.t("quickMessages.confirmationModal.deleteMessage")),l.a.createElement(Zm,{resetPagination:()=>{r(1),T()},open:g,onClose:()=>{m(null),E(!1),T()},"aria-labelledby":"form-dialog-title",quickemessageId:d&&d.id}),l.a.createElement(hc,null,l.a.createElement(it.a,{style:{width:"99.6%"},container:!0},l.a.createElement(it.a,{xs:12,sm:8,item:!0},l.a.createElement(Ac,null,Qe.a.t("quickMessages.title"))),l.a.createElement(it.a,{xs:12,sm:4,item:!0},l.a.createElement(it.a,{spacing:2,container:!0},l.a.createElement(it.a,{xs:6,sm:6,item:!0},l.a.createElement(Et.a,{fullWidth:!0,placeholder:Qe.a.t("quickMessages.searchPlaceholder"),type:"search",value:h,onChange:e=>{v(e.target.value.toLowerCase())},InputProps:{startAdornment:l.a.createElement(Yi.a,{position:"start"},l.a.createElement(gd.a,{style:{color:"gray"}}))}})),l.a.createElement(it.a,{xs:6,sm:6,item:!0},l.a.createElement(gt.a,{fullWidth:!0,variant:"contained",onClick:()=>{m(null),E(!0)},color:"primary"},Qe.a.t("quickMessages.buttons.add"))))))),l.a.createElement(St.a,{className:e.mainPaper,variant:"outlined",onScroll:e=>{if(!i||a)return;const{scrollTop:t,scrollHeight:n,clientHeight:l}=e.currentTarget;n-(t+100)<l&&r(e=>e+1)}},l.a.createElement(Rn.a,{size:"small"},l.a.createElement(Ln.a,null,l.a.createElement(qn.a,null,l.a.createElement(Dn.a,{align:"center"},Qe.a.t("quickMessages.table.shortcode")),l.a.createElement(Dn.a,{align:"center"},Qe.a.t("quickMessages.table.mediaName")),l.a.createElement(Dn.a,{align:"center"},Qe.a.t("quickMessages.table.status")),l.a.createElement(Dn.a,{align:"center"},Qe.a.t("quickMessages.table.actions")))),l.a.createElement(Pn.a,null,l.a.createElement(l.a.Fragment,null,y.map(e=>{var a;return l.a.createElement(qn.a,{key:e.id},l.a.createElement(Dn.a,{align:"center"},e.shortcode),l.a.createElement(Dn.a,{align:"center"},null!==(a=e.mediaName)&&void 0!==a?a:Qe.a.t("quickMessages.noAttachment")),l.a.createElement(Dn.a,{align:"center"},!0===e.geral?l.a.createElement(Na.a,{style:{color:"green"}}):""),l.a.createElement(Dn.a,{align:"center"},l.a.createElement(M.a,{size:"small",onClick:()=>(e=>{m(e),E(!0)})(e)},l.a.createElement(bd.a,null)),l.a.createElement(M.a,{size:"small",onClick:a=>{f(!0),p(e)}},l.a.createElement(Yl.a,null))))}),a&&l.a.createElement(xc,{columns:5}))))))};var tu=e=>{let{component:a,isPrivate:t=!1,...o}=e;const{isAuth:r,loading:s}=Object(n.useContext)(la);return!r&&t?l.a.createElement(l.a.Fragment,null,s&&l.a.createElement(zt,null),l.a.createElement(f.Redirect,{to:{pathname:"/login",state:{from:o.location}}})):r&&!t?l.a.createElement(l.a.Fragment,null,s&&l.a.createElement(zt,null),l.a.createElement(f.Redirect,{to:{pathname:"/",state:{from:o.location}}}),";"):l.a.createElement(l.a.Fragment,null,s&&l.a.createElement(zt,null),l.a.createElement(f.Route,Object.assign({},o,{component:a})))},nu=t(712);t(1551),t(1552),t(1553);const lu={fontSize:"14px",overflow:"hidden",whiteSpace:"nowrap",textOverflow:"ellipsis"},ou=Object(nu.b)(y.a);var ru={date:"Data",time:"Hora",event:"Evento",allDay:"Dia Todo",week:"Semana",work_week:"Agendamentos",day:"Dia",month:"M\xeas",previous:"Anterior",next:"Pr\xf3ximo",yesterday:"Ontem",tomorrow:"Amanh\xe3",today:"Hoje",agenda:"Agenda",noEventsInRange:"N\xe3o h\xe1 agendamentos no per\xedodo.",showMore:function(e){return"+"+e+" mais"}};const su=(e,a)=>{if("LOAD_SCHEDULES"===a.type)return[...e,...a.payload];if("UPDATE_SCHEDULES"===a.type){const t=a.payload,n=e.findIndex(e=>e.id===t.id);return-1!==n?(e[n]=t,[...e]):[t,...e]}if("DELETE_SCHEDULE"===a.type){const t=a.payload;return e.filter(e=>e.id!==t)}return"RESET"===a.type?[]:e},iu=Object(x.a)(e=>({mainPaper:{flex:1,padding:e.spacing(1),overflowY:"scroll",...e.scrollbarStyles}}));var cu=()=>{const e=iu(),a=Object(f.useHistory)(),{user:t}=Object(n.useContext)(la),[o,r]=Object(n.useState)(!1),[i,c]=Object(n.useState)(1),[d,m]=Object(n.useState)(!1),[u,p]=Object(n.useState)(null),[g,E]=Object(n.useState)(null),[b,h]=Object(n.useState)(!1),[v,y]=Object(n.useState)(""),[A,C]=Object(n.useReducer)(su,[]),[x,T]=Object(n.useState)(!1),[O,k]=Object(n.useState)((S="contactId",+new URLSearchParams(window.location.search).get(S)));var S;const{getPlanCompany:w}=ua();Object(n.useEffect)(()=>{!async function(){const e=t.companyId;(await w(void 0,e)).plan.useSchedules||(s.b.error("Esta empresa n\xe3o possui permiss\xe3o para acessar essa p\xe1gina! Estamos lhe redirecionando."),setTimeout(()=>{a.push("/")},1e3))}()},[t,a,w]);const M=Object(n.useCallback)(async()=>{try{const{data:e}=await Ze.get("/schedules",{params:{searchParam:v,pageNumber:i}});console.log(e),C({type:"LOAD_SCHEDULES",payload:e.schedules}),m(e.hasMore),r(!1)}catch(e){Ke(e)}},[v,i]),I=Object(n.useCallback)(()=>{O&&j()},[O]);Object(n.useEffect)(()=>{C({type:"RESET"}),c(1)},[v]),Object(n.useEffect)(()=>{r(!0);const e=setTimeout(()=>{M()},500);return()=>clearTimeout(e)},[v,i,O,M,I]),Object(n.useEffect)(()=>{I();const e=aa({companyId:t.companyId});return e.on("company".concat(t.companyId,"-schedule"),e=>{"update"!==e.action&&"create"!==e.action||C({type:"UPDATE_SCHEDULES",payload:e.schedule}),"delete"===e.action&&C({type:"DELETE_SCHEDULE",payload:+e.scheduleId})}),()=>{e.disconnect()}},[I,t]);const j=()=>{p(null),T(!0)},N=async e=>{try{await Ze.delete("/schedules/".concat(e)),s.b.success(Qe.a.t("schedules.toasts.deleted"))}catch(a){Ke(a)}E(null),y(""),c(1),C({type:"RESET"}),c(1),await M()};return l.a.createElement(bc,null,l.a.createElement(wr,{title:g&&"".concat(Qe.a.t("schedules.confirmationModal.deleteTitle")),open:b,onClose:()=>h(!1),onConfirm:()=>N(g.id)},Qe.a.t("schedules.confirmationModal.deleteMessage")),l.a.createElement(Zs,{open:x,onClose:()=>{p(null),T(!1)},reload:M,scheduleId:u?u.id:null,contactId:O,cleanContact:()=>{k("")}}),l.a.createElement(hc,null,l.a.createElement(Ac,null,Qe.a.t("schedules.title")," (",A.length,")"),l.a.createElement(yc,null,l.a.createElement(Et.a,{placeholder:Qe.a.t("contacts.searchPlaceholder"),type:"search",value:v,onChange:e=>{y(e.target.value.toLowerCase())},InputProps:{startAdornment:l.a.createElement(Yi.a,{position:"start"},l.a.createElement(gd.a,{style:{color:"gray"}}))}}),l.a.createElement(gt.a,{variant:"contained",color:"primary",onClick:j},Qe.a.t("schedules.buttons.add")))),l.a.createElement(St.a,{className:e.mainPaper,variant:"outlined",onScroll:e=>{if(!d||o)return;const{scrollTop:a,scrollHeight:t,clientHeight:n}=e.currentTarget;t-(a+100)<n&&c(e=>e+1)}},l.a.createElement(nu.a,{messages:ru,formats:{agendaDateFormat:"DD/MM ddd",weekdayFormat:"dddd"},localizer:ou,events:A.map(e=>({title:l.a.createElement("div",{className:"event-container"},l.a.createElement("div",{style:lu},e.contact.name),l.a.createElement(Yl.a,{onClick:()=>N(e.id),className:"delete-icon"}),l.a.createElement(bd.a,{onClick:()=>{(e=>{p(e),T(!0)})(e),T(!0)},className:"edit-icon"})),start:new Date(e.sendAt),end:new Date(e.sendAt)})),startAccessor:"start",endAccessor:"end",style:{height:500}})))},du=t(1063),mu=t.n(du),uu=t(1062),pu=t.n(uu),gu=t(1061),Eu=t.n(gu);const bu=Object(x.a)(e=>({root:{display:"flex",flexWrap:"wrap"},textField:{marginRight:e.spacing(1),flex:1},extraAttr:{display:"flex",justifyContent:"center",alignItems:"center"},btnWrapper:{position:"relative"},buttonProgress:{color:Sa.a[500],position:"absolute",top:"50%",left:"50%",marginTop:-12,marginLeft:-12}})),fu=ut.c().shape({name:ut.d().min(2,"Too Short!").max(50,"Too Long!").required("Required")});var hu=e=>{let{open:a,onClose:t,campaignId:o,initialValues:r,onSave:i,resetPagination:c}=e;const d=bu(),m=Object(n.useRef)(!0),{user:u}=Object(n.useContext)(la),{companyId:p}=u,g={name:"",message1:"",message2:"",message3:"",message4:"",message5:"",confirmationMessage1:"",confirmationMessage2:"",confirmationMessage3:"",confirmationMessage4:"",confirmationMessage5:"",status:"INATIVA",confirmation:!1,scheduledAt:"",contactListId:"",tagListId:"Nenhuma",companyId:p,statusTicket:"closed",openTicket:"disabled"},[E,b]=Object(n.useState)(g),[f,h]=Object(n.useState)([]),[v,C]=Object(n.useState)([]),[x,T]=Object(n.useState)([]),[O,k]=Object(n.useState)([]),[S,w]=Object(n.useState)(0),[I,j]=Object(n.useState)(null),[N,R]=Object(n.useState)(!1),[P,D]=Object(n.useState)(!0),L=Object(n.useRef)(null),[q,W]=Object(n.useState)([]),[B,z]=Object(n.useState)([]),[H,U]=Object(n.useState)([]),[Q,G]=Object(n.useState)(!1),[V,K]=Object(n.useState)(""),[_,Y]=Object(n.useState)(null),[X,J]=Object(n.useState)(null),{findAll:Z}=So();Object(n.useEffect)(()=>()=>{m.current=!1},[]),Object(n.useEffect)(()=>{if(m.current){(async()=>{const e=await Z();U(e),z(e)})()}},[]),Object(n.useEffect)(()=>{if(V.length<3)return G(!1),void J("");const e=setTimeout(()=>{G(!0);(async()=>{try{const{data:e}=await Ze.get("/users/");W(e.users),G(!1)}catch(e){G(!1),Ke(e)}})()},500);return()=>clearTimeout(e)},[V]),Object(n.useEffect)(()=>{if(m.current){if(r&&b(e=>({...e,...r})),Ze.get("/contact-lists/list",{params:{companyId:p}}).then(e=>{let{data:a}=e;return T(a)}),Ze.get("/whatsapp",{params:{companyId:p,session:0}}).then(e=>{let{data:a}=e;const t=a.map(e=>({...e,selected:!1}));h(t)}),Ze.get("/tags/list",{params:{companyId:p,kanban:0}}).then(e=>{let{data:a}=e;const t=a.filter(e=>e.contacts.length>0).map(e=>({id:e.id,name:"".concat(e.name," (").concat(e.contacts.length,")")}));k(t)}).catch(e=>{console.error("Error retrieving tags:",e)}),!o)return;Ze.get("/campaigns/".concat(o)).then(e=>{let{data:a}=e;(null===a||void 0===a?void 0:a.user)&&Y(a.user),(null===a||void 0===a?void 0:a.queue)&&J(a.queue.id),b(e=>{let t=Object.assign({},e);return Object.entries(a).forEach(e=>{let[a,n]=e;t[a]="scheduledAt"===a&&""!==n&&null!==n?y()(n).format("YYYY-MM-DDTHH:mm"):null===n?"":n}),t})})}},[o,a,r,p]),Object(n.useEffect)(()=>{const e=y()(),a=y()(E.scheduledAt),t=!Number.isNaN(a.diff(e))&&a.diff(e,"hour")>1,n="INATIVA"===E.status||"PROGRAMADA"===E.status&&t;D(n)},[E.status,E.scheduledAt]);const $=()=>{t(),b(g)},ee=e=>l.a.createElement(pt.c,{as:Et.a,id:e,name:e,fullWidth:!0,rows:5,label:Qe.a.t("campaigns.dialog.form.".concat(e)),placeholder:Qe.a.t("campaigns.dialog.form.messagePlaceholder"),multiline:!0,variant:"outlined",helperText:"Utilize vari\xe1veis como {nome}, {numero}, {email} ou defina vari\xe1veis personalizadas.",disabled:!P&&"CANCELADA"!==E.status}),ae=e=>l.a.createElement(pt.c,{as:Et.a,id:e,name:e,fullWidth:!0,rows:5,label:Qe.a.t("campaigns.dialog.form.".concat(e)),placeholder:Qe.a.t("campaigns.dialog.form.messagePlaceholder"),multiline:!0,variant:"outlined",disabled:!P&&"CANCELADA"!==E.status}),te=Object(Ql.a)({trim:!0});return l.a.createElement("div",{className:d.root},l.a.createElement(wr,{title:Qe.a.t("campaigns.confirmationModal.deleteTitle"),open:N,onClose:()=>R(!1),onConfirm:async()=>{I&&(j(null),L.current.value=null),E.mediaPath&&(await Ze.delete("/campaigns/".concat(E.id,"/media-upload")),b(e=>({...e,mediaPath:null,mediaName:null})),s.b.success(Qe.a.t("campaigns.toasts.deleted")))}},Qe.a.t("campaigns.confirmationModal.deleteMessage")),l.a.createElement(bt.a,{open:a,onClose:$,fullWidth:!0,maxWidth:"md",scroll:"paper"},l.a.createElement(vt.a,{id:"form-dialog-title"},P?l.a.createElement(l.a.Fragment,null,"".concat(o?Qe.a.t("campaigns.dialog.update"):Qe.a.t("campaigns.dialog.new"))):l.a.createElement(l.a.Fragment,null,"".concat(Qe.a.t("campaigns.dialog.readonly")))),l.a.createElement("div",{style:{display:"none"}},l.a.createElement("input",{type:"file",ref:L,onChange:e=>(e=>{const a=Object(A.head)(e.target.files);a&&j(a)})(e)})),l.a.createElement(pt.f,{initialValues:E,enableReinitialize:!0,validationSchema:fu,onSubmit:(e,a)=>{setTimeout(()=>{(async e=>{try{const a={...e,whatsappId:v.join(","),userId:(null===_||void 0===_?void 0:_.id)||null,queueId:X||null};if(Object.entries(e).forEach(e=>{let[t,n]=e;a[t]="scheduledAt"===t&&""!==n&&null!==n?y()(n).format("YYYY-MM-DD HH:mm:ss"):""===n?null:n}),o){if(await Ze.put("/campaigns/".concat(o),a),null!=I){const e=new FormData;e.append("file",I),await Ze.post("/campaigns/".concat(o,"/media-upload"),e)}$()}else{const{data:e}=await Ze.post("/campaigns",a);if(null!=I){const a=new FormData;a.append("file",I),await Ze.post("/campaigns/".concat(e.id,"/media-upload"),a)}i&&i(e),$()}s.b.success(Qe.a.t("campaigns.toasts.success"))}catch(a){console.log(a),Ke(a)}})(e),a.setSubmitting(!1)},400)}},e=>{let{values:a,errors:t,touched:n,isSubmitting:r}=e;return l.a.createElement(pt.e,null,l.a.createElement(ht.a,{dividers:!0},l.a.createElement(it.a,{spacing:2,container:!0},l.a.createElement(it.a,{xs:12,md:4,item:!0},l.a.createElement(pt.c,{as:Et.a,label:Qe.a.t("campaigns.dialog.form.name"),name:"name",error:n.name&&Boolean(t.name),helperText:n.name&&t.name,variant:"outlined",margin:"dense",fullWidth:!0,className:d.textField,disabled:!P})),l.a.createElement(it.a,{xs:12,md:4,item:!0},l.a.createElement(xt.a,{variant:"outlined",margin:"dense",fullWidth:!0,className:d.formControl},l.a.createElement(Ct.a,{id:"confirmation-selection-label"},Qe.a.t("campaigns.dialog.form.confirmation")),l.a.createElement(pt.c,{as:At.a,label:Qe.a.t("campaigns.dialog.form.confirmation"),placeholder:Qe.a.t("campaigns.dialog.form.confirmation"),labelId:"confirmation-selection-label",id:"confirmation",name:"confirmation",error:n.confirmation&&Boolean(t.confirmation),disabled:!P},l.a.createElement(F.a,{value:!1},"Desabilitada"),l.a.createElement(F.a,{value:!0},"Habilitada")))),l.a.createElement(it.a,{xs:12,md:4,item:!0},l.a.createElement(xt.a,{variant:"outlined",margin:"dense",fullWidth:!0,className:d.formControl},l.a.createElement(Ct.a,{id:"contactList-selection-label"},Qe.a.t("campaigns.dialog.form.contactList")),l.a.createElement(pt.c,{as:At.a,label:Qe.a.t("campaigns.dialog.form.contactList"),placeholder:Qe.a.t("campaigns.dialog.form.contactList"),labelId:"contactList-selection-label",id:"contactListId",name:"contactListId",error:n.contactListId&&Boolean(t.contactListId),disabled:!P},l.a.createElement(F.a,{value:""},"Nenhuma"),x&&x.map(e=>l.a.createElement(F.a,{key:e.id,value:e.id},e.name))))),l.a.createElement(it.a,{xs:12,md:4,item:!0},l.a.createElement(xt.a,{variant:"outlined",margin:"dense",fullWidth:!0,className:d.formControl},l.a.createElement(Ct.a,{id:"tagList-selection-label"},Qe.a.t("campaigns.dialog.form.tagList")),l.a.createElement(pt.c,{as:At.a,label:Qe.a.t("campaigns.dialog.form.tagList"),placeholder:Qe.a.t("campaigns.dialog.form.tagList"),labelId:"tagList-selection-label",id:"tagListId",name:"tagListId",error:n.tagListId&&Boolean(t.tagListId),disabled:!P},Array.isArray(O)&&O.map(e=>l.a.createElement(F.a,{key:e.id,value:e.id},e.name))))),l.a.createElement(it.a,{xs:12,md:4,item:!0},l.a.createElement(xt.a,{variant:"outlined",margin:"dense",fullWidth:!0,className:d.formControl},l.a.createElement(Ct.a,{id:"whatsapp-selection-label"},Qe.a.t("campaigns.dialog.form.whatsapp")),l.a.createElement(pt.c,{as:At.a,multiple:!0,label:Qe.a.t("campaigns.dialog.form.whatsapp"),placeholder:Qe.a.t("campaigns.dialog.form.whatsapp"),labelId:"whatsapp-selection-label",id:"whatsappIds",name:"whatsappIds",required:!0,error:n.whatsappId&&Boolean(t.whatsappId),disabled:!P,value:v,onChange:e=>C(e.target.value),renderValue:e=>l.a.createElement("div",null,e.map(e=>l.a.createElement(Tt.a,{key:e,label:f.find(a=>a.id===e).name})))},f&&f.map(e=>l.a.createElement(F.a,{key:e.id,value:e.id},e.name))))),l.a.createElement(it.a,{xs:12,md:4,item:!0},l.a.createElement(pt.c,{as:Et.a,label:Qe.a.t("campaigns.dialog.form.scheduledAt"),name:"scheduledAt",error:n.scheduledAt&&Boolean(t.scheduledAt),helperText:n.scheduledAt&&t.scheduledAt,variant:"outlined",margin:"dense",type:"datetime-local",InputLabelProps:{shrink:!0},fullWidth:!0,className:d.textField,disabled:!P})),l.a.createElement(it.a,{xs:12,md:4,item:!0},l.a.createElement(xt.a,{variant:"outlined",margin:"dense",fullWidth:!0,className:d.formControl},l.a.createElement(Ct.a,{id:"openTicket-selection-label"},Qe.a.t("campaigns.dialog.form.openTicket")),l.a.createElement(pt.c,{as:At.a,label:Qe.a.t("campaigns.dialog.form.openTicket"),placeholder:Qe.a.t("campaigns.dialog.form.openTicket"),labelId:"openTicket-selection-label",id:"openTicket",name:"openTicket",error:n.openTicket&&Boolean(t.openTicket),disabled:!P},l.a.createElement(F.a,{value:"enabled"},Qe.a.t("campaigns.dialog.form.enabledOpenTicket")),l.a.createElement(F.a,{value:"disabled"},Qe.a.t("campaigns.dialog.form.disabledOpenTicket"))))),l.a.createElement(it.a,{xs:12,md:4,item:!0},l.a.createElement(Gl.a,{style:{marginTop:"8px"},variant:"outlined",margin:"dense",className:d.formControl,getOptionLabel:e=>"".concat(e.name),value:_,size:"small",onChange:(e,a)=>{Y(a),null!=a&&Array.isArray(a.queues)?(1===a.queues.length&&J(a.queues[0].id),z(a.queues)):(z(H),J(""))},options:q,filterOptions:te,freeSolo:!0,fullWidth:!0,autoHighlight:!0,noOptionsText:Qe.a.t("transferTicketModal.noOptions"),loading:Q,renderOption:e=>l.a.createElement("span",null," ",l.a.createElement(Mo,{user:e})," ",e.name),renderInput:e=>l.a.createElement(Et.a,Object.assign({},e,{label:Qe.a.t("transferTicketModal.fieldLabel"),variant:"outlined",onChange:e=>K(e.target.value),InputProps:{...e.InputProps,endAdornment:l.a.createElement(l.a.Fragment,null,Q?l.a.createElement(yt.a,{color:"inherit",size:20}):null,e.InputProps.endAdornment)}}))})),l.a.createElement(it.a,{xs:12,md:4,item:!0},l.a.createElement(xt.a,{variant:"outlined",margin:"dense",fullWidth:!0,className:d.formControl},l.a.createElement(Ct.a,null,Qe.a.t("transferTicketModal.fieldQueueLabel")),l.a.createElement(At.a,{value:X,onChange:e=>J(e.target.value),label:Qe.a.t("transferTicketModal.fieldQueuePlaceholder"),required:!Object(A.isNil)(_)},B.map(e=>l.a.createElement(F.a,{key:e.id,value:e.id},e.name))))),l.a.createElement(it.a,{xs:12,md:4,item:!0},l.a.createElement(xt.a,{variant:"outlined",margin:"dense",fullWidth:!0,className:d.formControl},l.a.createElement(Ct.a,{id:"statusTicket-selection-label"},Qe.a.t("campaigns.dialog.form.statusTicket")),l.a.createElement(pt.c,{as:At.a,label:Qe.a.t("campaigns.dialog.form.statusTicket"),placeholder:Qe.a.t("campaigns.dialog.form.statusTicket"),labelId:"statusTicket-selection-label",id:"statusTicket",name:"statusTicket",error:n.statusTicket&&Boolean(t.statusTicket),disabled:!P},l.a.createElement(F.a,{value:"closed"},Qe.a.t("campaigns.dialog.form.closedTicketStatus")),l.a.createElement(F.a,{value:"open"},Qe.a.t("campaigns.dialog.form.openTicketStatus"))))),l.a.createElement(it.a,{xs:12,item:!0},l.a.createElement(wt.a,{value:S,indicatorColor:"primary",textColor:"primary",onChange:(e,a)=>w(a),variant:"fullWidth",centered:!0,style:{background:"#f2f2f2",border:"1px solid #e6e6e6",borderRadius:2}},l.a.createElement(Mt.a,{label:"Msg. 1",index:0}),l.a.createElement(Mt.a,{label:"Msg. 2",index:1}),l.a.createElement(Mt.a,{label:"Msg. 3",index:2}),l.a.createElement(Mt.a,{label:"Msg. 4",index:3}),l.a.createElement(Mt.a,{label:"Msg. 5",index:4})),l.a.createElement(Zo.a,{style:{paddingTop:20,border:"none"}},0===S&&l.a.createElement(l.a.Fragment,null,a.confirmation?l.a.createElement(it.a,{spacing:2,container:!0},l.a.createElement(it.a,{xs:12,md:8,item:!0},l.a.createElement(l.a.Fragment,null,ee("message1"))),l.a.createElement(it.a,{xs:12,md:4,item:!0},l.a.createElement(l.a.Fragment,null,ae("confirmationMessage1")))):l.a.createElement(l.a.Fragment,null,ee("message1"))),1===S&&l.a.createElement(l.a.Fragment,null,a.confirmation?l.a.createElement(it.a,{spacing:2,container:!0},l.a.createElement(it.a,{xs:12,md:8,item:!0},l.a.createElement(l.a.Fragment,null,ee("message2"))),l.a.createElement(it.a,{xs:12,md:4,item:!0},l.a.createElement(l.a.Fragment,null,ae("confirmationMessage2")))):l.a.createElement(l.a.Fragment,null,ee("message2"))),2===S&&l.a.createElement(l.a.Fragment,null,a.confirmation?l.a.createElement(it.a,{spacing:2,container:!0},l.a.createElement(it.a,{xs:12,md:8,item:!0},l.a.createElement(l.a.Fragment,null,ee("message3"))),l.a.createElement(it.a,{xs:12,md:4,item:!0},l.a.createElement(l.a.Fragment,null,ae("confirmationMessage3")))):l.a.createElement(l.a.Fragment,null,ee("message3"))),3===S&&l.a.createElement(l.a.Fragment,null,a.confirmation?l.a.createElement(it.a,{spacing:2,container:!0},l.a.createElement(it.a,{xs:12,md:8,item:!0},l.a.createElement(l.a.Fragment,null,ee("message4"))),l.a.createElement(it.a,{xs:12,md:4,item:!0},l.a.createElement(l.a.Fragment,null,ae("confirmationMessage4")))):l.a.createElement(l.a.Fragment,null,ee("message4"))),4===S&&l.a.createElement(l.a.Fragment,null,a.confirmation?l.a.createElement(it.a,{spacing:2,container:!0},l.a.createElement(it.a,{xs:12,md:8,item:!0},l.a.createElement(l.a.Fragment,null,ee("message5"))),l.a.createElement(it.a,{xs:12,md:4,item:!0},l.a.createElement(l.a.Fragment,null,ae("confirmationMessage5")))):l.a.createElement(l.a.Fragment,null,ee("message5"))))),(E.mediaPath||I)&&l.a.createElement(it.a,{xs:12,item:!0},l.a.createElement(gt.a,{startIcon:l.a.createElement(jd.a,null)},null!=I?I.name:E.mediaName),P&&l.a.createElement(M.a,{onClick:()=>R(!0),color:"primary"},l.a.createElement(Yl.a,{color:"secondary"}))))),l.a.createElement(ft.a,null,"CANCELADA"===E.status&&l.a.createElement(gt.a,{color:"primary",onClick:()=>(async()=>{try{await Ze.post("/campaigns/".concat(E.id,"/restart")),s.b.success(Qe.a.t("campaigns.toasts.restart")),b(e=>({...e,status:"EM_ANDAMENTO"})),c()}catch(e){s.b.error(e.message)}})(),variant:"outlined"},Qe.a.t("campaigns.dialog.buttons.restart")),"EM_ANDAMENTO"===E.status&&l.a.createElement(gt.a,{color:"primary",onClick:()=>(async()=>{try{await Ze.post("/campaigns/".concat(E.id,"/cancel")),s.b.success(Qe.a.t("campaigns.toasts.cancel")),b(e=>({...e,status:"CANCELADA"})),c()}catch(e){s.b.error(e.message)}})(),variant:"outlined"},Qe.a.t("campaigns.dialog.buttons.cancel")),!I&&!E.mediaPath&&P&&l.a.createElement(gt.a,{color:"primary",onClick:()=>L.current.click(),disabled:r,variant:"outlined"},Qe.a.t("campaigns.dialog.buttons.attach")),l.a.createElement(gt.a,{onClick:$,color:"primary",disabled:r,variant:"outlined"},Qe.a.t("campaigns.dialog.buttons.close")),(P||"CANCELADA"===E.status)&&l.a.createElement(gt.a,{type:"submit",color:"primary",disabled:r,variant:"contained",className:d.btnWrapper},"".concat(o?Qe.a.t("campaigns.dialog.buttons.edit"):Qe.a.t("campaigns.dialog.buttons.add")),r&&l.a.createElement(yt.a,{size:24,className:d.buttonProgress}))))})))};const vu=(e,a)=>{if("LOAD_CAMPAIGNS"===a.type){const t=a.payload,n=[];return Object(A.isArray)(t)&&t.forEach(a=>{const t=e.findIndex(e=>e.id===a.id);-1!==t?e[t]=a:n.push(a)}),[...e,...n]}if("UPDATE_CAMPAIGNS"===a.type){const t=a.payload,n=e.findIndex(e=>e.id===t.id);return-1!==n?(e[n]=t,[...e]):[t,...e]}if("DELETE_CAMPAIGN"===a.type){const t=a.payload,n=e.findIndex(e=>e.id===t);return-1!==n&&e.splice(n,1),[...e]}if("RESET"===a.type)return[]},yu=Object(x.a)(e=>({mainPaper:{flex:1,padding:e.padding,overflowY:"scroll",...e.scrollbarStyles}}));var Au=()=>{const e=yu(),a=Object(f.useHistory)(),[t,o]=Object(n.useState)(!1),[r,i]=Object(n.useState)(1),[c,d]=Object(n.useState)(!1),[m,u]=Object(n.useState)(null),[p,g]=Object(n.useState)(null),[E,b]=Object(n.useState)(!1),[h,v]=Object(n.useState)(!1),[y,A]=Object(n.useState)(!1),[C,x]=Object(n.useState)(""),[T,O]=Object(n.useReducer)(vu,[]),{user:k}=Object(n.useContext)(la),{datetimeToClient:S}=ta(),{getPlanCompany:w}=ua();Object(n.useEffect)(()=>{!async function(){const e=k.companyId;(await w(void 0,e)).plan.useCampaigns||(s.b.error("Esta empresa n\xe3o possui permiss\xe3o para acessar essa p\xe1gina! Estamos lhe redirecionando."),setTimeout(()=>{a.push("/")},1e3))}()},[]),Object(n.useEffect)(()=>{O({type:"RESET"}),i(1)},[C]),Object(n.useEffect)(()=>{o(!0);const e=setTimeout(()=>{I()},500);return()=>clearTimeout(e)},[C,r]),Object(n.useEffect)(()=>{const e=k.companyId,a=aa({companyId:e,userId:k.id});return a.on("company-".concat(e,"-campaign"),e=>{"update"!==e.action&&"create"!==e.action||O({type:"UPDATE_CAMPAIGNS",payload:e.record}),"delete"===e.action&&O({type:"DELETE_CAMPAIGN",payload:+e.id})}),()=>{a.disconnect()}},[]);const I=async()=>{try{const{data:e}=await Ze.get("/campaigns/",{params:{searchParam:C,pageNumber:r}});O({type:"LOAD_CAMPAIGNS",payload:e.records}),d(e.hasMore),o(!1)}catch(e){Ke(e)}};return l.a.createElement(bc,null,l.a.createElement(wr,{title:p&&"".concat(Qe.a.t("campaigns.confirmationModal.deleteTitle")," ").concat(p.name,"?"),open:h,onClose:v,onConfirm:()=>(async e=>{try{await Ze.delete("/campaigns/".concat(e)),s.b.success(Qe.a.t("campaigns.toasts.deleted"))}catch(a){Ke(a)}g(null),x(""),i(1)})(p.id)},Qe.a.t("campaigns.confirmationModal.deleteMessage")),E&&l.a.createElement(hu,{resetPagination:()=>{i(1),I()},open:E,onClose:()=>{u(null),b(!1)},"aria-labelledby":"form-dialog-title",campaignId:m&&m.id}),l.a.createElement(hc,null,l.a.createElement(it.a,{style:{width:"99.6%"},container:!0},l.a.createElement(it.a,{xs:12,sm:8,item:!0},l.a.createElement(Ac,null,Qe.a.t("campaigns.title"))),l.a.createElement(it.a,{xs:12,sm:4,item:!0},l.a.createElement(it.a,{spacing:2,container:!0},l.a.createElement(it.a,{xs:6,sm:6,item:!0},l.a.createElement(Et.a,{fullWidth:!0,placeholder:Qe.a.t("campaigns.searchPlaceholder"),type:"search",value:C,onChange:e=>{x(e.target.value.toLowerCase())},InputProps:{startAdornment:l.a.createElement(Yi.a,{position:"start"},l.a.createElement(gd.a,{style:{color:"gray"}}))}})),l.a.createElement(it.a,{xs:6,sm:6,item:!0},l.a.createElement(gt.a,{fullWidth:!0,variant:"contained",onClick:()=>{u(null),b(!0)},color:"primary"},Qe.a.t("campaigns.buttons.add"))))))),l.a.createElement(St.a,{className:e.mainPaper,variant:"outlined",onScroll:e=>{if(!c||t)return;const{scrollTop:a,scrollHeight:n,clientHeight:l}=e.currentTarget;n-(a+100)<l&&i(e=>e+1)}},l.a.createElement(Rn.a,{size:"small"},l.a.createElement(Ln.a,null,l.a.createElement(qn.a,null,l.a.createElement(Dn.a,{align:"center"},Qe.a.t("campaigns.table.name")),l.a.createElement(Dn.a,{align:"center"},Qe.a.t("campaigns.table.status")),l.a.createElement(Dn.a,{align:"center"},Qe.a.t("campaigns.table.contactList")),l.a.createElement(Dn.a,{align:"center"},Qe.a.t("campaigns.table.whatsapp")),l.a.createElement(Dn.a,{align:"center"},Qe.a.t("campaigns.table.scheduledAt")),l.a.createElement(Dn.a,{align:"center"},Qe.a.t("campaigns.table.completedAt")),l.a.createElement(Dn.a,{align:"center"},Qe.a.t("campaigns.table.confirmation")),l.a.createElement(Dn.a,{align:"center"},Qe.a.t("campaigns.table.actions")))),l.a.createElement(Pn.a,null,l.a.createElement(l.a.Fragment,null,T.map(e=>l.a.createElement(qn.a,{key:e.id},l.a.createElement(Dn.a,{align:"center"},e.name),l.a.createElement(Dn.a,{align:"center"},(e=>{switch(e){case"INATIVA":return"Inativa";case"PROGRAMADA":return"Programada";case"EM_ANDAMENTO":return"Em Andamento";case"CANCELADA":return"Cancelada";case"FINALIZADA":return"Finalizada";default:return e}})(e.status)),l.a.createElement(Dn.a,{align:"center"},e.contactListId?e.contactList.name:"N\xe3o definida"),l.a.createElement(Dn.a,{align:"center"},e.whatsappId?e.whatsapp.name:"N\xe3o definido"),l.a.createElement(Dn.a,{align:"center"},e.scheduledAt?S(e.scheduledAt):"Sem agendamento"),l.a.createElement(Dn.a,{align:"center"},e.completedAt?S(e.completedAt):"N\xe3o conclu\xedda"),l.a.createElement(Dn.a,{align:"center"},e.confirmation?"Habilitada":"Desabilitada"),l.a.createElement(Dn.a,{align:"center"},"EM_ANDAMENTO"===e.status&&l.a.createElement(M.a,{onClick:()=>(async e=>{try{await Ze.post("/campaigns/".concat(e.id,"/cancel")),s.b.success(Qe.a.t("campaigns.toasts.cancel")),i(1),I()}catch(a){s.b.error(a.message)}})(e),title:"Parar Campanha",size:"small"},l.a.createElement(Eu.a,null)),"CANCELADA"===e.status&&l.a.createElement(M.a,{onClick:()=>(async e=>{try{await Ze.post("/campaigns/".concat(e.id,"/restart")),s.b.success(Qe.a.t("campaigns.toasts.restart")),i(1),I()}catch(a){s.b.error(a.message)}})(e),title:"Parar Campanha",size:"small"},l.a.createElement(pu.a,null)),l.a.createElement(M.a,{onClick:()=>a.push("/campaign/".concat(e.id,"/report")),size:"small"},l.a.createElement(mu.a,null)),l.a.createElement(M.a,{size:"small",onClick:()=>(e=>{u(e),b(!0)})(e)},l.a.createElement(bd.a,null)),l.a.createElement(M.a,{size:"small",onClick:a=>{v(!0),g(e)}},l.a.createElement(Yl.a,null))))),t&&l.a.createElement(xc,{columns:8}))))))};const Cu=Object(x.a)(e=>({mainPaper:{flex:1,padding:e.spacing(1),overflowY:"scroll",...e.scrollbarStyles},textRight:{textAlign:"right"},tabPanelsContainer:{padding:e.padding},paper:{padding:e.spacing(2),display:"flex",alignItems:"center",marginBottom:12}})),xu={messageInterval:20,longerIntervalAfter:20,greaterInterval:60,variables:[],sabado:"false",domingo:"false",startHour:"09:00",endHour:"18:00"};var Tu=()=>{const e=Cu(),a=Object(f.useHistory)(),[t,o]=Object(n.useState)(xu),[r,i]=Object(n.useState)(!1),[c,d]=Object(n.useState)(!1),[m,u]=Object(n.useState)(null),[p,g]=Object(n.useState)({key:"",value:""}),{user:E}=Object(n.useContext)(la),[b,h]=l.a.useState(!1),[v,y]=l.a.useState(!1),[A,C]=Object(n.useState)("08:00"),[x,T]=Object(n.useState)("19:00"),{getPlanCompany:O}=ua();Object(n.useEffect)(()=>{!async function(){const e=E.companyId;(await O(void 0,e)).plan.useCampaigns||(s.b.error("Esta empresa n\xe3o possui permiss\xe3o para acessar essa p\xe1gina! Estamos lhe redirecionando."),setTimeout(()=>{a.push("/")},1e3))}()},[]),Object(n.useEffect)(()=>{Ze.get("/campaign-settings").then(e=>{let{data:a}=e;const t=[];console.log(a),Array.isArray(a)&&a.length>0&&(a.forEach(e=>{t.push([e.key,e.value]),"sabado"===e.key&&h("true"===(null===e||void 0===e?void 0:e.value)),"domingo"===e.key&&y("true"===(null===e||void 0===e?void 0:e.value)),"startHour"===e.key&&C(null===e||void 0===e?void 0:e.value),"endHour"===e.key&&T(null===e||void 0===e?void 0:e.value)}),o(Object.fromEntries(t)))})},[]);const k=e=>{const a={};a[e.target.name]=e.target.value,o(e=>({...e,...a}))};return l.a.createElement(bc,null,l.a.createElement(wr,{title:Qe.a.t("campaigns.confirmationModal.deleteTitle"),open:c,onClose:()=>d(!1),onConfirm:()=>{const e=t.variables.filter(e=>e.key!==m);o(a=>({...a,variables:e})),u(null)}},Qe.a.t("campaigns.confirmationModal.deleteMessage")),l.a.createElement(hc,null,l.a.createElement(it.a,{style:{width:"99.6%"},container:!0},l.a.createElement(it.a,{xs:12,item:!0},l.a.createElement(Ac,null,Qe.a.t("campaignsConfig.title"))))),l.a.createElement(St.a,{className:e.mainPaper,variant:"outlined"},l.a.createElement(Zo.a,{className:e.tabPanelsContainer},l.a.createElement(it.a,{spacing:1,container:!0},l.a.createElement(it.a,{xs:12,item:!0},l.a.createElement(P.a,{component:"h1"},"Intervalos \xa0")),l.a.createElement(it.a,{xs:12,md:3,item:!0},l.a.createElement(xt.a,{variant:"outlined",className:e.formControl,fullWidth:!0},l.a.createElement(Ct.a,{id:"messageInterval-label"},Qe.a.t("campaigns.settings.randomInterval")),l.a.createElement(At.a,{name:"messageInterval",id:"messageInterval",labelId:"messageInterval-label",label:Qe.a.t("campaigns.settings.randomInterval"),value:t.messageInterval,onChange:e=>k(e)},l.a.createElement(F.a,{value:0},Qe.a.t("campaigns.settings.noBreak")),l.a.createElement(F.a,{value:5},"5 segundos"),l.a.createElement(F.a,{value:10},"10 segundos"),l.a.createElement(F.a,{value:15},"15 segundos"),l.a.createElement(F.a,{value:20},"20 segundos"),l.a.createElement(F.a,{value:30},"30 segundos"),l.a.createElement(F.a,{value:60},"40 segundos"),l.a.createElement(F.a,{value:70},"60 segundos"),l.a.createElement(F.a,{value:80},"80 segundos"),l.a.createElement(F.a,{value:100},"100 segundos"),l.a.createElement(F.a,{value:120},"120 segundos"),"                                                `` ``"))),l.a.createElement(it.a,{xs:12,md:3,item:!0},l.a.createElement(xt.a,{variant:"outlined",className:e.formControl,fullWidth:!0},l.a.createElement(Ct.a,{id:"longerIntervalAfter-label"},Qe.a.t("campaigns.settings.intervalGapAfter")),l.a.createElement(At.a,{name:"longerIntervalAfter",id:"longerIntervalAfter",labelId:"longerIntervalAfter-label",label:Qe.a.t("campaigns.settings.intervalGapAfter"),value:t.longerIntervalAfter,onChange:e=>k(e)},l.a.createElement(F.a,{value:0},Qe.a.t("campaigns.settings.undefined")),l.a.createElement(F.a,{value:5},"5 ",Qe.a.t("campaigns.settings.messages")),l.a.createElement(F.a,{value:10},"10 ",Qe.a.t("campaigns.settings.messages")),l.a.createElement(F.a,{value:15},"15 ",Qe.a.t("campaigns.settings.messages")),l.a.createElement(F.a,{value:20},"20 ",Qe.a.t("campaigns.settings.messages")),l.a.createElement(F.a,{value:30},"30 ",Qe.a.t("campaigns.settings.messages")),l.a.createElement(F.a,{value:40},"40 ",Qe.a.t("campaigns.settings.messages")),l.a.createElement(F.a,{value:50},"50 ",Qe.a.t("campaigns.settings.messages")),l.a.createElement(F.a,{value:60},"60 ",Qe.a.t("campaigns.settings.messages"))))),l.a.createElement(it.a,{xs:12,md:3,item:!0},l.a.createElement(xt.a,{variant:"outlined",className:e.formControl,fullWidth:!0},l.a.createElement(Ct.a,{id:"greaterInterval-label"},Qe.a.t("campaigns.settings.laggerTriggerRange")),l.a.createElement(At.a,{name:"greaterInterval",id:"greaterInterval",labelId:"greaterInterval-label",label:Qe.a.t("campaigns.settings.laggerTriggerRange"),value:t.greaterInterval,onChange:e=>k(e)},l.a.createElement(F.a,{value:0},Qe.a.t("campaigns.settings.noBreak")),l.a.createElement(F.a,{value:20},"20 segundos"),l.a.createElement(F.a,{value:30},"30 segundos"),l.a.createElement(F.a,{value:40},"40 segundos"),l.a.createElement(F.a,{value:50},"50 segundos"),l.a.createElement(F.a,{value:60},"60 segundos"),l.a.createElement(F.a,{value:70},"70 segundos"),l.a.createElement(F.a,{value:80},"80 segundos"),l.a.createElement(F.a,{value:90},"90 segundos"),l.a.createElement(F.a,{value:100},"100 segundos"),l.a.createElement(F.a,{value:110},"110 segundos"),l.a.createElement(F.a,{value:120},"120 segundos"),l.a.createElement(F.a,{value:130},"130 segundos"),l.a.createElement(F.a,{value:140},"140 segundos"),l.a.createElement(F.a,{value:150},"150 segundos"),l.a.createElement(F.a,{value:160},"160 segundos"),l.a.createElement(F.a,{value:170},"170 segundos"),l.a.createElement(F.a,{value:180},"180 segundos")))),l.a.createElement(it.a,{xs:12,className:e.textRight,item:!0},l.a.createElement(gt.a,{onClick:async()=>{await Ze.post("/campaign-settings",{settings:t}),s.b.success("Configura\xe7\xf5es salvas")},color:"primary",variant:"contained"},Qe.a.t("campaigns.settings.save")))))))},Ou=t(1191);const ku=Object(x.a)(e=>({cardAvatar:{fontSize:"55px",color:jn.a[500],backgroundColor:"#ffffff",width:e.spacing(7),height:e.spacing(7)},cardTitle:{fontSize:"18px",color:e.palette.text.primary},cardSubtitle:{color:jn.a[600],fontSize:"14px"}}));function Su(e){const{icon:a,title:t,value:n,loading:o}=e,r=ku();return o?l.a.createElement(Wn.a,{variant:"rect",height:80}):l.a.createElement(js.a,null,l.a.createElement(vr.a,{avatar:l.a.createElement(k.a,{className:r.cardAvatar},a),title:l.a.createElement(P.a,{variant:"h6",component:"h2",className:r.cardTitle},t),subheader:l.a.createElement(P.a,{variant:"subtitle1",component:"p",className:r.cardSubtitle},n)}))}var wu=t(1064),Mu=t.n(wu),Iu=t(1065),ju=t.n(Iu);const Nu=Object(x.a)(e=>({mainPaper:{flex:1,padding:e.padding,overflowY:"scroll",...e.scrollbarStyles},textRight:{textAlign:"right"},tabPanelsContainer:{padding:e.padding}}));var Ru=()=>{const e=Nu(),a=Object(f.useHistory)(),{campaignId:t}=Object(f.useParams)(),[o,r]=Object(n.useState)({}),[i,c]=Object(n.useState)(0),[d,m]=Object(n.useState)(0),[u,p]=Object(n.useState)(0),[g,E]=Object(n.useState)(0),[b,h]=Object(n.useState)(0),[v,y]=Object(n.useState)(!1),C=Object(n.useRef)(!0),{user:x}=Object(n.useContext)(la),{datetimeToClient:T}=ta(),{getPlanCompany:O}=ua();Object(n.useEffect)(()=>{!async function(){const e=x.companyId;(await O(void 0,e)).plan.useCampaigns||(s.b.error("Esta empresa n\xe3o possui permiss\xe3o para acessar essa p\xe1gina! Estamos lhe redirecionando."),setTimeout(()=>{a.push("/")},1e3))}()},[]),Object(n.useEffect)(()=>(C.current&&k(),()=>{C.current=!1}),[]),Object(n.useEffect)(()=>{if(C.current&&Object(A.has)(o,"shipping")){if(Object(A.has)(o,"contactList")){const e=Object(A.get)(o,"contactList").contacts.filter(e=>e.isWhatsappValid);c(e.length)}if(Object(A.has)(o,"shipping")){const e=Object(A.get)(o,"shipping"),a=e.filter(e=>!Object(A.isNull)(e.deliveredAt)),t=e.filter(e=>!Object(A.isNull)(e.confirmationRequestedAt)),n=e.filter(e=>!Object(A.isNull)(e.deliveredAt)&&!Object(A.isNull)(e.confirmationRequestedAt));m(a.length),p(t.length),E(n.length),m(a.length)}}},[o]),Object(n.useEffect)(()=>{h(d/i*100)},[d,i]),Object(n.useEffect)(()=>{const e=x.companyId,a=aa({companyId:e,userId:x.id});return a.on("company-".concat(e,"-campaign"),e=>{e.record.id===+t&&(r(e.record),"FINALIZADA"===e.record.status&&setTimeout(()=>{k()},5e3))}),()=>{a.disconnect()}},[t]);const k=async()=>{y(!0);const{data:e}=await Ze.get("/campaigns/".concat(t));r(e),y(!1)};return l.a.createElement(bc,null,l.a.createElement(hc,null,l.a.createElement(it.a,{style:{width:"99.6%"},container:!0},l.a.createElement(it.a,{xs:12,item:!0},l.a.createElement(Ac,null,Qe.a.t("campaignReport.title")," ",o.name||Qe.a.t("campaignReport.campaign"))))),l.a.createElement(St.a,{className:e.mainPaper,variant:"outlined"},l.a.createElement(P.a,{variant:"h6",component:"h2"},"Status: ",(e=>{switch(e){case"INATIVA":return Qe.a.t("campaignReport.inactive");case"PROGRAMADA":return Qe.a.t("campaignReport.scheduled");case"EM_ANDAMENTO":return Qe.a.t("campaignReport.process");case"CANCELADA":return Qe.a.t("campaignReport.cancelled");case"FINALIZADA":return Qe.a.t("campaignReport.finished");default:return e}})(o.status)," ",d," de ",i),l.a.createElement(it.a,{spacing:2,container:!0},l.a.createElement(it.a,{xs:12,item:!0},l.a.createElement(Ou.a,{variant:"determinate",style:{height:15,borderRadius:3,margin:"20px 0"},value:b})),l.a.createElement(it.a,{xs:12,md:4,item:!0},l.a.createElement(Su,{icon:l.a.createElement(Eo.a,{fontSize:"inherit"}),title:Qe.a.t("campaignReport.validContacts"),value:i,loading:v})),o.confirmation&&l.a.createElement(l.a.Fragment,null,l.a.createElement(it.a,{xs:12,md:4,item:!0},l.a.createElement(Su,{icon:l.a.createElement(Mu.a,{fontSize:"inherit"}),title:Qe.a.t("campaignReport.confirmationsRequested"),value:u,loading:v})),l.a.createElement(it.a,{xs:12,md:4,item:!0},l.a.createElement(Su,{icon:l.a.createElement(ju.a,{fontSize:"inherit"}),title:Qe.a.t("campaignReport.confirmations"),value:g,loading:v}))),l.a.createElement(it.a,{xs:12,md:4,item:!0},l.a.createElement(Su,{icon:l.a.createElement(Na.a,{fontSize:"inherit"}),title:Qe.a.t("campaignReport.deliver"),value:d,loading:v})),o.whatsappId&&l.a.createElement(it.a,{xs:12,md:4,item:!0},l.a.createElement(Su,{icon:l.a.createElement($.a,{fontSize:"inherit"}),title:Qe.a.t("campaignReport.connection"),value:o.whatsapp.name,loading:v})),o.contactListId&&l.a.createElement(it.a,{xs:12,md:4,item:!0},l.a.createElement(Su,{icon:l.a.createElement(je.a,{fontSize:"inherit"}),title:Qe.a.t("campaignReport.contactLists"),value:o.contactList.name,loading:v})),l.a.createElement(it.a,{xs:12,md:4,item:!0},l.a.createElement(Su,{icon:l.a.createElement(ve.a,{fontSize:"inherit"}),title:Qe.a.t("campaignReport.schedule"),value:T(o.scheduledAt),loading:v})),l.a.createElement(it.a,{xs:12,md:4,item:!0},l.a.createElement(Su,{icon:l.a.createElement(xe.a,{fontSize:"inherit"}),title:Qe.a.t("campaignReport.conclusion"),value:T(o.completedAt),loading:v})))))};const Pu=Object(x.a)(e=>({root:{display:"flex",flexWrap:"wrap"},multFieldLine:{display:"flex","& > *:not(:last-child)":{marginRight:e.spacing(1)}},btnWrapper:{position:"relative"},buttonProgress:{color:Sa.a[500],position:"absolute",top:"50%",left:"50%",marginTop:-12,marginLeft:-12},formControl:{margin:e.spacing(1),minWidth:120},colorAdorment:{width:20,height:20}})),Du=ut.c().shape({title:ut.d().required("Obrigat\xf3rio"),text:ut.d().required("Obrigat\xf3rio")});var Fu=e=>{let{open:a,onClose:t,announcementId:o,reload:r}=e;const i=Pu(),c={title:"",text:"",priority:3,status:!0},[d,m]=Object(n.useState)(!1),[u,p]=Object(n.useState)(c),[g,E]=Object(n.useState)(null),b=Object(n.useRef)(null);Object(n.useEffect)(()=>{try{(async()=>{if(!o)return;const{data:e}=await Ze.get("/announcements/".concat(o));p(a=>({...a,...e}))})()}catch(e){Ke(e)}},[o,a]);const f=()=>{p(c),E(null),t()};return l.a.createElement("div",{className:i.root},l.a.createElement(wr,{title:Qe.a.t("announcements.confirmationModal.deleteTitle"),open:d,onClose:()=>m(!1),onConfirm:async()=>{g&&(E(null),b.current.value=null),u.mediaPath&&(await Ze.delete("/announcements/".concat(u.id,"/media-upload")),p(e=>({...e,mediaPath:null})),s.b.success(Qe.a.t("announcements.toasts.deleted")),"function"==typeof r&&r())}},Qe.a.t("announcements.confirmationModal.deleteMessage")),l.a.createElement(bt.a,{open:a,onClose:f,maxWidth:"xs",fullWidth:!0,scroll:"paper"},l.a.createElement(vt.a,{id:"form-dialog-title"},"".concat(o?Qe.a.t("announcements.dialog.edit"):Qe.a.t("announcements.dialog.add"))),l.a.createElement("div",{style:{display:"none"}},l.a.createElement("input",{type:"file",accept:".png,.jpg,.jpeg",ref:b,onChange:e=>(e=>{const a=Object(A.head)(e.target.files);a&&E(a)})(e)})),l.a.createElement(pt.f,{initialValues:u,enableReinitialize:!0,validationSchema:Du,onSubmit:(e,a)=>{setTimeout(()=>{(async e=>{const a={...e};try{if(o){if(await Ze.put("/announcements/".concat(o),a),null!=g){const e=new FormData;e.append("typeArch","announcements"),e.append("file",g),await Ze.post("/announcements/".concat(o,"/media-upload"),e)}}else{const{data:e}=await Ze.post("/announcements",a);if(null!=g){const a=new FormData;a.append("typeArch","announcements"),a.append("file",g),await Ze.post("/announcements/".concat(e.id,"/media-upload"),a)}}s.b.success(Qe.a.t("announcements.toasts.success")),"function"==typeof r&&r()}catch(t){Ke(t)}f()})(e),a.setSubmitting(!1)},400)}},e=>{let{touched:a,errors:t,isSubmitting:n,values:r}=e;return l.a.createElement(pt.e,null,l.a.createElement(ht.a,{dividers:!0},l.a.createElement(it.a,{spacing:2,container:!0},l.a.createElement(it.a,{xs:12,item:!0},l.a.createElement(pt.c,{as:Et.a,label:Qe.a.t("announcements.dialog.form.title"),name:"title",error:a.title&&Boolean(t.title),helperText:a.title&&t.title,variant:"outlined",margin:"dense",fullWidth:!0})),l.a.createElement(it.a,{xs:12,item:!0},l.a.createElement(pt.c,{as:Et.a,label:Qe.a.t("announcements.dialog.form.text"),name:"text",error:a.text&&Boolean(t.text),helperText:a.text&&t.text,variant:"outlined",margin:"dense",multiline:!0,rows:7,fullWidth:!0})),l.a.createElement(it.a,{xs:12,item:!0},l.a.createElement(xt.a,{variant:"outlined",margin:"dense",fullWidth:!0},l.a.createElement(Ct.a,{id:"status-selection-label"},Qe.a.t("announcements.dialog.form.status")),l.a.createElement(pt.c,{as:At.a,label:Qe.a.t("announcements.dialog.form.status"),placeholder:Qe.a.t("announcements.dialog.form.status"),labelId:"status-selection-label",id:"status",name:"status",error:a.status&&Boolean(t.status)},l.a.createElement(F.a,{value:!0},Qe.a.t("announcements.dialog.form.active")),l.a.createElement(F.a,{value:!1},Qe.a.t("announcements.dialog.form.inactive"))))),l.a.createElement(it.a,{xs:12,item:!0},l.a.createElement(xt.a,{variant:"outlined",margin:"dense",fullWidth:!0},l.a.createElement(Ct.a,{id:"priority-selection-label"},Qe.a.t("announcements.dialog.form.priority")),l.a.createElement(pt.c,{as:At.a,label:Qe.a.t("announcements.dialog.form.priority"),placeholder:Qe.a.t("announcements.dialog.form.priority"),labelId:"priority-selection-label",id:"priority",name:"priority",error:a.priority&&Boolean(t.priority)},l.a.createElement(F.a,{value:1},Qe.a.t("announcements.dialog.form.high")),l.a.createElement(F.a,{value:2},Qe.a.t("announcements.dialog.form.medium")),l.a.createElement(F.a,{value:3},Qe.a.t("announcements.dialog.form.low"))))),(u.mediaPath||g)&&l.a.createElement(it.a,{xs:12,item:!0},l.a.createElement(gt.a,{startIcon:l.a.createElement(jd.a,null)},g?g.name:u.mediaName),l.a.createElement(M.a,{onClick:()=>m(!0),color:"secondary"},l.a.createElement(Yl.a,null))))),l.a.createElement(ft.a,null,!g&&!u.mediaPath&&l.a.createElement(gt.a,{color:"primary",onClick:()=>b.current.click(),disabled:n,variant:"outlined"},Qe.a.t("announcements.dialog.buttons.attach")),l.a.createElement(gt.a,{onClick:f,color:"secondary",disabled:n,variant:"outlined"},Qe.a.t("announcements.dialog.buttons.cancel")),l.a.createElement(gt.a,{type:"submit",color:"primary",disabled:n,variant:"contained",className:i.btnWrapper},"".concat(o?Qe.a.t("announcements.dialog.buttons.edit"):Qe.a.t("announcements.dialog.buttons.add")),n&&l.a.createElement(yt.a,{size:24,className:i.buttonProgress}))))})))};const Lu=(e,a)=>{if("LOAD_ANNOUNCEMENTS"===a.type){const t=a.payload,n=[];return Object(A.isArray)(t)&&t.forEach(a=>{const t=e.findIndex(e=>e.id===a.id);-1!==t?e[t]=a:n.push(a)}),[...e,...n]}if("UPDATE_ANNOUNCEMENTS"===a.type){const t=a.payload,n=e.findIndex(e=>e.id===t.id);return-1!==n?(e[n]=t,[...e]):[t,...e]}if("DELETE_ANNOUNCEMENT"===a.type){const t=a.payload,n=e.findIndex(e=>e.id===t);return-1!==n&&e.splice(n,1),[...e]}if("RESET"===a.type)return[]},qu=Object(x.a)(e=>({mainPaper:{flex:1,padding:e.padding,overflowY:"scroll",...e.scrollbarStyles}}));var Wu=()=>{const e=qu(),a=Object(f.useHistory)(),{user:t}=Object(n.useContext)(la),[o,r]=Object(n.useState)(!1),[i,c]=Object(n.useState)(1),[d,m]=Object(n.useState)(!1),[u,p]=Object(n.useState)(null),[g,E]=Object(n.useState)(null),[b,h]=Object(n.useState)(!1),[v,y]=Object(n.useState)(!1),[A,C]=Object(n.useState)(""),[x,T]=Object(n.useReducer)(Lu,[]);Object(n.useEffect)(()=>{!async function(){t.super||(s.b.error("Esta empresa n\xe3o possui permiss\xe3o para acessar essa p\xe1gina! Estamos lhe redirecionando."),setTimeout(()=>{a.push("/")},1e3))}()},[]),Object(n.useEffect)(()=>{T({type:"RESET"}),c(1)},[A]),Object(n.useEffect)(()=>{r(!0);const e=setTimeout(()=>{O()},500);return()=>clearTimeout(e)},[A,i]),Object(n.useEffect)(()=>{const e=aa({companyId:t.companyId,userId:t.id});return e.on("company-announcement",e=>{"update"!==e.action&&"create"!==e.action||T({type:"UPDATE_ANNOUNCEMENTS",payload:e.record}),"delete"===e.action&&T({type:"DELETE_ANNOUNCEMENT",payload:+e.id})}),()=>{e.disconnect()}},[]);const O=async()=>{try{const{data:e}=await Ze.get("/announcements/",{params:{searchParam:A,pageNumber:i}});T({type:"LOAD_ANNOUNCEMENTS",payload:e.records}),m(e.hasMore),r(!1)}catch(e){Ke(e)}};return l.a.createElement(bc,null,l.a.createElement(wr,{title:g&&"".concat(Qe.a.t("announcements.confirmationModal.deleteTitle")," ").concat(g.name,"?"),open:v,onClose:y,onConfirm:()=>(async e=>{try{e.mediaName&&await Ze.delete("/announcements/".concat(e.id,"/media-upload")),await Ze.delete("/announcements/".concat(e.id)),s.b.success(Qe.a.t("announcements.toasts.deleted"))}catch(a){Ke(a)}E(null),C(""),c(1)})(g)},Qe.a.t("announcements.confirmationModal.deleteMessage")),l.a.createElement(Fu,{resetPagination:()=>{c(1),O()},open:b,onClose:()=>{p(null),h(!1)},"aria-labelledby":"form-dialog-title",announcementId:u&&u.id}),l.a.createElement(hc,null,l.a.createElement(it.a,{style:{width:"99.6%"},container:!0},l.a.createElement(it.a,{xs:12,sm:8,item:!0},l.a.createElement(Ac,null,Qe.a.t("announcements.title")," (",x.length,")")),l.a.createElement(it.a,{xs:12,sm:4,item:!0},l.a.createElement(it.a,{spacing:2,container:!0},l.a.createElement(it.a,{xs:6,sm:6,item:!0},l.a.createElement(Et.a,{fullWidth:!0,placeholder:Qe.a.t("announcements.searchPlaceholder"),type:"search",value:A,onChange:e=>{C(e.target.value.toLowerCase())},InputProps:{startAdornment:l.a.createElement(Yi.a,{position:"start"},l.a.createElement(gd.a,{style:{color:"gray"}}))}})),l.a.createElement(it.a,{xs:6,sm:6,item:!0},l.a.createElement(gt.a,{fullWidth:!0,variant:"contained",onClick:()=>{p(null),h(!0)},color:"primary"},Qe.a.t("announcements.buttons.add"))))))),l.a.createElement(St.a,{className:e.mainPaper,variant:"outlined",onScroll:e=>{if(!d||o)return;const{scrollTop:a,scrollHeight:t,clientHeight:n}=e.currentTarget;t-(a+100)<n&&c(e=>e+1)}},l.a.createElement(Rn.a,{size:"small"},l.a.createElement(Ln.a,null,l.a.createElement(qn.a,null,l.a.createElement(Dn.a,{align:"center"},Qe.a.t("announcements.table.title")),l.a.createElement(Dn.a,{align:"center"},Qe.a.t("announcements.table.priority")),l.a.createElement(Dn.a,{align:"center"},Qe.a.t("announcements.table.mediaName")),l.a.createElement(Dn.a,{align:"center"},Qe.a.t("announcements.table.status")),l.a.createElement(Dn.a,{align:"center"},Qe.a.t("announcements.table.actions")))),l.a.createElement(Pn.a,null,l.a.createElement(l.a.Fragment,null,x.map(e=>{var a,t;return l.a.createElement(qn.a,{key:e.id},l.a.createElement(Dn.a,{align:"center"},e.title),l.a.createElement(Dn.a,{align:"center"},1===(t=e.priority)?"Alta":2===t?"M\xe9dia":3===t?"Baixa":void 0),l.a.createElement(Dn.a,{align:"center"},null!==(a=e.mediaName)&&void 0!==a?a:Qe.a.t("quickMessages.noAttachment")),l.a.createElement(Dn.a,{align:"center"},e.status?Qe.a.t("announcements.active"):Qe.a.t("announcements.inactive")),l.a.createElement(Dn.a,{align:"center"},l.a.createElement(M.a,{size:"small",onClick:()=>(e=>{p(e),h(!0)})(e)},l.a.createElement(bd.a,null)),l.a.createElement(M.a,{size:"small",onClick:a=>{y(!0),E(e)}},l.a.createElement(Yl.a,null))))}),o&&l.a.createElement(xc,{columns:5}))))))};const Bu=Object(x.a)(e=>({mainContainer:{display:"flex",flexDirection:"column",position:"relative",flex:1,height:"calc(100% - 58px)",overflow:"hidden",borderRadius:0,backgroundColor:"light"===e.mode?"#f2f2f2":"#7f7f7f"},chatList:{display:"flex",flexDirection:"column",position:"relative",flex:1,overflowY:"scroll",...e.scrollbarStyles},listItemActive:{cursor:"pointer",backgroundColor:e.palette.background.paper,borderLeft:"6px solid #002d6e"},listItem:{cursor:"pointer",backgroundColor:e.palette.background.color}}));function zu(e){let{chats:a,handleSelectChat:t,handleDeleteChat:o,handleEditChat:r,pageInfo:s,loading:i}=e;const c=Bu(),d=Object(f.useHistory)(),{user:m}=Object(n.useContext)(la),{datetimeToClient:u}=ta(),[p,g]=Object(n.useState)(!1),[E,b]=Object(n.useState)({}),{id:h}=Object(f.useParams)(),v=async e=>{if(y(e)>0)try{await Ze.post("/chats/".concat(e.id,"/read"),{userId:m.id})}catch(a){}h!==e.uuid&&(d.push("/chats/".concat(e.uuid)),t(e))},y=e=>e.users.find(e=>e.userId===m.id).unreads,A=e=>{const a=e.title,t=y(e);return l.a.createElement(l.a.Fragment,null,a,t>0&&l.a.createElement(Tt.a,{size:"small",style:{marginLeft:5},label:t,color:"secondary"}))},C=e=>""!==e.lastMessage?"".concat(u(e.updatedAt),": ").concat(e.lastMessage):"";return l.a.createElement(l.a.Fragment,null,l.a.createElement(wr,{title:"Excluir Conversa",open:p,onClose:g,onConfirm:()=>{o(E)}},"Esta a\xe7\xe3o n\xe3o pode ser revertida, confirmar?"),l.a.createElement("div",{className:c.mainContainer},l.a.createElement("div",{className:c.chatList},l.a.createElement(I.a,null,Array.isArray(a)&&a.length>0&&a.map((e,a)=>l.a.createElement(G.a,{onClick:()=>v(e),key:a,className:e.uuid===h?c.listItemActive:c.listItem,button:!0},l.a.createElement(K.a,{primary:A(e),secondary:C(e)}),e.ownerId===m.id&&l.a.createElement(xr.a,null,l.a.createElement(M.a,{onClick:()=>{v(e).then(()=>{r(e)})},edge:"end","aria-label":"delete",size:"small",style:{marginRight:5}},l.a.createElement(bd.a,null)),l.a.createElement(M.a,{onClick:()=>{b(e),g(!0)},edge:"end","aria-label":"delete",size:"small"},l.a.createElement(Or.a,null)))))))))}const Hu=Object(x.a)(e=>({mainContainer:{display:"flex",flexDirection:"column",position:"relative",flex:1,overflow:"hidden",borderRadius:0,height:"100%",borderLeft:"1px solid rgba(0, 0, 0, 0.12)"},messageList:{position:"relative",overflowY:"auto",height:"100%",...e.scrollbarStyles,backgroundColor:"light"===e.mode?"#f2f2f2":"#7f7f7f"},inputArea:{position:"relative",height:"auto"},input:{padding:"20px"},buttonSend:{margin:e.spacing(1)},boxLeft:{padding:"10px 10px 5px",margin:"10px",position:"relative",backgroundColor:"#ffffff",color:"#303030",maxWidth:300,borderRadius:10,borderBottomLeftRadius:0,border:"1px solid rgba(0, 0, 0, 0.12)"},boxRight:{padding:"10px 10px 5px",margin:"10px 10px 10px auto",position:"relative",backgroundColor:"#dcf8c6",color:"#303030",textAlign:"right",maxWidth:300,borderRadius:10,borderBottomRightRadius:0,border:"1px solid rgba(0, 0, 0, 0.12)"}}));function Uu(e){let{chat:a,messages:t,handleSendMessage:o,handleLoadMore:r,scrollToBottomRef:s,pageInfo:i,loading:c}=e;const d=Hu(),{user:m}=Object(n.useContext)(la),{datetimeToClient:u}=ta(),p=Object(n.useRef)(),[g,E]=Object(n.useState)(""),b=()=>{p.current&&p.current.scrollIntoView({})};Object(n.useEffect)(()=>{if((e=>{if(void 0!==e){return e.users.find(e=>e.userId===m.id).unreads>0}return 0})(a)>0)try{Ze.post("/chats/".concat(a.id,"/read"),{userId:m.id})}catch(e){}s.current=b},[]);return l.a.createElement(St.a,{className:d.mainContainer},l.a.createElement("div",{onScroll:e=>{const{scrollTop:a}=e.currentTarget;i.hasMore&&!c&&a<600&&r()},className:d.messageList},Array.isArray(t)&&t.map((e,a)=>e.senderId===m.id?l.a.createElement(Zo.a,{key:a,className:d.boxRight},l.a.createElement(P.a,{variant:"subtitle2"},e.sender.name),e.message,l.a.createElement(P.a,{variant:"caption",display:"block"},u(e.createdAt))):l.a.createElement(Zo.a,{key:a,className:d.boxLeft},l.a.createElement(P.a,{variant:"subtitle2"},e.sender.name),e.message,l.a.createElement(P.a,{variant:"caption",display:"block"},u(e.createdAt)))),l.a.createElement("div",{ref:p})),l.a.createElement("div",{className:d.inputArea},l.a.createElement(xt.a,{variant:"outlined",fullWidth:!0},l.a.createElement(It.a,{multiline:!0,value:g,onKeyUp:e=>{"Enter"===e.key&&""!==g.trim()&&(o(g),E(""))},onChange:e=>E(e.target.value),className:d.input,endAdornment:l.a.createElement(Yi.a,{position:"end"},l.a.createElement(M.a,{onClick:()=>{""!==g.trim()&&(o(g),E(""))},className:d.buttonSend},l.a.createElement(Tn.a,null)))}))))}const Qu=Object(x.a)(e=>({mainContainer:{display:"flex",flexDirection:"column",position:"relative",flex:1,padding:e.spacing(2),height:"calc(100% - 48px)",overflowY:"hidden",border:"1px solid rgba(0, 0, 0, 0.12)"},gridContainer:{flex:1,height:"100%",border:"1px solid rgba(0, 0, 0, 0.12)",background:e.palette.background.color},gridItem:{height:"100%"},gridItemTab:{height:"92%",width:"100%"},btnContainer:{textAlign:"right",padding:10}}));function Gu(e){let{open:a,chat:t,type:o,handleClose:r,handleLoadNewChat:s}=e;const[i,c]=Object(n.useState)([]),[d,m]=Object(n.useState)("");Object(n.useEffect)(()=>{if(m(""),c([]),"edit"===o){const e=t.users.map(e=>({id:e.user.id,name:e.user.name}));c(e),m(t.title)}},[t,a,o]);return l.a.createElement(bt.a,{open:a,onClose:r,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description"},l.a.createElement(vt.a,{id:"alert-dialog-title"},Qe.a.t("chatInternal.modal.title")),l.a.createElement(ht.a,null,l.a.createElement(it.a,{spacing:2,container:!0},l.a.createElement(it.a,{xs:12,style:{padding:18},item:!0},l.a.createElement(Et.a,{label:"T\xedtulo",placeholder:"T\xedtulo",value:d,onChange:e=>m(e.target.value),variant:"outlined",size:"small",fullWidth:!0})),l.a.createElement(it.a,{xs:12,item:!0},l.a.createElement(er,{onFiltered:e=>c(e),initialUsers:i})))),l.a.createElement(ft.a,null,l.a.createElement(gt.a,{onClick:r,color:"primary"},Qe.a.t("chatInternal.modal.cancel")),l.a.createElement(gt.a,{onClick:async()=>{try{if("edit"===o)await Ze.put("/chats/".concat(t.id),{users:i,title:d});else{const{data:e}=await Ze.post("/chats",{users:i,title:d});s(e)}r()}catch(e){}},color:"primary",variant:"contained",disabled:void 0===i||0===i.length||null===d||""===d||void 0===d},Qe.a.t("chatInternal.modal.save"))))}var Vu=Object(Ol.a)()((function(e){const a=Qu(),{user:t}=Object(n.useContext)(la),o=Object(f.useHistory)(),[r,s]=Object(n.useState)(!1),[i,c]=Object(n.useState)("new"),[d,m]=Object(n.useState)({}),[u,p]=Object(n.useState)([]),[g,E]=Object(n.useState)({hasMore:!1}),[b,h]=Object(n.useState)([]),[v,y]=Object(n.useState)({hasMore:!1}),[C,x]=Object(n.useState)(1),[T,O]=Object(n.useState)(!1),[k,S]=Object(n.useState)(0),w=Object(n.useRef)(!0),M=Object(n.useRef)(),{id:I}=Object(f.useParams)();Object(n.useEffect)(()=>()=>{w.current=!1},[]),Object(n.useEffect)(()=>{w.current&&F().then(e=>{const{records:a}=e;if(a.length>0&&(p(a),E(e),I&&a.length)){const e=a.find(e=>e.uuid===I);j(e)}})},[]),Object(n.useEffect)(()=>{Object(A.isObject)(d)&&Object(A.has)(d,"id")&&P(d.id).then(()=>{"function"===typeof M.current&&setTimeout(()=>{M.current()},300)})},[d]),Object(n.useEffect)(()=>{const e=t.companyId,a=aa({companyId:e,userId:t.id});return a.on("company-".concat(e,"-chat-user-").concat(t.id),e=>{if("create"===e.action&&p(a=>[e.record,...a]),"update"===e.action){const a=u.map(a=>a.id===e.record.id?(m(e.record),{...e.record}):a);p(a)}}),a.on("company-".concat(e,"-chat"),e=>{if("delete"===e.action){const a=u.filter(a=>a.id!==+e.id);p(a),h([]),x(1),y({hasMore:!1}),m({}),o.push("/chats")}}),Object(A.isObject)(d)&&Object(A.has)(d,"id")&&a.on("company-".concat(e,"-chat-").concat(d.id),e=>{if("new-message"===e.action){h(a=>[...a,e.newMessage]);const a=u.map(a=>a.id===e.newMessage.chatId?{...e.chat}:a);p(a),M.current()}if("update"===e.action){const a=u.map(a=>a.id===e.chat.id?{...e.chat}:a);p(a),M.current()}}),()=>{a.disconnect()}},[d]);const j=e=>{try{h([]),x(1),m(e),S(1)}catch(a){}},N=async e=>{O(!0);try{await Ze.post("/chats/".concat(d.id,"/messages"),{message:e})}catch(a){}O(!1)},R=async e=>{try{await Ze.delete("/chats/".concat(e.id))}catch(a){}},P=async e=>{O(!0);try{const{data:a}=await Ze.get("/chats/".concat(e,"/messages?pageNumber=").concat(C));x(e=>e+1),y(a),h(e=>[...a.records,...e])}catch(a){}O(!1)},D=async()=>{T||P(d.id)},F=async()=>{try{const{data:e}=await Ze.get("/chats");return e}catch(e){console.log(e)}};return l.a.createElement(l.a.Fragment,null,l.a.createElement(Gu,{type:i,open:r,chat:d,handleLoadNewChat:e=>{h([]),x(1),m(e),S(1),o.push("/chats/".concat(e.uuid))},handleClose:()=>s(!1)}),l.a.createElement(St.a,{className:a.mainContainer},Object(Ol.c)("md",e.width)?l.a.createElement(it.a,{className:a.gridContainer,container:!0},l.a.createElement(it.a,{className:a.gridItem,md:3,item:!0},l.a.createElement("div",{className:a.btnContainer},l.a.createElement(gt.a,{onClick:()=>{c("new"),s(!0)},color:"primary",variant:"contained"},Qe.a.t("chatInternal.new"))),l.a.createElement(zu,{chats:u,pageInfo:g,loading:T,handleSelectChat:e=>j(e),handleDeleteChat:e=>R(e),handleEditChat:()=>{c("edit"),s(!0)}})),l.a.createElement(it.a,{className:a.gridItem,md:9,item:!0},Object(A.isObject)(d)&&Object(A.has)(d,"id")&&l.a.createElement(Uu,{chat:d,scrollToBottomRef:M,pageInfo:v,messages:b,loading:T,handleSendMessage:N,handleLoadMore:D}))):l.a.createElement(it.a,{className:a.gridContainer,container:!0},l.a.createElement(it.a,{md:12,item:!0},l.a.createElement(wt.a,{value:k,indicatorColor:"primary",textColor:"primary",onChange:(e,a)=>S(a),"aria-label":"disabled tabs example"},l.a.createElement(Mt.a,{label:"Chats"}),l.a.createElement(Mt.a,{label:"Mensagens"}))),0===k&&l.a.createElement(it.a,{className:a.gridItemTab,md:12,item:!0},l.a.createElement("div",{className:a.btnContainer},l.a.createElement(gt.a,{onClick:()=>s(!0),color:"primary",variant:"contained"},"Novo")),l.a.createElement(zu,{chats:u,pageInfo:g,loading:T,handleSelectChat:e=>j(e),handleDeleteChat:e=>R(e)})),1===k&&l.a.createElement(it.a,{className:a.gridItemTab,md:12,item:!0},Object(A.isObject)(d)&&Object(A.has)(d,"id")&&l.a.createElement(Uu,{scrollToBottomRef:M,pageInfo:v,messages:b,loading:T,handleSendMessage:N,handleLoadMore:D})))))}));const Ku=Object(x.a)(e=>({formControl:{margin:e.spacing(1),minWidth:120}}));var _u=()=>{const e=Ku(),[a,t]=Object(n.useState)([]);return Object(n.useEffect)(()=>{(async()=>{try{const{data:e}=await Ze.get("/queue");t(e)}catch(e){Ke("QUEUESELETSINGLE >>> ".concat(e))}})()},[]),l.a.createElement("div",{style:{marginTop:6}},l.a.createElement(xt.a,{variant:"outlined",className:e.FormControl,margin:"dense",fullWidth:!0},l.a.createElement("div",null,l.a.createElement(P.a,null,Qe.a.t("queueSelect.inputLabel")),l.a.createElement(pt.c,{as:At.a,label:Qe.a.t("queueSelect.inputLabel"),name:"queueId",labelId:"queue-selection-label",id:"queue-selection",fullWidth:!0},a.map(e=>l.a.createElement(F.a,{key:e.id,value:e.id},e.name))))))};const Yu=Object(x.a)(e=>({root:{display:"flex",flexWrap:"wrap"},multFieldLine:{display:"flex","& > *:not(:last-child)":{marginRight:e.spacing(1)}},btnWrapper:{position:"relative"},buttonProgress:{color:Sa.a[500],position:"absolute",top:"50%",left:"50%",marginTop:-12,marginLeft:-12},formControl:{margin:e.spacing(1),minWidth:120},colorAdorment:{width:20,height:20}}));ut.c().shape({name:ut.d().min(5,"Muito curto!").max(100,"Muito longo!").required("Obrigat\xf3rio"),prompt:ut.d().min(50,"Muito curto!").required("Descreva o treinamento para Intelig\xeancia Artificial"),voice:ut.d().required("Informe o modo para Voz"),max_tokens:ut.b().required("Informe o n\xfamero m\xe1ximo de tokens"),temperature:ut.b().required("Informe a temperatura"),apikey:ut.d().required("Informe a API Key"),queueId:ut.b().required("Informe a fila"),max_messages:ut.b().required("Informe o n\xfamero m\xe1ximo de mensagens")});var Xu=e=>{let{open:a,onClose:t,promptId:o}=e;const r=Yu(),[i,c]=Object(n.useState)("texto"),[d,m]=Object(n.useState)(!1),u=()=>{m(!d)},p={name:"",prompt:"",voice:"texto",voiceKey:"",voiceRegion:"",maxTokens:100,temperature:1,apiKey:"",queueId:null,maxMessages:10},[g,E]=Object(n.useState)(p);Object(n.useEffect)(()=>{(async()=>{if(o)try{const{data:e}=await Ze.get("/prompt/".concat(o));E(a=>({...a,...e})),c(e.voice)}catch(e){Ke(e)}else E(p)})()},[o,a]);const b=()=>{E(p),c("texto"),t()},f=e=>{c(e.target.value)};return l.a.createElement("div",{className:r.root},l.a.createElement(bt.a,{open:a,onClose:b,maxWidth:"md",scroll:"paper",fullWidth:!0},l.a.createElement(vt.a,{id:"form-dialog-title"},"".concat(o?Qe.a.t("promptModal.title.edit"):Qe.a.t("promptModal.title.add"))),l.a.createElement(pt.f,{initialValues:g,enableReinitialize:!0,onSubmit:(e,a)=>{setTimeout(()=>{(async e=>{const a={...e,voice:i};if(e.queueId){try{o?await Ze.put("/prompt/".concat(o),a):await Ze.post("/prompt",a),s.b.success(Qe.a.t("promptModal.success"))}catch(t){Ke(t)}b()}else Ke("Informe o setor")})(e),a.setSubmitting(!1)},400)}},e=>{let{touched:a,errors:t,isSubmitting:n,values:s}=e;return l.a.createElement(pt.e,{style:{width:"100%"}},l.a.createElement(ht.a,{dividers:!0},l.a.createElement(pt.c,{as:Et.a,label:Qe.a.t("promptModal.form.name"),name:"name",error:a.name&&Boolean(t.name),helperText:a.name&&t.name,variant:"outlined",margin:"dense",fullWidth:!0,required:!0}),l.a.createElement(xt.a,{fullWidth:!0,margin:"dense",variant:"outlined"},l.a.createElement(pt.c,{as:Et.a,label:Qe.a.t("promptModal.form.apikey"),name:"apiKey",type:d?"text":"password",error:a.apiKey&&Boolean(t.apiKey),helperText:a.apiKey&&t.apiKey,variant:"outlined",margin:"dense",fullWidth:!0,required:!0,InputProps:{endAdornment:l.a.createElement(Yi.a,{position:"end"},l.a.createElement(M.a,{onClick:u},d?l.a.createElement(Xi.a,null):l.a.createElement(Ji.a,null)))}})),l.a.createElement(pt.c,{as:Et.a,label:Qe.a.t("promptModal.form.prompt"),name:"prompt",error:a.prompt&&Boolean(t.prompt),helperText:a.prompt&&t.prompt,variant:"outlined",margin:"dense",fullWidth:!0,required:!0,rows:10,multiline:!0}),l.a.createElement(_u,null),l.a.createElement("div",{className:r.multFieldLine},l.a.createElement(xt.a,{fullWidth:!0,margin:"dense",variant:"outlined"},l.a.createElement(Ct.a,null,Qe.a.t("promptModal.form.voice")),l.a.createElement(At.a,{id:"type-select",labelWidth:60,name:"voice",value:i,onChange:f,multiple:!1},l.a.createElement(F.a,{key:"texto",value:"texto"},"Texto"),l.a.createElement(F.a,{key:"pt-BR-FranciscaNeural",value:"pt-BR-FranciscaNeural"},"Francisa"),l.a.createElement(F.a,{key:"pt-BR-AntonioNeural",value:"pt-BR-AntonioNeural"},"Ant\xf4nio"),l.a.createElement(F.a,{key:"pt-BR-BrendaNeural",value:"pt-BR-BrendaNeural"},"Brenda"),l.a.createElement(F.a,{key:"pt-BR-DonatoNeural",value:"pt-BR-DonatoNeural"},"Donato"),l.a.createElement(F.a,{key:"pt-BR-ElzaNeural",value:"pt-BR-ElzaNeural"},"Elza"),l.a.createElement(F.a,{key:"pt-BR-FabioNeural",value:"pt-BR-FabioNeural"},"F\xe1bio"),l.a.createElement(F.a,{key:"pt-BR-GiovannaNeural",value:"pt-BR-GiovannaNeural"},"Giovanna"),l.a.createElement(F.a,{key:"pt-BR-HumbertoNeural",value:"pt-BR-HumbertoNeural"},"Humberto"),l.a.createElement(F.a,{key:"pt-BR-JulioNeural",value:"pt-BR-JulioNeural"},"Julio"),l.a.createElement(F.a,{key:"pt-BR-LeilaNeural",value:"pt-BR-LeilaNeural"},"Leila"),l.a.createElement(F.a,{key:"pt-BR-LeticiaNeural",value:"pt-BR-LeticiaNeural"},"Let\xedcia"),l.a.createElement(F.a,{key:"pt-BR-ManuelaNeural",value:"pt-BR-ManuelaNeural"},"Manuela"),l.a.createElement(F.a,{key:"pt-BR-NicolauNeural",value:"pt-BR-NicolauNeural"},"Nicolau"),l.a.createElement(F.a,{key:"pt-BR-ValerioNeural",value:"pt-BR-ValerioNeural"},"Val\xe9rio"),l.a.createElement(F.a,{key:"pt-BR-YaraNeural",value:"pt-BR-YaraNeural"},"Yara"))),l.a.createElement(pt.c,{as:Et.a,label:Qe.a.t("promptModal.form.voiceKey"),name:"voiceKey",error:a.voiceKey&&Boolean(t.voiceKey),helperText:a.voiceKey&&t.voiceKey,variant:"outlined",margin:"dense",fullWidth:!0}),l.a.createElement(pt.c,{as:Et.a,label:Qe.a.t("promptModal.form.voiceRegion"),name:"voiceRegion",error:a.voiceRegion&&Boolean(t.voiceRegion),helperText:a.voiceRegion&&t.voiceRegion,variant:"outlined",margin:"dense",fullWidth:!0})),l.a.createElement("div",{className:r.multFieldLine},l.a.createElement(pt.c,{as:Et.a,label:Qe.a.t("promptModal.form.temperature"),name:"temperature",error:a.temperature&&Boolean(t.temperature),helperText:a.temperature&&t.temperature,variant:"outlined",margin:"dense",fullWidth:!0}),l.a.createElement(pt.c,{as:Et.a,label:Qe.a.t("promptModal.form.max_tokens"),name:"maxTokens",error:a.maxTokens&&Boolean(t.maxTokens),helperText:a.maxTokens&&t.maxTokens,variant:"outlined",margin:"dense",fullWidth:!0}),l.a.createElement(pt.c,{as:Et.a,label:Qe.a.t("promptModal.form.max_messages"),name:"maxMessages",error:a.maxMessages&&Boolean(t.maxMessages),helperText:a.maxMessages&&t.maxMessages,variant:"outlined",margin:"dense",fullWidth:!0}))),l.a.createElement(ft.a,null,l.a.createElement(gt.a,{onClick:b,color:"secondary",disabled:n,variant:"outlined"},Qe.a.t("promptModal.buttons.cancel")),l.a.createElement(gt.a,{type:"submit",color:"primary",disabled:n,variant:"contained",className:r.btnWrapper},"".concat(o?Qe.a.t("promptModal.buttons.okEdit"):Qe.a.t("promptModal.buttons.okAdd")),n&&l.a.createElement(yt.a,{size:24,className:r.buttonProgress}))))})))};const Ju=Object(x.a)(e=>({mainPaper:{flex:1,padding:e.spacing(1),overflowY:"scroll",...e.scrollbarStyles},customTableCell:{display:"flex",alignItems:"center",justifyContent:"center"}})),Zu=(e,a)=>{if("LOAD_PROMPTS"===a.type){const t=a.payload,n=[];return t.forEach(a=>{const t=e.findIndex(e=>e.id===a.id);-1!==t?e[t]=a:n.push(a)}),[...e,...n]}if("UPDATE_PROMPTS"===a.type){const t=a.payload,n=e.findIndex(e=>e.id===t.id);return-1!==n?(e[n]=t,[...e]):[t,...e]}if("DELETE_PROMPT"===a.type){const t=a.payload,n=e.findIndex(e=>e.id===t);return-1!==n&&e.splice(n,1),[...e]}if("RESET"===a.type)return[]};var $u=()=>{const e=Ju(),[a,t]=Object(n.useReducer)(Zu,[]),[o,r]=Object(n.useState)(!1),[i,c]=Object(n.useState)(!1),[d,m]=Object(n.useState)(null),[u,p]=Object(n.useState)(!1),{user:g}=Object(n.useContext)(la),{getPlanCompany:E}=ua(),b=Object(Fc.useHistory)(),f=g.companyId;Object(n.useEffect)(()=>{!async function(){(await E(void 0,f)).plan.useOpenAi||(s.b.error("Esta empresa n\xe3o possui permiss\xe3o para acessar essa p\xe1gina! Estamos lhe redirecionando."),setTimeout(()=>{b.push("/")},1e3))}()},[]),Object(n.useEffect)(()=>{(async()=>{r(!0);try{const{data:e}=await Ze.get("/prompt");t({type:"LOAD_PROMPTS",payload:e.prompts}),r(!1)}catch(e){Ke(e),r(!1)}})()},[]),Object(n.useEffect)(()=>{const e=aa({companyId:f,userId:g.id});return e.on("company-".concat(f,"-prompt"),e=>{"update"!==e.action&&"create"!==e.action||t({type:"UPDATE_PROMPTS",payload:e.prompt}),"delete"===e.action&&t({type:"DELETE_PROMPT",payload:e.promptId})}),()=>{e.disconnect()}},[]);return l.a.createElement(bc,null,l.a.createElement(wr,{title:d&&"".concat(Qe.a.t("prompts.confirmationModal.deleteTitle")," ").concat(d.name,"?"),open:u,onClose:()=>{p(!1),m(null)},onConfirm:()=>(async e=>{try{const{data:a}=await Ze.delete("/prompt/".concat(e));s.b.info(Qe.a.t(a.message))}catch(a){Ke(a)}m(null)})(d.id)},Qe.a.t("prompts.confirmationModal.deleteMessage")),l.a.createElement(Xu,{open:i,onClose:()=>{c(!1),m(null)},promptId:null===d||void 0===d?void 0:d.id}),l.a.createElement(hc,null,l.a.createElement(Ac,null,Qe.a.t("prompts.title")),l.a.createElement(yc,null,l.a.createElement(gt.a,{variant:"contained",color:"primary",onClick:()=>{c(!0),m(null)}},Qe.a.t("prompts.buttons.add")))),l.a.createElement(St.a,{className:e.mainPaper,variant:"outlined"},l.a.createElement(Rn.a,{size:"small"},l.a.createElement(Ln.a,null,l.a.createElement(qn.a,null,l.a.createElement(Dn.a,{align:"left"},Qe.a.t("prompts.table.name")),l.a.createElement(Dn.a,{align:"left"},Qe.a.t("prompts.table.queue")),l.a.createElement(Dn.a,{align:"left"},Qe.a.t("prompts.table.max_tokens")),l.a.createElement(Dn.a,{align:"center"},Qe.a.t("prompts.table.actions")))),l.a.createElement(Pn.a,null,l.a.createElement(l.a.Fragment,null,a.map(e=>l.a.createElement(qn.a,{key:e.id},l.a.createElement(Dn.a,{align:"left"},e.name),l.a.createElement(Dn.a,{align:"left"},e.queue.name),l.a.createElement(Dn.a,{align:"left"},e.maxTokens),l.a.createElement(Dn.a,{align:"center"},l.a.createElement(M.a,{size:"small",onClick:()=>(e=>{m(e),c(!0)})(e)},l.a.createElement(mc.a,null)),l.a.createElement(M.a,{size:"small",onClick:()=>{m(e),p(!0)}},l.a.createElement(uc.a,null))))),o&&l.a.createElement(xc,{columns:4}))))))};const ep=Object(x.a)(e=>({root:{display:"flex",flexWrap:"wrap",gap:4},multFieldLine:{marginTop:12,display:"flex","& > *:not(:last-child)":{marginRight:e.spacing(1)}},btnWrapper:{position:"relative"},importMessage:{marginTop:12,marginBottom:12,paddingBottom:20,paddingTop:3,padding:12,border:"solid grey 2px",borderRadius:4,display:"flex","& > *:not(:last-child)":{marginRight:e.spacing(1)}},buttonProgress:{color:Sa.a[500],position:"absolute",top:"50%",left:"50%",marginTop:-12,marginLeft:-12},textField:{marginRight:e.spacing(1),flex:1},tokenRefresh:{minWidth:"auto",display:"flex",alignItems:"center",justifyContent:"center"}})),ap=ut.c().shape({name:ut.d().min(2,"Too Short!").max(50,"Too Long!").required("Required")});var tp=l.a.memo(e=>{let{open:a,onClose:t,whatsAppId:o}=e;const r=ep(),[i,c]=Object(n.useState)(""),d=Object(n.useRef)(null),[m,u]=Object(n.useState)(null),[p,g]=Object(n.useState)(""),E={name:"",greetingMessage:"",complationMessage:"",outOfHoursMessage:"",ratingMessage:"",isDefault:!1,token:"",maxUseBotQueues:3,provider:"beta",expiresTicket:0,allowGroup:!1,groupAsTicket:"disabled",timeUseBotQueues:"0",timeSendQueue:"0",sendIdQueue:0,expiresTicketNPS:"0",expiresInactiveMessage:"",timeInactiveMessage:"",inactiveMessage:"",maxUseBotQueuesNPS:3,whenExpiresTicket:0,timeCreateNewTicket:0,greetingMediaAttachment:"",importRecentMessages:"",importOldMessages:"",importOldMessagesGroups:"",integrationId:""},[b,f]=Object(n.useState)(E),[h,v]=Object(n.useState)([]),[C,x]=Object(n.useState)([]),[T,O]=Object(n.useState)("general"),[k,S]=Object(n.useState)(!1),[w,M]=Object(n.useState)(!1),[I,j]=Object(n.useState)(!1),[N,R]=Object(n.useState)(y()().add(-1,"days").format("YYYY-MM-DDTHH:mm")),[P,D]=Object(n.useState)(y()().add(-1,"minutes").format("YYYY-MM-DDTHH:mm")),[L,q]=Object(n.useState)(!1),[W,B]=Object(n.useState)([]),[z,H]=Object(n.useState)(!1),[U,Q]=Object(n.useState)([{weekday:Qe.a.t("queueModal.serviceHours.monday"),weekdayEn:"monday",startTimeA:"08:00",endTimeA:"12:00",startTimeB:"13:00",endTimeB:"18:00"},{weekday:Qe.a.t("queueModal.serviceHours.tuesday"),weekdayEn:"tuesday",startTimeA:"08:00",endTimeA:"12:00",startTimeB:"13:00",endTimeB:"18:00"},{weekday:Qe.a.t("queueModal.serviceHours.wednesday"),weekdayEn:"wednesday",startTimeA:"08:00",endTimeA:"12:00",startTimeB:"13:00",endTimeB:"18:00"},{weekday:Qe.a.t("queueModal.serviceHours.thursday"),weekdayEn:"thursday",startTimeA:"08:00",endTimeA:"12:00",startTimeB:"13:00",endTimeB:"18:00"},{weekday:Qe.a.t("queueModal.serviceHours.friday"),weekdayEn:"friday",startTimeA:"08:00",endTimeA:"12:00",startTimeB:"13:00",endTimeB:"18:00"},{weekday:"S\xe1bado",weekdayEn:"saturday",startTimeA:"08:00",endTimeA:"12:00",startTimeB:"13:00",endTimeB:"18:00"},{weekday:"Domingo",weekdayEn:"sunday",startTimeA:"08:00",endTimeA:"12:00",startTimeB:"13:00",endTimeB:"18:00"}]),{get:G}=To(),[V,K]=Object(n.useState)(null),[_,Y]=Object(n.useState)([]);Object(n.useEffect)(()=>{(async()=>{try{const{data:e}=await Ze.get("/prompt");Y(e.prompts)}catch(e){Ke(e)}})()},[o]),Object(n.useEffect)(()=>{(async()=>{const e=await G({column:"scheduleType"});H("connection"===e.scheduleType)})()},[]);const X=async e=>{S(e.target.checked)};Object(n.useEffect)(()=>{(async()=>{if(o)try{var e;const{data:a}=await Ze.get("whatsapp-admin/".concat(o,"?session=0"));f(a),g(a.greetingMediaAttachment),c(a.token),a.promptId?K(a.promptId):K(null);const t=null===(e=a.queues)||void 0===e?void 0:e.map(e=>e.id);v(t),Q(a.schedules),(null===a||void 0===a?void 0:a.importOldMessages)&&(S(!0),R(null===a||void 0===a?void 0:a.importOldMessages),D(null===a||void 0===a?void 0:a.importRecentMessages),j(null===a||void 0===a?void 0:a.closedTicketsPostImported),M(null===a||void 0===a?void 0:a.importOldMessagesGroups))}catch(a){Ke(a)}})()},[o]),Object(n.useEffect)(()=>{(async()=>{try{const{data:e}=await Ze.get("/queue");x(e)}catch(e){Ke(e)}})()},[]),Object(n.useEffect)(()=>{(async()=>{try{const{data:e}=await Ze.get("/queueIntegration");B(e.queueIntegrations)}catch(e){Ke(e)}})()},[]);const J=e=>{K(e.target.value),v([])};function Z(e){const a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyvz0123456789";let t="";for(let n=0;n<e;n++){const e=Math.floor(Math.random()*a.length);t+=a.charAt(e)}return t}const $=()=>{c(Z(30))},ee=()=>{navigator.clipboard.writeText(i),q(!0)},ae=async e=>{s.b.success("Clique em salvar para registar as altera\xe7\xf5es"),Q(e)},te=()=>{t(),f(E),u(null),g(""),q(!1)},ne=(e,a)=>{O(a)},le=()=>{const e=d.current.files[0];u(e),g(e.name),d.current.value=null},oe=()=>{u(null),g(null)};return l.a.createElement("div",{className:r.root},l.a.createElement(bt.a,{open:a,onClose:te,maxWidth:"xl",fullWidth:!0,scroll:"paper"},l.a.createElement(vt.a,null,o?Qe.a.t("whatsappModal.title.edit"):Qe.a.t("whatsappModal.title.add")),l.a.createElement(pt.f,{initialValues:b,enableReinitialize:!0,validationSchema:ap,onSubmit:(e,a)=>{setTimeout(()=>{(async e=>{if(o||c(Z(30)),!Object(A.isNil)(e.ratingMessage)&&""!==e.ratingMessage&&("0"===e.expiresTicketNPS||""===e.expiresTicketNPS||0===e.expiresTicketNPS))return void Ke(Qe.a.t("whatsappModal.errorExpiresNPS"));if(!Object(A.isNil)(e.ratingMessage)&&("0"===e.expiresTicketNPS||""===e.expiresTicketNPS))return void Ke(Qe.a.t("whatsappModal.errorExpiresNPS"));if(""===e.timeSendQueue&&(e.timeSendQueue="0"),(0===e.sendIdQueue||""===e.sendIdQueue||Object(A.isNil)(e.sendIdQueue))&&0!==e.timeSendQueue&&"0"!==e.timeSendQueue)return void Ke(Qe.a.t("whatsappModal.errorSendQueue"));const a={...e,queueIds:h,importOldMessages:k?N:null,importRecentMessages:k?P:null,importOldMessagesGroups:w||null,closedTicketsPostImported:I||null,token:i||null,schedules:U,promptId:V||null};delete a.queues,delete a.session;try{if(o){if(o&&k&&"CONNECTED"===(null===b||void 0===b?void 0:b.status)){s.b.warning(Qe.a.t("userModal.warning.updateImage"),{autoClose:!1});try{f({...b,status:"qrcode"}),await Ze.delete("/whatsappsession/".concat(b.id))}catch(t){Ke(t)}}if(await Ze.put("/whatsapp/".concat(o),a),null!=m){const e=new FormData;e.append("file",m),await Ze.post("/whatsapp/".concat(o,"/media-upload"),e)}p||null===b.greetingMediaAttachment||await Ze.delete("/whatsapp/".concat(o,"/media-upload"))}else{const{data:e}=await Ze.post("/whatsapp",a);if(null!=m){const a=new FormData;a.append("file",m),await Ze.post("/whatsapp/".concat(e.id,"/media-upload"),a)}}s.b.success(Qe.a.t("whatsappModal.success")),te()}catch(t){Ke(t)}})(e),a.setSubmitting(!1)},400)}},e=>{let{values:a,touched:t,errors:n,isSubmitting:s}=e;return l.a.createElement(pt.e,null,l.a.createElement(St.a,{className:r.mainPaper,elevation:1},l.a.createElement(wt.a,{value:T,indicatorColor:"primary",textColor:"primary",scrollButtons:"on",variant:"scrollable",onChange:ne,className:r.tab},l.a.createElement(Mt.a,{label:Qe.a.t("whatsappModal.tabs.general"),value:"general"}),l.a.createElement(Mt.a,{label:Qe.a.t("whatsappModal.tabs.integrations"),value:"integrations"}),l.a.createElement(Mt.a,{label:Qe.a.t("whatsappModal.tabs.messages"),value:"messages"}),l.a.createElement(Mt.a,{label:"Chatbot",value:"chatbot"}),l.a.createElement(Mt.a,{label:Qe.a.t("whatsappModal.tabs.assessments"),value:"nps"}),z&&l.a.createElement(Mt.a,{label:Qe.a.t("whatsappModal.tabs.schedules"),value:"schedules"}))),l.a.createElement(St.a,{className:r.paper,elevation:0},l.a.createElement(Rt,{className:r.container,value:T,name:"general"},l.a.createElement(ht.a,{dividers:!0},p&&l.a.createElement("div",{style:{display:"flex",flexDirection:"row-reverse"}},l.a.createElement(gt.a,{variant:"outlined",color:"primary",endIcon:l.a.createElement(Yl.a,null),onClick:oe},p)),l.a.createElement("div",{style:{display:"flex",flexDirection:"column-reverse"}},l.a.createElement("input",{type:"file",accept:"video/*,image/*",ref:d,style:{display:"none"},onChange:le}),l.a.createElement(gt.a,{variant:"contained",color:"primary",onClick:()=>d.current.click()},Qe.a.t("userModal.buttons.addImage"))),l.a.createElement("div",{className:r.multFieldLine},l.a.createElement(it.a,{spacing:2,container:!0},l.a.createElement(it.a,{item:!0},l.a.createElement(pt.c,{as:Et.a,label:Qe.a.t("whatsappModal.form.name"),autoFocus:!0,name:"name",error:t.name&&Boolean(n.name),helperText:t.name&&n.name,variant:"outlined",margin:"dense",className:r.textField})),l.a.createElement(it.a,{style:{paddingTop:15},item:!0},l.a.createElement(ii.a,{control:l.a.createElement(pt.c,{as:Xl.a,color:"primary",name:"isDefault",checked:a.isDefault}),label:Qe.a.t("whatsappModal.form.default")}),l.a.createElement(ii.a,{control:l.a.createElement(pt.c,{as:Xl.a,color:"primary",name:"allowGroup",checked:a.allowGroup}),label:Qe.a.t("whatsappModal.form.group")})),l.a.createElement(it.a,{xs:6,md:4,item:!0},l.a.createElement(xt.a,{variant:"outlined",margin:"dense",fullWidth:!0,className:r.formControl},l.a.createElement(Ct.a,{id:"groupAsTicket-selection-label"},Qe.a.t("whatsappModal.form.groupAsTicket")),l.a.createElement(pt.c,{as:At.a,label:Qe.a.t("whatsappModal.form.groupAsTicket"),placeholder:Qe.a.t("whatsappModal.form.groupAsTicket"),labelId:"groupAsTicket-selection-label",id:"groupAsTicket",name:"groupAsTicket"},l.a.createElement(F.a,{value:"disabled"},Qe.a.t("whatsappModal.menuItem.disabled")),l.a.createElement(F.a,{value:"enabled"},Qe.a.t("whatsappModal.menuItem.enabled"))))))),l.a.createElement("div",{className:r.importMessage},l.a.createElement("div",{className:r.multFieldLine},l.a.createElement(ii.a,{style:{marginRight:7,color:"gray"},label:Qe.a.t("whatsappModal.form.importOldMessagesEnable"),labelPlacement:"end",control:l.a.createElement(Xl.a,{size:"medium",checked:k,onChange:X,name:"importOldMessagesEnable",color:"primary"})}),k?l.a.createElement(l.a.Fragment,null,l.a.createElement(ii.a,{style:{marginRight:7,color:"gray"},label:Qe.a.t("whatsappModal.form.importOldMessagesGroups"),labelPlacement:"end",control:l.a.createElement(Xl.a,{size:"medium",checked:w,onChange:e=>M(e.target.checked),name:"importOldMessagesGroups",color:"primary"})}),l.a.createElement(ii.a,{style:{marginRight:7,color:"gray"},label:Qe.a.t("whatsappModal.form.closedTicketsPostImported"),labelPlacement:"end",control:l.a.createElement(Xl.a,{size:"medium",checked:I,onChange:e=>j(e.target.checked),name:"closedTicketsPostImported",color:"primary"})})):l.a.createElement(l.a.Fragment,null)),k?l.a.createElement(it.a,{style:{marginTop:18},container:!0,spacing:3},l.a.createElement(it.a,{item:!0,xs:6},l.a.createElement(pt.c,{fullWidth:!0,as:Et.a,label:Qe.a.t("whatsappModal.form.importOldMessages"),type:"datetime-local",name:"importOldMessages",inputProps:{max:y()().add(0,"minutes").format("YYYY-MM-DDTHH:mm"),min:y()().add(-2,"years").format("YYYY-MM-DDTHH:mm")},InputLabelProps:{shrink:!0},error:t.importOldMessages&&Boolean(n.importOldMessages),helperText:t.importOldMessages&&n.importOldMessages,variant:"outlined",value:y()(N).format("YYYY-MM-DDTHH:mm"),onChange:e=>{R(e.target.value)}})),l.a.createElement(it.a,{item:!0,xs:6},l.a.createElement(pt.c,{fullWidth:!0,as:Et.a,label:Qe.a.t("whatsappModal.form.importRecentMessages"),type:"datetime-local",name:"importRecentMessages",inputProps:{max:y()().add(0,"minutes").format("YYYY-MM-DDTHH:mm"),min:y()(N).format("YYYY-MM-DDTHH:mm")},InputLabelProps:{shrink:!0},error:t.importRecentMessages&&Boolean(n.importRecentMessages),helperText:t.importRecentMessages&&n.importRecentMessages,variant:"outlined",value:y()(P).format("YYYY-MM-DDTHH:mm"),onChange:e=>{D(e.target.value)}}))):null),k&&l.a.createElement("span",{style:{color:"red"}},Qe.a.t("whatsappModal.form.importAlert")),l.a.createElement(Zo.a,{display:"flex",alignItems:"center"},l.a.createElement(it.a,{xs:6,md:12,item:!0},l.a.createElement(pt.c,{as:Et.a,label:Qe.a.t("whatsappModal.form.token"),type:"token",fullWidth:!0,value:i,variant:"outlined",margin:"dense",disabled:!0})),l.a.createElement(gt.a,{onClick:$,disabled:s,className:r.tokenRefresh,variant:"text",startIcon:l.a.createElement(Tc.a,{style:{marginLeft:5,color:"green"}})}),l.a.createElement(gt.a,{onClick:ee,className:r.tokenRefresh,variant:"text",startIcon:l.a.createElement(Oc.a,{style:{color:L?"blue":"inherit"}})})),l.a.createElement("div",null,l.a.createElement("h3",null,Qe.a.t("whatsappModal.form.queueRedirection")),l.a.createElement("p",null,Qe.a.t("whatsappModal.form.queueRedirectionDesc")),l.a.createElement(it.a,{spacing:2,container:!0},l.a.createElement(it.a,{xs:6,md:6,item:!0},l.a.createElement(xt.a,{variant:"outlined",margin:"dense",className:r.FormControl,fullWidth:!0},l.a.createElement(Ct.a,{id:"sendIdQueue-selection-label"},Qe.a.t("whatsappModal.form.sendIdQueue")),l.a.createElement(pt.c,{as:At.a,name:"sendIdQueue",id:"sendIdQueue",value:a.sendIdQueue||"0",label:Qe.a.t("whatsappModal.form.sendIdQueue"),placeholder:Qe.a.t("whatsappModal.form.sendIdQueue"),labelId:"sendIdQueue-selection-label"},l.a.createElement(F.a,{value:0},"\xa0"),C.map(e=>l.a.createElement(F.a,{key:e.id,value:e.id},e.name))))),l.a.createElement(it.a,{xs:6,md:6,item:!0},l.a.createElement(pt.c,{as:Et.a,label:Qe.a.t("whatsappModal.form.timeSendQueue"),fullWidth:!0,name:"timeSendQueue",variant:"outlined",margin:"dense",error:t.timeSendQueue&&Boolean(n.timeSendQueue),helperText:t.timeSendQueue&&n.timeSendQueue})))))),l.a.createElement(Rt,{className:r.container,value:T,name:"integrations"},l.a.createElement(ht.a,{dividers:!0},l.a.createElement(kt,{selectedQueueIds:h,onChange:e=>(v(e),void K(null))}),l.a.createElement(xt.a,{variant:"outlined",margin:"dense",className:r.FormControl,fullWidth:!0},l.a.createElement(Ct.a,{id:"integrationId-selection-label"},Qe.a.t("queueModal.form.integrationId")),l.a.createElement(pt.c,{as:At.a,label:Qe.a.t("queueModal.form.integrationId"),name:"integrationId",id:"integrationId",variant:"outlined",margin:"dense",placeholder:Qe.a.t("queueModal.form.integrationId"),labelId:"integrationId-selection-label"},l.a.createElement(F.a,{value:null},"Desabilitado"),W.map(e=>l.a.createElement(F.a,{key:e.id,value:e.id},e.name)))),l.a.createElement(xt.a,{margin:"dense",variant:"outlined",fullWidth:!0},l.a.createElement(Ct.a,null,Qe.a.t("whatsappModal.form.prompt")),l.a.createElement(At.a,{labelId:"dialog-select-prompt-label",id:"dialog-select-prompt",name:"promptId",value:V||"",onChange:J,label:Qe.a.t("whatsappModal.form.prompt"),fullWidth:!0,MenuProps:{anchorOrigin:{vertical:"bottom",horizontal:"left"},transformOrigin:{vertical:"top",horizontal:"left"},getContentAnchorEl:null}},_.map(e=>l.a.createElement(F.a,{key:e.id,value:e.id},e.name)))))),l.a.createElement(Rt,{className:r.container,value:T,name:"messages"},l.a.createElement(ht.a,{dividers:!0},l.a.createElement("div",null,l.a.createElement(pt.c,{as:Et.a,label:Qe.a.t("whatsappModal.form.greetingMessage"),type:"greetingMessage",multiline:!0,rows:4,fullWidth:!0,name:"greetingMessage",error:t.greetingMessage&&Boolean(n.greetingMessage),helperText:t.greetingMessage&&n.greetingMessage,variant:"outlined",margin:"dense"})),l.a.createElement("div",null,l.a.createElement(pt.c,{as:Et.a,label:Qe.a.t("whatsappModal.form.complationMessage"),multiline:!0,rows:4,fullWidth:!0,name:"complationMessage",error:t.complationMessage&&Boolean(n.complationMessage),helperText:t.complationMessage&&n.complationMessage,variant:"outlined",margin:"dense"})),l.a.createElement("div",null,l.a.createElement(pt.c,{as:Et.a,label:Qe.a.t("whatsappModal.form.outOfHoursMessage"),multiline:!0,rows:4,fullWidth:!0,name:"outOfHoursMessage",error:t.outOfHoursMessage&&Boolean(n.outOfHoursMessage),helperText:t.outOfHoursMessage&&n.outOfHoursMessage,variant:"outlined",margin:"dense"})))),l.a.createElement(Rt,{className:r.container,value:T,name:"chatbot"},l.a.createElement(ht.a,{dividers:!0},l.a.createElement(it.a,{spacing:2,container:!0},l.a.createElement(it.a,{xs:6,md:4,item:!0},l.a.createElement(pt.c,{as:Et.a,label:Qe.a.t("whatsappModal.form.timeCreateNewTicket"),fullWidth:!0,name:"timeCreateNewTicket",variant:"outlined",margin:"dense",error:t.timeCreateNewTicket&&Boolean(n.timeCreateNewTicket),helperText:t.timeCreateNewTicket&&n.timeCreateNewTicket})),l.a.createElement(it.a,{xs:6,md:4,item:!0},l.a.createElement(pt.c,{as:Et.a,label:Qe.a.t("whatsappModal.form.maxUseBotQueues"),fullWidth:!0,name:"maxUseBotQueues",variant:"outlined",margin:"dense",error:t.maxUseBotQueues&&Boolean(n.maxUseBotQueues),helperText:t.maxUseBotQueues&&n.maxUseBotQueues})),l.a.createElement(it.a,{xs:6,md:4,item:!0},l.a.createElement(pt.c,{as:Et.a,label:Qe.a.t("whatsappModal.form.timeUseBotQueues"),fullWidth:!0,name:"timeUseBotQueues",variant:"outlined",margin:"dense",error:t.timeUseBotQueues&&Boolean(n.timeUseBotQueues),helperText:t.timeUseBotQueues&&n.timeUseBotQueues}))),l.a.createElement(it.a,{spacing:2,container:!0},l.a.createElement(it.a,{xs:6,md:6,item:!0},l.a.createElement(pt.c,{as:Et.a,label:Qe.a.t("whatsappModal.form.expiresTicket"),fullWidth:!0,name:"expiresTicket",variant:"outlined",margin:"dense",error:t.expiresTicket&&Boolean(n.expiresTicket),helperText:t.expiresTicket&&n.expiresTicket})),l.a.createElement(it.a,{xs:6,md:6,item:!0},l.a.createElement(xt.a,{variant:"outlined",margin:"dense",fullWidth:!0,className:r.formControl},l.a.createElement(Ct.a,{id:"whenExpiresTicket-selection-label"},Qe.a.t("whatsappModal.form.whenExpiresTicket")),l.a.createElement(pt.c,{as:At.a,label:Qe.a.t("whatsappModal.form.whenExpiresTicket"),placeholder:Qe.a.t("whatsappModal.form.whenExpiresTicket"),labelId:"whenExpiresTicket-selection-label",id:"whenExpiresTicket",name:"whenExpiresTicket"},l.a.createElement(F.a,{value:"0"},Qe.a.t("whatsappModal.form.closeLastMessageOptions1")),l.a.createElement(F.a,{value:"1"},Qe.a.t("whatsappModal.form.closeLastMessageOptions2")))))),l.a.createElement("div",null,l.a.createElement(pt.c,{as:Et.a,label:Qe.a.t("whatsappModal.form.expiresInactiveMessage"),multiline:!0,rows:4,fullWidth:!0,name:"expiresInactiveMessage",error:t.expiresInactiveMessage&&Boolean(n.expiresInactiveMessage),helperText:t.expiresInactiveMessage&&n.expiresInactiveMessage,variant:"outlined",margin:"dense"})),l.a.createElement(pt.c,{as:Et.a,label:Qe.a.t("whatsappModal.form.timeInactiveMessage"),fullWidth:!0,name:"timeInactiveMessage",variant:"outlined",margin:"dense",error:t.timeInactiveMessage&&Boolean(n.timeInactiveMessage),helperText:t.timeInactiveMessage&&n.timeInactiveMessage}),l.a.createElement("div",null,l.a.createElement(pt.c,{as:Et.a,label:Qe.a.t("whatsappModal.form.inactiveMessage"),multiline:!0,rows:4,fullWidth:!0,name:"inactiveMessage",error:t.inactiveMessage&&Boolean(n.inactiveMessage),helperText:t.inactiveMessage&&n.inactiveMessage,variant:"outlined",margin:"dense"})))),l.a.createElement(Rt,{className:r.container,value:T,name:"nps"},l.a.createElement(ht.a,{dividers:!0},l.a.createElement("div",null,l.a.createElement(pt.c,{as:Et.a,label:Qe.a.t("whatsappModal.form.ratingMessage"),multiline:!0,rows:4,fullWidth:!0,name:"ratingMessage",error:t.ratingMessage&&Boolean(n.ratingMessage),helperText:t.ratingMessage&&n.ratingMessage,variant:"outlined",margin:"dense"})),l.a.createElement("div",null,l.a.createElement(pt.c,{as:Et.a,label:Qe.a.t("whatsappModal.form.maxUseBotQueuesNPS"),fullWidth:!0,name:"maxUseBotQueuesNPS",variant:"outlined",margin:"dense",error:t.maxUseBotQueuesNPS&&Boolean(n.maxUseBotQueuesNPS),helperText:t.maxUseBotQueuesNPS&&n.maxUseBotQueuesNPS})),l.a.createElement("div",null,l.a.createElement(pt.c,{as:Et.a,label:Qe.a.t("whatsappModal.form.expiresTicketNPS"),fullWidth:!0,name:"expiresTicketNPS",variant:"outlined",margin:"dense",error:t.expiresTicketNPS&&Boolean(n.expiresTicketNPS),helperText:t.expiresTicketNPS&&n.expiresTicketNPS})))),l.a.createElement(Rt,{className:r.container,value:T,name:"schedules"},"schedules"===T&&l.a.createElement(St.a,{style:{padding:20}},l.a.createElement(wc,{loading:!1,onSubmit:ae,initialValues:U,labelSaveButton:Qe.a.t("whatsappModal.buttons.okAdd")})))),l.a.createElement(ft.a,null,l.a.createElement(gt.a,{onClick:te,color:"secondary",disabled:s,variant:"outlined"},Qe.a.t("whatsappModal.buttons.cancel")),l.a.createElement(gt.a,{type:"submit",color:"primary",disabled:s,variant:"contained",className:r.btnWrapper},o?Qe.a.t("whatsappModal.buttons.okEdit"):Qe.a.t("whatsappModal.buttons.okAdd"),s&&l.a.createElement(yt.a,{size:24,className:r.buttonProgress}))))})))});const np=Object(x.a)(e=>({mainPaper:{flex:1,padding:e.spacing(1),overflowY:"scroll",borderRadius:"10px",boxShadow:"rgba(0, 0, 0, 0.1) 0px 4px 12px",...e.scrollbarStyles},customTableCell:{display:"flex",alignItems:"center",justifyContent:"center"},tooltip:{backgroundColor:"#f5f5f9",color:"rgba(0, 0, 0, 0.87)",fontSize:e.typography.pxToRem(14),border:"1px solid #dadde9",maxWidth:450},tooltipPopper:{textAlign:"center"},buttonProgress:{color:Sa.a[500]},TableHead:{backgroundColor:e.palette.barraSuperior,color:"textSecondary",borderRadius:"5px"}})),lp=e=>{let{title:a,content:t,children:n}=e;const o=np();return l.a.createElement(Ha.a,{arrow:!0,classes:{tooltip:o.tooltip,popper:o.tooltipPopper},title:l.a.createElement(l.a.Fragment,null,l.a.createElement(P.a,{gutterBottom:!0,color:"inherit"},a),t&&l.a.createElement(P.a,null,t))},n)};var op=l.a.memo(e=>{let{open:a,onClose:t,whatsAppId:o,filteredWhatsapps:r,companyInfos:i}=e;const c=np(),{user:d}=Object(n.useContext)(la),{list:m}=zc(),[u,p]=Object(n.useState)(!1),{whatsApps:g,loading:E}=Object(n.useContext)(ia),[b,f]=Object(n.useState)(!1),[h,v]=Object(n.useState)([]),[y,A]=Object(n.useState)(!1),[C,x]=Object(n.useState)(null),[T,O]=Object(n.useState)(!1),k={action:"",title:"",message:"",whatsAppId:"",open:!1},[S,w]=Object(n.useState)(k),I=e=>{if("unknown"!==e.status){const{accessToken:a,id:t}=e;Ze.post("/facebook",{facebookUserId:t,facebookUserToken:a}).then(e=>{s.b.success(Qe.a.t("connections.facebook.success"))}).catch(e=>{Ke(e)})}},j=e=>{if("unknown"!==e.status){const{accessToken:a,id:t}=e;Ze.post("/facebook",{addInstagram:!0,facebookUserId:t,facebookUserToken:a}).then(e=>{s.b.success(Qe.a.t("connections.facebook.success"))}).catch(e=>{Ke(e)})}},N=Object(n.useCallback)(()=>{f(!1),x(null)},[x,f]),R=Object(n.useCallback)(()=>{x(null),A(!1)},[A,x]),L=(e,a)=>{"disconnect"===e&&w({action:e,title:Qe.a.t("connections.confirmationModal.disconnectTitle"),message:Qe.a.t("connections.confirmationModal.disconnectMessage"),whatsAppId:a}),"delete"===e&&w({action:e,title:Qe.a.t("connections.confirmationModal.deleteTitle"),message:Qe.a.t("connections.confirmationModal.deleteMessage"),whatsAppId:a}),O(!0)},q=e=>l.a.createElement(l.a.Fragment,null,"qrcode"===e.status&&l.a.createElement(gt.a,{size:"small",variant:"contained",color:"primary",onClick:()=>(e=>{x(e),A(!0)})(e)},Qe.a.t("connections.buttons.qrcode")),"DISCONNECTED"===e.status&&l.a.createElement(l.a.Fragment,null,l.a.createElement(gt.a,{size:"small",variant:"outlined",color:"primary",onClick:()=>(async e=>{try{await Ze.post("/whatsappsession/".concat(e))}catch(a){Ke(a)}})(e.id)},Qe.a.t("connections.buttons.tryAgain"))," ",l.a.createElement(gt.a,{size:"small",variant:"outlined",color:"secondary",onClick:()=>(async e=>{try{await Ze.put("/whatsappsession/".concat(e))}catch(a){Ke(a)}})(e.id)},Qe.a.t("connections.buttons.newQr"))),("CONNECTED"===e.status||"PAIRING"===e.status||"TIMEOUT"===e.status)&&l.a.createElement(gt.a,{size:"small",variant:"outlined",color:"secondary",onClick:()=>{L("disconnect",e.id)}},Qe.a.t("connections.buttons.disconnect")),"OPENING"===e.status&&l.a.createElement(gt.a,{size:"small",variant:"outlined",disabled:!0,color:"default"},Qe.a.t("connections.buttons.connecting")));return l.a.createElement("div",{className:c.root},l.a.createElement(bt.a,{open:a,onClose:()=>{t()},maxWidth:"lg",fullWidth:!0,scroll:"paper"},l.a.createElement(bc,null,l.a.createElement(wr,{title:S.title,open:T,onClose:O,onConfirm:async()=>{if("disconnect"===S.action)try{await Ze.delete("/whatsappsession/".concat(S.whatsAppId))}catch(e){Ke(e)}if("delete"===S.action)try{await Ze.delete("/whatsapp/".concat(S.whatsAppId)),s.b.success(Qe.a.t("connections.toasts.deleted"))}catch(e){Ke(e)}w(k)}},S.message),l.a.createElement(Dc,{open:y,onClose:R,whatsAppId:!b&&(null===C||void 0===C?void 0:C.id)}),l.a.createElement(tp,{open:b,onClose:N,whatsAppId:!y&&(null===C||void 0===C?void 0:C.id)}),l.a.createElement(St.a,{className:c.mainPaper,style:{overflow:"hidden"},variant:"outlined"},l.a.createElement(hc,null,l.a.createElement(el.a,null,l.a.createElement(P.a,{variant:"h5",color:"black",style:{fontWeight:"bold",marginLeft:"10px",marginTop:"10px"},gutterBottom:!0},"Conex\xf5es de: ",null===i||void 0===i?void 0:i.name)),l.a.createElement(yc,null,l.a.createElement(lc.a,{variant:"popover",popupId:"demo-popup-menu"},e=>l.a.createElement(l.a.Fragment,null,l.a.createElement(D.a,Object(nc.bindMenu)(e),l.a.createElement(F.a,{onClick:()=>{x(null),f(!0),e.close()}},l.a.createElement(no.a,{fontSize:"small",style:{marginRight:"10px"}}),"WhatsApp"),l.a.createElement(gc.a,{appId:Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,REACT_APP_BACKEND_URL:"https://backend.bonigroup.com.br",REACT_APP_HOURS_CLOSE_TICKETS_AUTO:"24"}).REACT_APP_FACEBOOK_APP_ID,autoLoad:!1,fields:"name,email,picture",version:"13.0",scope:"public_profile,pages_messaging,pages_show_list,pages_manage_metadata,pages_read_engagementnt,business_management",callback:I,render:e=>l.a.createElement(F.a,{onClick:e.onClick},l.a.createElement(ao.a,{fontSize:"small",style:{marginRight:"10px"}}),"Facebook")}),l.a.createElement(gc.a,{appId:Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,REACT_APP_BACKEND_URL:"https://backend.bonigroup.com.br",REACT_APP_HOURS_CLOSE_TICKETS_AUTO:"24"}).REACT_APP_FACEBOOK_APP_ID,autoLoad:!1,fields:"name,email,picture",version:"13.0",scope:"public_profile,instagram_basic,instagram_manage_messages,pages_messaging,pages_show_list,pages_manage_metadata,pages_read_engagement,business_management",callback:j,render:e=>l.a.createElement(F.a,{onClick:e.onClick},l.a.createElement(to.a,{fontSize:"small",style:{marginRight:"10px"}}),"Instagram")})))))),l.a.createElement(el.a,{style:{overflowY:"auto",padding:"20px",backgroundColor:"rgb(244 244 244 / 53%)",borderRadius:"5px",height:"93%"}},l.a.createElement(St.a,null,l.a.createElement(Rn.a,{size:"small"},l.a.createElement(Ln.a,{className:c.TableHead},l.a.createElement(qn.a,{style:{color:"#fff"}},l.a.createElement(Dn.a,{style:{color:"#fff"},align:"center"},"Channel"),l.a.createElement(Dn.a,{style:{color:"#fff"},align:"center"},Qe.a.t("connections.table.name")),l.a.createElement(Dn.a,{style:{color:"#fff"},align:"center"},Qe.a.t("connections.table.status")),"admin"===d.profile&&l.a.createElement(Dn.a,{style:{color:"#fff"},align:"center"},Qe.a.t("connections.table.session")),l.a.createElement(Dn.a,{style:{color:"#fff"},align:"center"},Qe.a.t("connections.table.lastUpdate")),l.a.createElement(Dn.a,{style:{color:"#fff"},align:"center"},Qe.a.t("connections.table.default")),"admin"===d.profile&&l.a.createElement(Dn.a,{style:{color:"#fff"},align:"center"},Qe.a.t("connections.table.actions")))),l.a.createElement(Pn.a,null,E?l.a.createElement(xc,null):l.a.createElement(l.a.Fragment,null,(null===r||void 0===r?void 0:r.length)>0&&r.map(e=>l.a.createElement(qn.a,{key:e.id},l.a.createElement(Dn.a,{align:"center"},(e=>{switch(e){case"facebook":return l.a.createElement(ao.a,null);case"instagram":return l.a.createElement(to.a,null);case"whatsapp":return l.a.createElement(no.a,null);default:return"error"}})(e.channel)),l.a.createElement(Dn.a,{align:"center"},null===e||void 0===e?void 0:e.name),l.a.createElement(Dn.a,{align:"center"},(e=>l.a.createElement("div",{className:c.customTableCell},"DISCONNECTED"===e.status&&l.a.createElement(lp,{title:Qe.a.t("connections.toolTips.disconnected.title"),content:Qe.a.t("connections.toolTips.disconnected.content")},l.a.createElement(rc.a,{color:"secondary"})),"OPENING"===e.status&&l.a.createElement(yt.a,{size:24,className:c.buttonProgress}),"qrcode"===e.status&&l.a.createElement(lp,{title:Qe.a.t("connections.toolTips.qrcode.title"),content:Qe.a.t("connections.toolTips.qrcode.content")},l.a.createElement(sc.a,null)),"CONNECTED"===e.status&&l.a.createElement(lp,{title:Qe.a.t("connections.toolTips.connected.title")},l.a.createElement(ic.a,{style:{color:Sa.a[500]}})),("TIMEOUT"===e.status||"PAIRING"===e.status)&&l.a.createElement(lp,{title:Qe.a.t("connections.toolTips.timeout.title"),content:Qe.a.t("connections.toolTips.timeout.content")},l.a.createElement(cc.a,{color:"secondary"}))))(e)),"admin"===d.profile&&l.a.createElement(Dn.a,{align:"center"},q(e)),l.a.createElement(Dn.a,{align:"center"},Object(fa.a)(Object(xa.a)(e.updatedAt),"dd/MM/yy HH:mm")),l.a.createElement(Dn.a,{align:"center"},e.isDefault&&l.a.createElement("div",{className:c.customTableCell},l.a.createElement(dc.a,{style:{color:Sa.a[500]}}))),"admin"===d.profile&&l.a.createElement(Dn.a,{align:"center"},l.a.createElement(M.a,{size:"small",onClick:()=>(e=>{x(e),f(!0)})(e)},l.a.createElement(mc.a,null)),l.a.createElement(M.a,{size:"small",onClick:a=>{L("delete",e.id)}},l.a.createElement(uc.a,null))))))))))))))});const rp=Object(x.a)(e=>({mainPaper:{flex:1,padding:e.spacing(1),overflowY:"scroll",borderRadius:"10px",boxShadow:"rgba(0, 0, 0, 0.1) 0px 4px 12px",...e.scrollbarStyles},customTableCell:{display:"flex",alignItems:"center",justifyContent:"center"},tooltip:{backgroundColor:"#f5f5f9",color:"rgba(0, 0, 0, 0.87)",fontSize:e.typography.pxToRem(14),border:"1px solid #dadde9",maxWidth:450},tooltipPopper:{textAlign:"center"},buttonProgress:{color:Sa.a[500]},TableHead:{backgroundColor:e.palette.barraSuperior,color:"textSecondary",borderRadius:"5px"}}));var sp=()=>{const e=rp(),{user:a}=Object(n.useContext)(la),{list:t}=zc(),[o,r]=Object(n.useState)(!0),[i,c]=Object(n.useState)(!1),[d,m]=Object(n.useState)([]),[u,p]=Object(n.useState)(!1),[g,E]=Object(n.useState)([]),[b,h]=Object(n.useState)(!1),[v,y]=Object(n.useState)(null),[A,C]=Object(n.useState)(!1),[x,T]=Object(n.useState)([]),[O,k]=Object(n.useState)(null),S={action:"",title:"",message:"",whatsAppId:"",open:!1},[w,I]=Object(n.useState)(S),j=Object(f.useHistory)();a.super||j.push("/tickets"),Object(n.useEffect)(()=>{r(!0);(async()=>{try{const{data:e}=await Ze.get("/whatsapp/all/?session=0");m(e),r(!1)}catch(e){r(!1),Ke(e)}})()},[]);const N=e=>{if("unknown"!==e.status){const{accessToken:a,id:t}=e;Ze.post("/facebook",{facebookUserId:t,facebookUserToken:a}).then(e=>{s.b.success(Qe.a.t("connections.facebook.success"))}).catch(e=>{Ke(e)})}};Object(n.useEffect)(()=>{R()},[]);const R=async()=>{c(!0);try{const e=await t();E(e)}catch(e){s.b.error("N\xe3o foi poss\xedvel carregar a lista de registros")}c(!1)},L=e=>{if("unknown"!==e.status){const{accessToken:a,id:t}=e;Ze.post("/facebook",{addInstagram:!0,facebookUserId:t,facebookUserToken:a}).then(e=>{s.b.success(Qe.a.t("connections.facebook.success"))}).catch(e=>{Ke(e)})}},q=(e,a)=>{y(null),p(!0),(null===e||void 0===e?void 0:e.length)>0&&(T(e),k(a))},W=Object(n.useCallback)(()=>{p(!1),y(null),T([]),k(null)},[y,p]),B=Object(n.useCallback)(()=>{y(null),h(!1)},[h,y]);return l.a.createElement(bc,null,l.a.createElement(wr,{title:w.title,open:A,onClose:C,onConfirm:async()=>{if("disconnect"===w.action)try{await Ze.delete("/whatsappsession/".concat(w.whatsAppId))}catch(e){Ke(e)}if("delete"===w.action)try{await Ze.delete("/whatsapp/".concat(w.whatsAppId)),s.b.success(Qe.a.t("connections.toasts.deleted"))}catch(e){Ke(e)}I(S)}},w.message),l.a.createElement(Dc,{open:b,onClose:B,whatsAppId:!u&&(null===v||void 0===v?void 0:v.id)}),l.a.createElement(op,{open:u,onClose:W,filteredWhatsapps:x,companyInfos:O,whatsAppId:!b&&(null===v||void 0===v?void 0:v.id)}),l.a.createElement(St.a,{className:e.mainPaper,style:{overflow:"hidden"},variant:"outlined"},l.a.createElement(hc,null,l.a.createElement(el.a,null,l.a.createElement(P.a,{variant:"h5",color:"black",style:{fontWeight:"bold",marginLeft:"10px",marginTop:"10px"},gutterBottom:!0},Qe.a.t("connections.title")),l.a.createElement(P.a,{style:{marginTop:"-10px",marginLeft:"10px"},variant:"caption",color:"textSecondary"},"Conecte seus canais de atendimento para receber mensagens e iniciar conversas com seus clientes.")),l.a.createElement(yc,null,l.a.createElement(lc.a,{variant:"popover",popupId:"demo-popup-menu"},e=>l.a.createElement(l.a.Fragment,null,l.a.createElement(D.a,Object(nc.bindMenu)(e),l.a.createElement(F.a,{onClick:()=>{q(),e.close()}},l.a.createElement(no.a,{fontSize:"small",style:{marginRight:"10px"}}),"WhatsApp"),l.a.createElement(gc.a,{appId:Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,REACT_APP_BACKEND_URL:"https://backend.bonigroup.com.br",REACT_APP_HOURS_CLOSE_TICKETS_AUTO:"24"}).REACT_APP_FACEBOOK_APP_ID,autoLoad:!1,fields:"name,email,picture",version:"13.0",scope:"public_profile,pages_messaging,pages_show_list,pages_manage_metadata,pages_read_engagement,business_management",callback:N,render:e=>l.a.createElement(F.a,{onClick:e.onClick},l.a.createElement(ao.a,{fontSize:"small",style:{marginRight:"10px"}}),"Facebook")}),l.a.createElement(gc.a,{appId:Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,REACT_APP_BACKEND_URL:"https://backend.bonigroup.com.br",REACT_APP_HOURS_CLOSE_TICKETS_AUTO:"24"}).REACT_APP_FACEBOOK_APP_ID,autoLoad:!1,fields:"name,email,picture",version:"13.0",scope:"public_profile,instagram_basic,instagram_manage_messages,pages_messaging,pages_show_list,pages_manage_metadata,pages_read_engagement,business_management",callback:L,render:e=>l.a.createElement(F.a,{onClick:e.onClick},l.a.createElement(to.a,{fontSize:"small",style:{marginRight:"10px"}}),"Instagram")})))))),l.a.createElement(el.a,{style:{overflowY:"auto",padding:"20px",backgroundColor:"rgb(244 244 244 / 53%)",borderRadius:"5px",height:"93%"}},l.a.createElement(St.a,null,l.a.createElement(Rn.a,{size:"small"},l.a.createElement(Ln.a,{className:e.TableHead},l.a.createElement(qn.a,{style:{color:"#fff"}},l.a.createElement(Dn.a,{style:{color:"#fff"},align:"center"},Qe.a.t("Cliente")),l.a.createElement(Dn.a,{style:{color:"#fff"},align:"center"},Qe.a.t("Conex\xf5es conectadas")),l.a.createElement(Dn.a,{style:{color:"#fff"},align:"center"},Qe.a.t("Conex\xf5es desconectadas")),l.a.createElement(Dn.a,{style:{color:"#fff"},align:"center"},Qe.a.t("Total de Conex\xf5es")),"admin"===a.profile&&l.a.createElement(Dn.a,{style:{color:"#fff"},align:"center"},Qe.a.t("connections.table.actions")))),l.a.createElement(Pn.a,null,o?l.a.createElement(xc,null):l.a.createElement(l.a.Fragment,null,console.log(g,d),(null===g||void 0===g?void 0:g.length)>0&&g.map(e=>l.a.createElement(qn.a,{key:e.id},l.a.createElement(Dn.a,{align:"center"},null===e||void 0===e?void 0:e.name),l.a.createElement(Dn.a,{align:"center"},(null===d||void 0===d?void 0:d.length)&&d.filter(a=>(null===a||void 0===a?void 0:a.companyId)===(null===e||void 0===e?void 0:e.id)&&"CONNECTED"===(null===a||void 0===a?void 0:a.status)).length),l.a.createElement(Dn.a,{align:"center"},(null===d||void 0===d?void 0:d.length)&&d.filter(a=>(null===a||void 0===a?void 0:a.companyId)===(null===e||void 0===e?void 0:e.id)&&"CONNECTED"!==(null===a||void 0===a?void 0:a.status)).length),l.a.createElement(Dn.a,{align:"center"},(null===d||void 0===d?void 0:d.length)&&d.filter(a=>(null===a||void 0===a?void 0:a.companyId)===(null===e||void 0===e?void 0:e.id)).length),"admin"===a.profile&&l.a.createElement(Dn.a,{align:"center"},l.a.createElement(M.a,{size:"small",onClick:()=>q(d.filter(a=>(null===a||void 0===a?void 0:a.companyId)===(null===e||void 0===e?void 0:e.id)),e)},l.a.createElement(mc.a,null))))),l.a.createElement(qn.a,{className:e.TableHead},l.a.createElement(Dn.a,{style:{color:"#fff"},align:"center"},Qe.a.t("Total")),l.a.createElement(Dn.a,{style:{color:"#fff"},align:"center"},(null===d||void 0===d?void 0:d.length)&&d.filter(e=>"CONNECTED"===(null===e||void 0===e?void 0:e.status)).length),l.a.createElement(Dn.a,{style:{color:"#fff"},align:"center"},(null===d||void 0===d?void 0:d.length)&&d.filter(e=>"CONNECTED"!==(null===e||void 0===e?void 0:e.status)).length),l.a.createElement(Dn.a,{style:{color:"#fff"},align:"center"},(null===d||void 0===d?void 0:d.length)&&d.length),"admin"===a.profile&&l.a.createElement(Dn.a,{style:{color:"#fff"},align:"center"})))))))))};function ip(e){const{label:a,data:t,...n}=e,[o,r]=Object(pt.g)(e),{value:s}=o,[i,c]=Object(A.at)(r,"touched","error"),d=i&&c&&!0;return l.a.createElement(xt.a,Object.assign({},n,{error:d}),l.a.createElement(Ct.a,null,a),l.a.createElement(At.a,Object.assign({},o,{value:s||""}),t.map((e,a)=>l.a.createElement(F.a,{key:a,value:e.value},e.label))),function(){if(d)return l.a.createElement(rd.a,null,c)}())}ip.defaultProps={data:[]};t(137),t(1805),t(564);t(1554),t(1066),t(710);Object(x.a)(e=>({"@global":{ul:{margin:0,padding:0,listStyle:"none"}},margin:{margin:e.spacing(1)},cardHeader:{backgroundColor:"light"===e.palette.type?e.palette.grey[200]:e.palette.grey[700]},cardPricing:{display:"flex",justifyContent:"center",alignItems:"baseline",marginBottom:e.spacing(2)},footer:{borderTop:"1px solid ".concat(e.palette.divider),marginTop:e.spacing(8),paddingTop:e.spacing(3),paddingBottom:e.spacing(3),[e.breakpoints.up("sm")]:{paddingTop:e.spacing(6),paddingBottom:e.spacing(6)}},customCard:{display:"flex",marginTop:"16px",alignItems:"center",flexDirection:"column"},custom:{display:"flex",alignItems:"center",justifyContent:"space-between"}}));Object(x.a)(e=>({listItem:{padding:e.spacing(1,0)},total:{fontWeight:"700"},title:{marginTop:e.spacing(2)}}));t(1067);var cp,dp,mp,up,pp=t(230),gp=t(238);gp.default.div(cp||(cp=Object(pp.a)(["\n  footer {\n    margin-top: 30px;\n    display: flex;\n    justify-content: space-between;\n    align-items: center;\n    width: 100%;\n\n    @media (max-width: 768px) {\n      flex-direction: column;\n      .checkout-buttons {\n        display: flex;\n        flex-direction: column-reverse;\n        width: 100%;\n\n        button {\n          width: 100%;\n          margin-top: 16px;\n          margin-left: 0;\n        }\n      }\n    }\n\n    button {\n      margin-left: 16px;\n    }\n  }\n"]))),gp.default.div(dp||(dp=Object(pp.a)(["\n  display: flex;\n  align-items: baseline;\n\n  span {\n    color: #333;\n    font-weight: bold;\n  }\n\n  strong {\n    color: #333;\n    font-size: 28px;\n    margin-left: 5px;\n  }\n\n  @media (max-width: 768px) {\n    min-width: 100%;\n    justify-content: space-between;\n  }\n"]))),gp.default.div(mp||(mp=Object(pp.a)(["\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  align-items: center;\n\n  > h2 {\n    text-align: center;\n  }\n\n  > svg {\n    margin-top: 16px;\n  }\n\n  > span {\n    margin-top: 24px;\n    text-align: center;\n  }\n\n  > p,\n  strong {\n    margin-top: 8px;\n    font-size: 9px;\n    color: #999;\n  }\n\n  .copy-button {\n    font-size: 14px;\n    cursor: pointer;\n    text-align: center;\n    user-select: none;\n    min-height: 56px;\n    display: inline-flex;\n    -webkit-box-pack: center;\n    justify-content: center;\n    -webkit-box-align: center;\n    align-items: center;\n    background-color: #f9f9f9;\n    color: #000;\n    -webkit-appearance: none !important;\n    outline: none;\n    margin-top: 16px;\n    width: 256px;\n    font-weight: 600;\n    text-transform: uppercase;\n    border: none;\n\n    > span {\n      margin-right: 8px;\n    }\n  }\n"]))),gp.default.div(up||(up=Object(pp.a)(["\n  width: 100%;\n  margin: 0 auto 0;\n  max-width: 1110px;\n  display: flex;\n  flex-direction: column;\n  -webkit-box-align: center;\n  align-items: center;\n  padding: 50px 95px;\n  background: #fff;\n  @media (max-width: 768px) {\n    padding: 16px 24px;\n"])));t(1070),t(714);var Ep={formId:"checkoutForm",formField:{firstName:{name:"firstName",label:"Nome completo*",requiredErrorMsg:"O nome completo \xe9 obrigat\xf3rio"},lastName:{name:"lastName",label:"Last name*",requiredErrorMsg:"Last name is required"},address1:{name:"address2",label:"Endere\xe7o*",requiredErrorMsg:"O Endere\xe7o \xe9 obrigat\xf3rio"},city:{name:"city",label:"Cidade*",requiredErrorMsg:"Cidade \xe9 obrigat\xf3ria"},state:{name:"state",label:"Estado*",requiredErrorMsg:"Cidade \xe9 obrigat\xf3ria"},zipcode:{name:"zipcode",label:"CPF/CNPJ*",requiredErrorMsg:"CEP \xe9 obrigat\xf3rio",invalidErrorMsg:"Formato de CEP inv\xe1lido"},country:{name:"country",label:"Pa\xeds*",requiredErrorMsg:"Pa\xeds \xe9 obrigat\xf3rio"},useAddressForPaymentDetails:{name:"useAddressForPaymentDetails",label:"Use this address for payment details"},nameOnCard:{name:"nameOnCard",label:"Name on card*",requiredErrorMsg:"Name on card is required"},cardNumber:{name:"cardNumber",label:"Card number*",requiredErrorMsg:"Card number is required",invalidErrorMsg:"Card number is not valid (e.g. 4111111111111)"},expiryDate:{name:"expiryDate",label:"Expiry date*",requiredErrorMsg:"Expiry date is required",invalidErrorMsg:"Expiry date is not valid"},cvv:{name:"cvv",label:"CVV*",requiredErrorMsg:"CVV is required",invalidErrorMsg:"CVV is invalid (e.g. 357)"}}};const{formField:{firstName:bp,address1:fp,city:hp,zipcode:vp,country:yp}}=Ep;ut.c().shape({[bp.name]:ut.d().required("".concat(bp.requiredErrorMsg)),[vp.name]:ut.d().required("".concat(vp.requiredErrorMsg))});const{formField:{firstName:Ap,lastName:Cp,address1:xp,city:Tp,state:Op,zipcode:kp,country:Sp,useAddressForPaymentDetails:wp,nameOnCard:Mp,cardNumber:Ip,cvv:jp}}=Ep;Ap.name,Cp.name,xp.name,Tp.name,Op.name,kp.name,Sp.name,wp.name,Mp.name,Ip.name,jp.name,Object(x.a)(e=>({stepper:{padding:e.spacing(3,0,5)},buttons:{display:"flex",justifyContent:"flex-end"},button:{marginTop:e.spacing(3),marginLeft:e.spacing(1)},wrapper:{margin:e.spacing(1),position:"relative"},buttonProgress:{position:"absolute",top:"50%",left:"50%"}}));Object(x.a)(e=>({root:{display:"flex",flexWrap:"wrap"},textField:{marginRight:e.spacing(1),flex:1},extraAttr:{display:"flex",justifyContent:"center",alignItems:"center"},btnWrapper:{position:"relative"},buttonProgress:{color:Sa.a[500],position:"absolute",top:"50%",left:"50%",marginTop:-12,marginLeft:-12}}));Object(x.a)(e=>({mainPaper:{flex:1,padding:e.spacing(1),overflowY:"scroll",...e.scrollbarStyles}}));var Np=t.p+"static/media/n8n.55dcf941.png",Rp=t(1071),Pp=t.n(Rp),Dp=t.p+"static/media/webhook.20ba7126.png",Fp=t(1072),Lp=t.n(Fp);const qp=Object(x.a)(e=>({root:{display:"flex",flexWrap:"wrap",gap:4},textField:{marginRight:e.spacing(1),flex:1},btnWrapper:{position:"relative"},buttonProgress:{color:Sa.a[500],position:"absolute",top:"50%",left:"50%",marginTop:-12,marginLeft:-12},btnLeft:{display:"flex",marginRight:"auto",marginLeft:12},colorAdorment:{width:20,height:20}})),Wp=ut.c().shape({name:ut.d().min(2,"Too Short!").max(50,"Too Long!").required("Required")});var Bp=e=>{let{open:a,onClose:t,integrationId:o}=e;const r=qp(),i={type:"typebot",name:"",projectName:"",jsonContent:"",language:"",urlN8N:"",typebotDelayMessage:1e3,typebotExpires:1,typebotKeywordFinish:"",typebotKeywordRestart:"",typebotRestartMessage:"",typebotSlug:"",typebotUnknownMessage:""},[c,d]=Object(n.useState)(i);Object(n.useEffect)(()=>((async()=>{if(o)try{const{data:e}=await Ze.get("/queueIntegration/".concat(o));d(a=>({...a,...e}))}catch(e){Ke(e)}})(),()=>{d({type:"dialogflow",name:"",projectName:"",jsonContent:"",language:"",urlN8N:"",typebotDelayMessage:1e3})}),[o,a]);const m=()=>{t(),d(i)};return l.a.createElement("div",{className:r.root},l.a.createElement(bt.a,{open:a,onClose:m,fullWidth:!0,maxWidth:"md",scroll:"paper"},l.a.createElement(vt.a,null,"".concat(o?Qe.a.t("queueIntegrationModal.title.edit"):Qe.a.t("queueIntegrationModal.title.add"))),l.a.createElement(pt.f,{initialValues:c,enableReinitialize:!0,validationSchema:Wp,onSubmit:(e,a,t)=>{setTimeout(()=>{(async e=>{try{"n8n"!==e.type&&"webhook"!==e.type&&"typebot"!==e.type||(e.projectName=e.name),o?(await Ze.put("/queueIntegration/".concat(o),e),s.b.success(Qe.a.t("queueIntegrationModal.messages.editSuccess"))):(await Ze.post("/queueIntegration",e),s.b.success(Qe.a.t("queueIntegrationModal.messages.addSuccess"))),m()}catch(a){Ke(a)}})(e),a.setSubmitting(!1)},400)}},e=>{let{touched:a,errors:t,isSubmitting:n,values:i}=e;return l.a.createElement(pt.e,null,l.a.createElement(St.a,{square:!0,className:r.mainPaper,elevation:1},l.a.createElement(ht.a,{dividers:!0},l.a.createElement(it.a,{container:!0,spacing:1},l.a.createElement(it.a,{item:!0,xs:12,md:6,xl:6},l.a.createElement(xt.a,{variant:"outlined",className:r.formControl,margin:"dense",fullWidth:!0},l.a.createElement(Ct.a,{id:"type-selection-input-label"},Qe.a.t("queueIntegrationModal.form.type")),l.a.createElement(pt.c,{as:At.a,label:Qe.a.t("queueIntegrationModal.form.type"),name:"type",labelId:"profile-selection-label",error:a.type&&Boolean(t.type),helpertext:a.type&&t.type,id:"type",required:!0},l.a.createElement(F.a,{value:"dialogflow"},"DialogFlow"),l.a.createElement(F.a,{value:"n8n"},"N8N"),l.a.createElement(F.a,{value:"webhook"},"WebHooks"),l.a.createElement(F.a,{value:"typebot"},"Typebot")))),"dialogflow"===i.type&&l.a.createElement(l.a.Fragment,null,l.a.createElement(it.a,{item:!0,xs:12,md:6,xl:6},l.a.createElement(pt.c,{as:Et.a,label:Qe.a.t("queueIntegrationModal.form.name"),autoFocus:!0,name:"name",fullWidth:!0,error:a.name&&Boolean(t.name),helpertext:a.name&&t.name,variant:"outlined",margin:"dense",className:r.textField})),l.a.createElement(it.a,{item:!0,xs:12,md:6,xl:6},l.a.createElement(xt.a,{variant:"outlined",className:r.formControl,margin:"dense",fullWidth:!0},l.a.createElement(Ct.a,{id:"language-selection-input-label"},Qe.a.t("queueIntegrationModal.form.language")),l.a.createElement(pt.c,{as:At.a,label:Qe.a.t("queueIntegrationModal.form.language"),name:"language",labelId:"profile-selection-label",fullWidth:!0,error:a.language&&Boolean(t.language),helpertext:a.language&&t.language,id:"language-selection",required:!0},l.a.createElement(F.a,{value:"pt-BR"},"Portugues"),l.a.createElement(F.a,{value:"en"},"Ingl\xeas"),l.a.createElement(F.a,{value:"es"},"Espa\xf1ol")))),l.a.createElement(it.a,{item:!0,xs:12,md:6,xl:6},l.a.createElement(pt.c,{as:Et.a,label:Qe.a.t("queueIntegrationModal.form.projectName"),name:"projectName",error:a.projectName&&Boolean(t.projectName),helpertext:a.projectName&&t.projectName,fullWidth:!0,variant:"outlined",margin:"dense"})),l.a.createElement(it.a,{item:!0,xs:12,md:12,xl:12},l.a.createElement(pt.c,{as:Et.a,label:Qe.a.t("queueIntegrationModal.form.jsonContent"),type:"jsonContent",multiline:!0,maxRows:5,minRows:5,fullWidth:!0,name:"jsonContent",error:a.jsonContent&&Boolean(t.jsonContent),helpertext:a.jsonContent&&t.jsonContent,variant:"outlined",margin:"dense"}))),("n8n"===i.type||"webhook"===i.type)&&l.a.createElement(l.a.Fragment,null,l.a.createElement(it.a,{item:!0,xs:12,md:6,xl:6},l.a.createElement(pt.c,{as:Et.a,label:Qe.a.t("queueIntegrationModal.form.name"),autoFocus:!0,required:!0,name:"name",error:a.name&&Boolean(t.name),helpertext:a.name&&t.name,variant:"outlined",margin:"dense",fullWidth:!0,className:r.textField})),l.a.createElement(it.a,{item:!0,xs:12,md:12,xl:12},l.a.createElement(pt.c,{as:Et.a,label:Qe.a.t("queueIntegrationModal.form.urlN8N"),name:"urlN8N",error:a.urlN8N&&Boolean(t.urlN8N),helpertext:a.urlN8N&&t.urlN8N,variant:"outlined",margin:"dense",required:!0,fullWidth:!0,className:r.textField}))),"typebot"===i.type&&l.a.createElement(l.a.Fragment,null,l.a.createElement(it.a,{item:!0,xs:12,md:6,xl:6},l.a.createElement(pt.c,{as:Et.a,label:Qe.a.t("queueIntegrationModal.form.name"),autoFocus:!0,name:"name",error:a.name&&Boolean(t.name),helpertext:a.name&&t.name,variant:"outlined",margin:"dense",required:!0,fullWidth:!0,className:r.textField})),l.a.createElement(it.a,{item:!0,xs:12,md:12,xl:12},l.a.createElement(pt.c,{as:Et.a,label:Qe.a.t("queueIntegrationModal.form.urlN8N"),name:"urlN8N",error:a.urlN8N&&Boolean(t.urlN8N),helpertext:a.urlN8N&&t.urlN8N,variant:"outlined",margin:"dense",required:!0,fullWidth:!0,className:r.textField})),l.a.createElement(it.a,{item:!0,xs:12,md:6,xl:6},l.a.createElement(pt.c,{as:Et.a,label:Qe.a.t("queueIntegrationModal.form.typebotSlug"),name:"typebotSlug",error:a.typebotSlug&&Boolean(t.typebotSlug),helpertext:a.typebotSlug&&t.typebotSlug,required:!0,variant:"outlined",margin:"dense",fullWidth:!0,className:r.textField})),l.a.createElement(it.a,{item:!0,xs:12,md:6,xl:6},l.a.createElement(pt.c,{as:Et.a,label:Qe.a.t("queueIntegrationModal.form.typebotExpires"),name:"typebotExpires",error:a.typebotExpires&&Boolean(t.typebotExpires),helpertext:a.typebotExpires&&t.typebotExpires,variant:"outlined",margin:"dense",fullWidth:!0,className:r.textField})),l.a.createElement(it.a,{item:!0,xs:12,md:6,xl:6},l.a.createElement(pt.c,{as:Et.a,label:Qe.a.t("queueIntegrationModal.form.typebotDelayMessage"),name:"typebotDelayMessage",error:a.typebotDelayMessage&&Boolean(t.typebotDelayMessage),helpertext:a.typebotDelayMessage&&t.typebotDelayMessage,variant:"outlined",margin:"dense",fullWidth:!0,className:r.textField})),l.a.createElement(it.a,{item:!0,xs:12,md:6,xl:6},l.a.createElement(pt.c,{as:Et.a,label:Qe.a.t("queueIntegrationModal.form.typebotKeywordFinish"),name:"typebotKeywordFinish",error:a.typebotKeywordFinish&&Boolean(t.typebotKeywordFinish),helpertext:a.typebotKeywordFinish&&t.typebotKeywordFinish,variant:"outlined",margin:"dense",fullWidth:!0,className:r.textField})),l.a.createElement(it.a,{item:!0,xs:12,md:6,xl:6},l.a.createElement(pt.c,{as:Et.a,label:Qe.a.t("queueIntegrationModal.form.typebotKeywordRestart"),name:"typebotKeywordRestart",error:a.typebotKeywordRestart&&Boolean(t.typebotKeywordRestart),helpertext:a.typebotKeywordRestart&&t.typebotKeywordRestart,variant:"outlined",margin:"dense",fullWidth:!0,className:r.textField})),l.a.createElement(it.a,{item:!0,xs:12,md:6,xl:6},l.a.createElement(pt.c,{as:Et.a,label:Qe.a.t("queueIntegrationModal.form.typebotUnknownMessage"),name:"typebotUnknownMessage",error:a.typebotUnknownMessage&&Boolean(t.typebotUnknownMessage),helpertext:a.typebotUnknownMessage&&t.typebotUnknownMessage,variant:"outlined",margin:"dense",fullWidth:!0,className:r.textField})),l.a.createElement(it.a,{item:!0,xs:12,md:12,xl:12},l.a.createElement(pt.c,{as:Et.a,label:Qe.a.t("queueIntegrationModal.form.typebotRestartMessage"),name:"typebotRestartMessage",error:a.typebotRestartMessage&&Boolean(t.typebotRestartMessage),helpertext:a.typebotRestartMessage&&t.typebotRestartMessage,variant:"outlined",margin:"dense",fullWidth:!0,className:r.textField})))))),l.a.createElement(ft.a,null,"dialogflow"===i.type&&l.a.createElement(gt.a,{onClick:e=>(async(e,a)=>{try{const{projectName:e,jsonContent:t,language:n}=a;await Ze.post("/queueIntegration/testSession",{projectName:e,jsonContent:t,language:n}),s.b.success(Qe.a.t("queueIntegrationModal.messages.testSuccess"))}catch(t){Ke(t)}})(0,i),color:"inherit",disabled:n,name:"testSession",variant:"outlined",className:r.btnLeft},Qe.a.t("queueIntegrationModal.buttons.test")),l.a.createElement(gt.a,{onClick:m,color:"secondary",disabled:n,variant:"outlined"},Qe.a.t("queueIntegrationModal.buttons.cancel")),l.a.createElement(gt.a,{type:"submit",color:"primary",disabled:n,variant:"contained",className:r.btnWrapper},"".concat(o?Qe.a.t("queueIntegrationModal.buttons.okEdit"):Qe.a.t("queueIntegrationModal.buttons.okAdd")),n&&l.a.createElement(yt.a,{size:24,className:r.buttonProgress}))))})))};const zp=(e,a)=>{if("LOAD_INTEGRATIONS"===a.type){const t=a.payload,n=[];return t.forEach(a=>{const t=e.findIndex(e=>e.id===a.id);-1!==t?e[t]=a:n.push(a)}),[...e,...n]}if("UPDATE_INTEGRATIONS"===a.type){const t=a.payload,n=e.findIndex(e=>e.id===t.id);return-1!==n?(e[n]=t,[...e]):[t,...e]}if("DELETE_INTEGRATION"===a.type){const t=a.payload,n=e.findIndex(e=>e.id===t);return-1!==n&&e.splice(n,1),[...e]}if("RESET"===a.type)return[]},Hp=Object(x.a)(e=>({mainPaper:{flex:1,padding:e.spacing(2),margin:e.spacing(1),overflowY:"scroll",...e.scrollbarStyles},avatar:{width:"140px",height:"40px",borderRadius:4}}));var Up=()=>{const e=Hp(),[a,t]=Object(n.useState)(!1),[o,r]=Object(n.useState)(1),[i,c]=Object(n.useState)(!1),[d,m]=Object(n.useState)(null),[u,p]=Object(n.useState)(null),[g,E]=Object(n.useState)(!1),[b,f]=Object(n.useState)(!1),[h,v]=Object(n.useState)(""),[y,A]=Object(n.useReducer)(zp,[]),{user:C}=Object(n.useContext)(la),{getPlanCompany:x}=ua(),T=C.companyId,O=Object(Fc.useHistory)();Object(n.useEffect)(()=>{!async function(){(await x(void 0,T)).plan.useIntegrations||(s.b.error("Esta empresa n\xe3o possui permiss\xe3o para acessar essa p\xe1gina! Estamos lhe redirecionando."),setTimeout(()=>{O.push("/")},1e3))}()},[]),Object(n.useEffect)(()=>{A({type:"RESET"}),r(1)},[h]),Object(n.useEffect)(()=>{t(!0);const e=setTimeout(()=>{(async()=>{try{const{data:e}=await Ze.get("/queueIntegration/",{params:{searchParam:h,pageNumber:o}});A({type:"LOAD_INTEGRATIONS",payload:e.queueIntegrations}),c(e.hasMore),t(!1)}catch(e){Ke(e)}})()},500);return()=>clearTimeout(e)},[h,o]),Object(n.useEffect)(()=>{const e=aa({companyId:T,userId:C.id});return e.on("company-".concat(T,"-queueIntegration"),e=>{"update"!==e.action&&"create"!==e.action||A({type:"UPDATE_INTEGRATIONS",payload:e.queueIntegration}),"delete"===e.action&&A({type:"DELETE_INTEGRATION",payload:+e.integrationId})}),()=>{e.disconnect()}},[]);return l.a.createElement(bc,null,l.a.createElement(wr,{title:u&&"".concat(Qe.a.t("queueIntegration.confirmationModal.deleteTitle")," ").concat(u.name,"?"),open:b,onClose:f,onConfirm:()=>(async e=>{try{await Ze.delete("/queueIntegration/".concat(e)),s.b.success(Qe.a.t("queueIntegration.toasts.deleted"))}catch(a){Ke(a)}p(null),v(""),r(1)})(u.id)},Qe.a.t("queueIntegration.confirmationModal.deleteMessage")),l.a.createElement(Bp,{open:g,onClose:()=>{m(null),E(!1)},"aria-labelledby":"form-dialog-title",integrationId:d&&d.id}),l.a.createElement(hc,null,l.a.createElement(Ac,null,Qe.a.t("queueIntegration.title")," (",y.length,")"),l.a.createElement(yc,null,l.a.createElement(Et.a,{placeholder:Qe.a.t("queueIntegration.searchPlaceholder"),type:"search",value:h,onChange:e=>{v(e.target.value.toLowerCase())},InputProps:{startAdornment:l.a.createElement(Yi.a,{position:"start"},l.a.createElement(gd.a,{color:"secondary"}))}}),l.a.createElement(gt.a,{variant:"contained",color:"primary",onClick:()=>{m(null),E(!0)}},Qe.a.t("queueIntegration.buttons.add")))),l.a.createElement(St.a,{className:e.mainPaper,variant:"outlined",onScroll:e=>{if(!i||a)return;const{scrollTop:t,scrollHeight:n,clientHeight:l}=e.currentTarget;n-(t+100)<l&&r(e=>e+1)}},l.a.createElement(Rn.a,{size:"small"},l.a.createElement(Ln.a,null,l.a.createElement(qn.a,null,l.a.createElement(Dn.a,{padding:"checkbox"}),l.a.createElement(Dn.a,{align:"center"},Qe.a.t("queueIntegration.table.id")),l.a.createElement(Dn.a,{align:"center"},Qe.a.t("queueIntegration.table.name")))),l.a.createElement(Pn.a,null,l.a.createElement(l.a.Fragment,null,y.map(a=>l.a.createElement(qn.a,{key:a.id},l.a.createElement(Dn.a,null,"dialogflow"===a.type&&l.a.createElement(k.a,{src:Pp.a,className:e.avatar}),"n8n"===a.type&&l.a.createElement(k.a,{src:Np,className:e.avatar}),"webhook"===a.type&&l.a.createElement(k.a,{src:Dp,className:e.avatar}),"typebot"===a.type&&l.a.createElement(k.a,{src:Lp.a,className:e.avatar})),l.a.createElement(Dn.a,{align:"center"},a.id),l.a.createElement(Dn.a,{align:"center"},a.name),l.a.createElement(Dn.a,{align:"center"},l.a.createElement(M.a,{size:"small",onClick:()=>(e=>{m(e),E(!0)})(a)},l.a.createElement(mc.a,{color:"secondary"})),l.a.createElement(M.a,{size:"small",onClick:e=>{f(!0),p(a)}},l.a.createElement(uc.a,{color:"secondary"}))))),a&&l.a.createElement(xc,{columns:7}))))))};const Qp=Object(x.a)(e=>({root:{display:"flex",flexWrap:"wrap",gap:4},multFieldLine:{display:"flex","& > *:not(:last-child)":{marginRight:e.spacing(1)}},textField:{marginRight:e.spacing(1),flex:1},extraAttr:{display:"flex",justifyContent:"center",alignItems:"center"},btnWrapper:{position:"relative"},buttonProgress:{color:Sa.a[500],position:"absolute",top:"50%",left:"50%",marginTop:-12,marginLeft:-12},formControl:{margin:e.spacing(1),minWidth:2e3},colorAdorment:{width:20,height:20}})),Gp=ut.c().shape({name:ut.d().min(3,"nome muito curto").required("Obrigat\xf3rio"),message:ut.d().required("Obrigat\xf3rio")});var Vp=e=>{let{open:a,onClose:t,fileListId:o,reload:r}=e;const i=Qp(),{user:c}=Object(n.useContext)(la),[d,m]=Object(n.useState)([]),[u,p]=Object(n.useState)([]),g={name:"",message:"",options:[{name:"",path:"",mediaType:""}]},[E,b]=Object(n.useState)(g);Object(n.useEffect)(()=>{try{(async()=>{if(!o)return;const{data:e}=await Ze.get("/files/".concat(o));b(e)})()}catch(e){Ke(e)}},[o,a]);const f=()=>{b(g),m([]),t()};return l.a.createElement("div",{className:i.root},l.a.createElement(bt.a,{open:a,onClose:f,maxWidth:"md",fullWidth:!0,scroll:"paper"},l.a.createElement(vt.a,{id:"form-dialog-title"},"".concat(o?Qe.a.t("fileModal.title.edit"):Qe.a.t("fileModal.title.add"))),l.a.createElement(pt.f,{initialValues:E,enableReinitialize:!0,validationSchema:Gp,onSubmit:(e,a)=>{setTimeout(()=>{(async e=>{const a=async(e,a,t)=>{const n=new FormData;n.append("fileId",t),n.append("typeArch","fileList"),a.forEach((a,t)=>{a.file&&(n.append("files",a.file),n.append("mediaType",a.file.type),n.append("name",e[t].name),n.append("id",e[t].id))});try{const{data:e}=await Ze.post("/files/uploadList/".concat(t),n);return m([]),e}catch(l){Ke(l)}return null},t={...e,userId:c.id};try{if(o){const{data:n}=await Ze.put("/files/".concat(o),t);n.options.length>0&&a(n.options,e.options,o)}else{const{data:n}=await Ze.post("/files",t);n.options.length>0&&a(n.options,e.options,n.id)}s.b.success(Qe.a.t("fileModal.success")),"function"==typeof r&&r()}catch(n){Ke(n)}f()})(e),a.setSubmitting(!1)},400)}},e=>{let{touched:a,errors:t,isSubmitting:n,values:r}=e;return l.a.createElement(pt.e,null,l.a.createElement(ht.a,{dividers:!0},l.a.createElement("div",{className:i.multFieldLine},l.a.createElement(pt.c,{as:Et.a,label:Qe.a.t("fileModal.form.name"),name:"name",error:a.name&&Boolean(t.name),helperText:a.name&&t.name,variant:"outlined",margin:"dense",fullWidth:!0})),l.a.createElement("br",null),l.a.createElement("div",{className:i.multFieldLine},l.a.createElement(pt.c,{as:Et.a,label:Qe.a.t("fileModal.form.message"),type:"message",multiline:!0,minRows:5,fullWidth:!0,name:"message",error:a.message&&Boolean(t.message),helperText:a.message&&t.message,variant:"outlined",margin:"dense"})),l.a.createElement(P.a,{style:{marginBottom:8,marginTop:12},variant:"subtitle1"},Qe.a.t("fileModal.form.fileOptions")),l.a.createElement(pt.d,{name:"options"},e=>{let{push:a,remove:t}=e;return l.a.createElement(l.a.Fragment,null,r.options&&r.options.length>0&&r.options.map((e,a)=>l.a.createElement("div",{className:i.extraAttr,key:"".concat(a,"-info")},l.a.createElement(it.a,{container:!0,spacing:0},l.a.createElement(it.a,{xs:6,md:10,item:!0},l.a.createElement(pt.c,{as:Et.a,label:Qe.a.t("fileModal.form.extraName"),name:"options[".concat(a,"].name"),variant:"outlined",margin:"dense",multiline:!0,fullWidth:!0,minRows:2,className:i.textField})),l.a.createElement(it.a,{xs:2,md:2,item:!0,style:{display:"flex",alignItems:"center",justifyContent:"flex-end"}},l.a.createElement("input",{type:"file",onChange:e=>{const t=e.target.files[0],n=[...r.options];n[a].file=t,console.log(n),m("options",n);const l=[...u];l[a]=t?t.name:"",p(l)},style:{display:"none"},name:"options[".concat(a,"].file"),id:"file-upload-".concat(a)}),l.a.createElement("label",{htmlFor:"file-upload-".concat(a)},l.a.createElement(M.a,{component:"span"},l.a.createElement(jd.a,null))),l.a.createElement(M.a,{size:"small",onClick:()=>t(a)},l.a.createElement(Yl.a,null))),l.a.createElement(it.a,{xs:12,md:12,item:!0},e.path?e.path:u[a])))),l.a.createElement("div",{className:i.extraAttr},l.a.createElement(gt.a,{style:{flex:1,marginTop:8},variant:"outlined",color:"primary",onClick:()=>{a({name:"",path:""}),p([...u,""])}},"+ ".concat(Qe.a.t("fileModal.buttons.fileOptions")))))})),l.a.createElement(ft.a,null,l.a.createElement(gt.a,{onClick:f,color:"secondary",disabled:n,variant:"outlined"},Qe.a.t("fileModal.buttons.cancel")),l.a.createElement(gt.a,{type:"submit",color:"primary",disabled:n,variant:"contained",className:i.btnWrapper},"".concat(o?Qe.a.t("fileModal.buttons.okEdit"):Qe.a.t("fileModal.buttons.okAdd")),n&&l.a.createElement(yt.a,{size:24,className:i.buttonProgress}))))})))};const Kp=(e,a)=>{if("LOAD_FILES"===a.type){const t=a.payload,n=[];return t.forEach(a=>{const t=e.findIndex(e=>e.id===a.id);-1!==t?e[t]=a:n.push(a)}),[...e,...n]}if("UPDATE_FILES"===a.type){const t=a.payload,n=e.findIndex(e=>e.id===t.id);return-1!==n?(e[n]=t,[...e]):[t,...e]}if("DELETE_TAG"===a.type){const t=a.payload,n=e.findIndex(e=>e.id===t);return-1!==n&&e.splice(n,1),[...e]}if("RESET"===a.type)return[]},_p=Object(x.a)(e=>({mainPaper:{flex:1,padding:e.spacing(1),overflowY:"scroll",...e.scrollbarStyles}}));var Yp=()=>{const e=_p(),{user:a}=Object(n.useContext)(la),[t,o]=Object(n.useState)(!1),[r,i]=Object(n.useState)(1),[c,d]=Object(n.useState)(!1),[m,u]=Object(n.useState)(null),[p,g]=Object(n.useState)(null),[E,b]=Object(n.useState)(!1),[f,h]=Object(n.useState)(""),[v,y]=Object(n.useReducer)(Kp,[]),[A,C]=Object(n.useState)(!1),x=Object(n.useCallback)(async()=>{try{const{data:e}=await Ze.get("/files/",{params:{searchParam:f,pageNumber:r}});y({type:"LOAD_FILES",payload:e.files}),d(e.hasMore),o(!1)}catch(e){Ke(e)}},[f,r]);Object(n.useEffect)(()=>{y({type:"RESET"}),i(1)},[f]),Object(n.useEffect)(()=>{o(!0);const e=setTimeout(()=>{x()},500);return()=>clearTimeout(e)},[f,r,x]),Object(n.useEffect)(()=>{const e=aa({companyId:a.companyId});return e.on("company-".concat(a.companyId,"-file"),e=>{"update"!==e.action&&"create"!==e.action||y({type:"UPDATE_FILES",payload:e.files}),"delete"===e.action&&y({type:"DELETE_USER",payload:+e.fileId})}),()=>{e.disconnect()}},[a]);return l.a.createElement(bc,null,l.a.createElement(wr,{title:p&&"".concat(Qe.a.t("files.confirmationModal.deleteTitle")),open:E,onClose:b,onConfirm:()=>(async e=>{try{await Ze.delete("/files/".concat(e)),s.b.success(Qe.a.t("files.toasts.deleted"))}catch(a){Ke(a)}g(null),h(""),i(1),y({type:"RESET"}),i(1),await x()})(p.id)},Qe.a.t("files.confirmationModal.deleteMessage")),l.a.createElement(Vp,{open:A,onClose:()=>{u(null),C(!1)},reload:x,"aria-labelledby":"form-dialog-title",fileListId:m&&m.id}),l.a.createElement(hc,null,l.a.createElement(Ac,null,Qe.a.t("files.title")," (",v.length,")"),l.a.createElement(yc,null,l.a.createElement(Et.a,{placeholder:Qe.a.t("contacts.searchPlaceholder"),type:"search",value:f,onChange:e=>{h(e.target.value.toLowerCase())},InputProps:{startAdornment:l.a.createElement(Yi.a,{position:"start"},l.a.createElement(gd.a,{style:{color:"gray"}}))}}),l.a.createElement(gt.a,{variant:"contained",color:"primary",onClick:()=>{u(null),C(!0)}},Qe.a.t("files.buttons.add")))),l.a.createElement(St.a,{className:e.mainPaper,variant:"outlined",onScroll:e=>{if(!c||t)return;const{scrollTop:a,scrollHeight:n,clientHeight:l}=e.currentTarget;n-(a+100)<l&&i(e=>e+1)}},l.a.createElement(Rn.a,{size:"small"},l.a.createElement(Ln.a,null,l.a.createElement(qn.a,null,l.a.createElement(Dn.a,{align:"center"},Qe.a.t("files.table.name")),l.a.createElement(Dn.a,{align:"center"},Qe.a.t("files.table.actions")))),l.a.createElement(Pn.a,null,l.a.createElement(l.a.Fragment,null,v.map(e=>l.a.createElement(qn.a,{key:e.id},l.a.createElement(Dn.a,{align:"center"},e.name),l.a.createElement(Dn.a,{align:"center"},l.a.createElement(M.a,{size:"small",onClick:()=>(e=>{u(e),C(!0)})(e)},l.a.createElement(bd.a,null)),l.a.createElement(M.a,{size:"small",onClick:a=>{b(!0),g(e)}},l.a.createElement(Yl.a,null))))),t&&l.a.createElement(xc,{columns:4}))))))};const Xp=Object(x.a)(e=>({root:{display:"flex",flexDirection:"column",alignItems:"center",margin:"2rem"},inputContainer:{display:"flex",width:"100%",marginBottom:"1rem"},input:{flexGrow:1,marginRight:"1rem"},listContainer:{width:"100%",height:"100%",marginTop:"1rem",backgroundColor:e.palette.background.primary,borderRadius:"5px"},list:{marginBottom:"5px",color:e.palette.text.primary}}));var Jp=()=>{const e=Xp(),[a,t]=Object(n.useState)(""),[o,r]=Object(n.useState)([]),[s,i]=Object(n.useState)(-1);Object(n.useEffect)(()=>{const e=localStorage.getItem("tasks");e&&r(JSON.parse(e))},[]),Object(n.useEffect)(()=>{localStorage.setItem("tasks",JSON.stringify(o))},[o]);return l.a.createElement("div",{className:e.root},l.a.createElement("div",{className:e.inputContainer},l.a.createElement(Et.a,{className:e.input,label:"Nova tarefa",value:a,onChange:e=>{t(e.target.value)},variant:"outlined"}),l.a.createElement(gt.a,{variant:"contained",color:"primary",onClick:()=>{if(!a.trim())return;const e=new Date;if(s>=0){const n=[...o];n[s]={text:a,updatedAt:e,createdAt:n[s].createdAt},r(n),t(""),i(-1)}else r([...o,{text:a,createdAt:e,updatedAt:e}]),t("")}},s>=0?"Salvar":"Adicionar")),l.a.createElement("div",{className:e.listContainer},l.a.createElement(I.a,null,o.map((a,n)=>l.a.createElement(G.a,{key:n,className:e.list},l.a.createElement(K.a,{primary:a.text,secondary:a.updatedAt.toLocaleString()}),l.a.createElement(xr.a,null,l.a.createElement(M.a,{onClick:()=>(e=>{t(o[e].text),i(e)})(n)},l.a.createElement(bd.a,null)),l.a.createElement(M.a,{onClick:()=>(e=>{const a=[...o];a.splice(e,1),r(a)})(n)},l.a.createElement(Or.a,null))))))))},Zp=t(1073),$p=t.n(Zp);const eg=Object(x.a)(e=>({root:{display:"flex",alignItems:"center",padding:e.spacing(1)},button:{background:"#10a110",border:"none",padding:"10px",color:"white",fontWeight:"bold",borderRadius:"5px"}}));var ag=()=>{const e=eg(),a=Object(f.useHistory)(),[t,o]=Object(n.useState)([]);Object(n.useEffect)(()=>{(async()=>{try{const e=(await Ze.get("/tags/kanban")).data.lista||[];o(e),await p(u)}catch(e){console.log(e)}})()},[]);const[r,i]=Object(n.useState)({lanes:[]}),[c,d]=Object(n.useState)([]),{user:m}=Object(n.useContext)(la),u=m.queues.map(e=>e.UserQueue.queueId),p=async e=>{try{const{data:a}=await Ze.get("/ticket/kanban",{params:{queueIds:JSON.stringify(e),teste:!0}});d(a.tickets)}catch(a){console.log(a),d([])}},g=a=>{const n=c.filter(e=>0===e.tags.length),o=[{id:"lane0",title:Qe.a.t("tagsKanban.laneDefault"),label:n.length.toString(),cards:n.map(a=>({id:a.id.toString(),label:"Ticket n\xba "+a.id.toString(),description:l.a.createElement("div",null,l.a.createElement("p",null,a.contact.number,l.a.createElement("br",null),a.lastMessage),l.a.createElement("button",{className:e.button,onClick:()=>{E(a.uuid)}},"Ver Ticket")),title:a.contact.name,draggable:!0,href:"/tickets/"+a.uuid}))},...t.map(a=>{const t=c.filter(e=>e.tags.map(e=>e.id).includes(a.id));return{id:a.id.toString(),title:a.name,label:null===t||void 0===t?void 0:t.length.toString(),cards:t.map(a=>({id:a.id.toString(),label:"Ticket n\xba "+a.id.toString(),description:l.a.createElement("div",null,l.a.createElement("p",null,a.contact.number,l.a.createElement("br",null),a.lastMessage),l.a.createElement("button",{className:e.button,onClick:()=>{console.log(a.uuid),E(a.uuid)}},"Ver Ticket")),title:a.contact.name,draggable:!0,href:"/tickets/"+a.uuid})),style:{backgroundColor:a.color,color:"white"}}})];i({lanes:o})},E=e=>{a.push("/tickets/"+e)};Object(n.useEffect)(()=>{g()},[t,c]);return l.a.createElement("div",{className:e.root},l.a.createElement($p.a,{data:r,onCardMoveAcrossLanes:async(e,a,t)=>{try{await Ze.delete("/ticket-tags/".concat(t)),s.b.success("Ticket Tag Removido!"),await Ze.put("/ticket-tags/".concat(t,"/").concat(a)),s.b.success("Ticket Tag Adicionado com Sucesso!"),await p(u),g()}catch(n){console.log(n)}},style:{backgroundColor:"rgba(252, 252, 252, 0.03)"}}))};const tg=(e,a)=>{if("LOAD_TAGS"===a.type){const t=a.payload,n=[];return t.forEach(a=>{const t=e.findIndex(e=>e.id===a.id);-1!==t?e[t]=a:n.push(a)}),[...e,...n]}if("UPDATE_TAGS"===a.type){const t=a.payload,n=e.findIndex(e=>e.id===t.id);return-1!==n?(e[n]=t,[...e]):[t,...e]}if("DELETE_TAGS"===a.type){const t=a.payload,n=e.findIndex(e=>e.id===t);return-1!==n&&e.splice(n,1),[...e]}if("RESET"===a.type)return[]},ng=Object(x.a)(e=>({mainPaper:{flex:1,padding:e.spacing(1),overflowY:"scroll",...e.scrollbarStyles}}));var lg=()=>{const e=ng(),{user:a}=Object(n.useContext)(la),[t,o]=Object(n.useState)(!1),[r,i]=Object(n.useState)(1),[c,d]=Object(n.useState)(!1),[m,u]=Object(n.useState)(null),[p,g]=Object(n.useState)(null),[E,b]=Object(n.useState)(!1),[f,h]=Object(n.useState)(""),[v,y]=Object(n.useReducer)(tg,[]),[A,C]=Object(n.useState)(!1);Object(n.useEffect)(()=>{o(!0);const e=setTimeout(()=>{(async()=>{try{const{data:e}=await Ze.get("/tags/",{params:{searchParam:f,pageNumber:r,kanban:1}});y({type:"LOAD_TAGS",payload:e.tags}),d(e.hasMore),o(!1)}catch(e){Ke(e)}})()},500);return()=>clearTimeout(e)},[f,r]),Object(n.useEffect)(()=>{y({type:"RESET"}),i(1)},[f]),Object(n.useEffect)(()=>{const e=aa({companyId:a.companyId});return e.on("company".concat(a.companyId,"-tag"),e=>{"update"!==e.action&&"create"!==e.action||y({type:"UPDATE_TAGS",payload:e.tag}),"delete"===e.action&&y({type:"DELETE_TAGS",payload:+e.tagId})}),()=>{e.disconnect()}},[a]);return l.a.createElement(bc,null,l.a.createElement(wr,{title:p&&"".concat(Qe.a.t("tagsKanban.confirmationModal.deleteTitle")),open:E,onClose:b,onConfirm:()=>(async e=>{try{await Ze.delete("/tags/".concat(e)),s.b.success(Qe.a.t("tags.toasts.deleted"))}catch(a){Ke(a)}g(null),h(""),i(1)})(p.id)},Qe.a.t("tagsKanban.confirmationModal.deleteMessage")),l.a.createElement(pm,{open:A,onClose:()=>{u(null),C(!1)},"aria-labelledby":"form-dialog-title",tagId:m&&m.id,kanban:1}),l.a.createElement(hc,null,l.a.createElement(Ac,null,Qe.a.t("tagsKanban.title")," (",v.length,")"),l.a.createElement(yc,null,l.a.createElement(Et.a,{placeholder:Qe.a.t("contacts.searchPlaceholder"),type:"search",value:f,onChange:e=>{h(e.target.value.toLowerCase())},InputProps:{startAdornment:l.a.createElement(Yi.a,{position:"start"},l.a.createElement(gd.a,{style:{color:"gray"}}))}}),l.a.createElement(gt.a,{variant:"contained",color:"primary",onClick:()=>{u(null),C(!0)}},Qe.a.t("tagsKanban.buttons.add")))),l.a.createElement(St.a,{className:e.mainPaper,variant:"outlined",onScroll:e=>{if(!c||t)return;const{scrollTop:a,scrollHeight:n,clientHeight:l}=e.currentTarget;n-(a+100)<l&&i(e=>e+1)}},l.a.createElement(Rn.a,{size:"small"},l.a.createElement(Ln.a,null,l.a.createElement(qn.a,null,l.a.createElement(Dn.a,{align:"center"},Qe.a.t("tagsKanban.table.name")),l.a.createElement(Dn.a,{align:"center"},Qe.a.t("tagsKanban.table.tickets")),l.a.createElement(Dn.a,{align:"center"},Qe.a.t("tagsKanban.table.actions")))),l.a.createElement(Pn.a,null,l.a.createElement(l.a.Fragment,null,v.map(e=>{var a;return l.a.createElement(qn.a,{key:e.id},l.a.createElement(Dn.a,{align:"center"},l.a.createElement(Tt.a,{variant:"outlined",style:{backgroundColor:e.color,textShadow:"1px 1px 1px #000",color:"white"},label:e.name,size:"small"})),l.a.createElement(Dn.a,{align:"center"},(null===e||void 0===e?void 0:e.ticketTags)?l.a.createElement("span",null,null===e||void 0===e||null===(a=e.ticketTags)||void 0===a?void 0:a.length):l.a.createElement("span",null,"0")),l.a.createElement(Dn.a,{align:"center"},l.a.createElement(M.a,{size:"small",onClick:()=>(e=>{u(e),C(!0)})(e)},l.a.createElement(bd.a,null)),l.a.createElement(M.a,{size:"small",onClick:a=>{b(!0),g(e)}},l.a.createElement(Yl.a,null))))}),t&&l.a.createElement(xc,{columns:4}))))))};const og=Object(x.a)(e=>({root:{display:"flex",flexWrap:"wrap"},multFieldLine:{display:"flex",flexWrap:"wrap","& > *":{margin:e.spacing(1),width:"35ch",[e.breakpoints.down("sm")]:{width:"100%","& > *":{width:"100%","& > *":{width:"100%"}}}}},formControl:{margin:e.spacing(1),minWidth:120},btnWrapper:{position:"relative"},buttonProgress:{color:Sa.a[500],position:"absolute",top:"50%",left:"50%",marginTop:-12,marginLeft:-12},formControl:{margin:e.spacing(1),minWidth:120},colorAdorment:{width:20,height:20}})),rg=Object(T.a)({root:{color:"#b46df2","&$checked":{color:"#b46df2"}},checked:{}})(e=>l.a.createElement(Yo.a,Object.assign({color:"default"},e)));var sg=e=>{let{open:a,onClose:t,messageId:o,reload:r}=e;const i=og(),{user:c}=Object(n.useContext)(la),d={nome:"",data_mensagem_programada:"",id_conexao:void 0,intervalo:1,fileName:"",valor_intervalo:"0",mensagem:"",tipo_dias_envio:4,mostrar_usuario_mensagem:!1,criar_ticket:!1,contatos:[],tags:[],usuario_envio:"",enviar_quantas_vezes:"0",file:void 0},m={id:"",name:""},u={id:"",name:""},[p,g]=Object(n.useState)(d),[E,b]=Object(n.useState)(m),[f,h]=Object(n.useState)([]),[v,A]=Object(n.useState)([]),[C,x]=Object(n.useState)(u),[T,O]=Object(n.useState)([m]),[k,S]=Object(n.useState)([]),[w,M]=Object(n.useState)([]),[I,j]=Object(n.useState)([m]),[N,R]=Object(n.useState)([]),P=ut.c().shape({nome:ut.d().min(3,"Mensagem muito curta").required("Obrigat\xf3rio")}),D=()=>{g(d),b(m),h([]),A([]),x([]),O(d),R([]),t()},L=e=>{const a=e.target.files[0];g(e=>({...e,file:a}))};Object(n.useEffect)(()=>{try{(async()=>{const{companyId:e}=c,{data:a}=await Ze.get("/whatsapp");j(a);const{data:t}=await Ze.get("/users/list?companyId=".concat(e));R(t);const{data:n}=await Ze.get("/contacts/list",{params:{companyId:e}});if(S(n),o){const{data:a}=await Ze.get("/schedules-message/".concat(o));p.nome=a.nome,p.mensagem=a.mensagem,p.mostrar_usuario_mensagem=a.mostrar_usuario_mensagem,p.criar_ticket=a.criar_ticket,p.tipo_dias_envio=a.tipo_dias_envio,p.enviar_quantas_vezes=a.enviar_quantas_vezes,p.intervalo=a.intervalo,p.valor_intervalo=a.valor_intervalo,p.companyId=e,p.criar_ticket=a.criar_ticket;const t=y()(a.data_mensagem_programada);if(p.data_mensagem_programada=t.format("YYYY-MM-DD HH:mm:ss"),a.mediaName&&(p.file={name:a.mediaName}),a.id_conexao&&I.length>0){const e=I.find(e=>e.id==a.id_conexao);p.id_conexao=e.id,b(e)}if(a.contatos&&k.length>0){const e=k.filter(e=>{if(a.contatos.some(a=>+a==+e.id))return e});p.contatos=e.map(e=>e.id),h(e)}if(a.usuario_envio&&N.length>0){const e=N.find(e=>+e.id==+a.usuario_envio);p.usuario_envio=e.id,x(e)}a.intervalo&&(p.intervalo=a.intervalo),g({...p})}})()}catch(e){Ke(e)}},[o,a]);return l.a.createElement("div",{className:i.root},l.a.createElement(bt.a,{open:a,onClose:D,maxWidth:"md",fullWidth:!0,scroll:"paper"},l.a.createElement(vt.a,{id:"form-dialog-title"},"".concat(o?Qe.a.t("messageModal.title.edit"):Qe.a.t("messageModal.title.add"))),l.a.createElement(pt.f,{initialValues:p,enableReinitialize:!0,validationSchema:P,onSubmit:(e,a)=>{setTimeout(()=>{(async e=>{try{const{companyId:e}=c;p.companyId=e;const a=new FormData;for(const[t,n]of Object.entries(p))switch(t){case"data_mensagem_programada":a.append(t,y()(n).format("YYYY-MM-DD HH:mm:ss"));break;default:a.append(t,n)}if(o){await Ze.put("/schedules-message/".concat(o),a);s.b.success(Qe.a.t("messageModal.success.save")),D(),r()}else{const e=await Ze.post("/schedules-message",a);console.log(e),s.b.success(Qe.a.t("messageModal.success.save")),D(),r()}}catch(a){Ke(a)}})(),a.setSubmitting(!1)},400)}},e=>{var a,t;let{touched:n,errors:r,isSubmitting:s,values:c}=e;return l.a.createElement(pt.e,null,l.a.createElement(ht.a,{dividers:!0},l.a.createElement(it.a,{container:!0,spacing:1},l.a.createElement(it.a,{item:!0,xs:12,md:4,xl:4},l.a.createElement(pt.c,{as:Et.a,label:"Nome",name:"nome",error:n.nome&&Boolean(r.nome),onChange:e=>g(a=>({...a,nome:e.target.value})),variant:"outlined",margin:"dense",fullWidth:!0})),l.a.createElement(it.a,{item:!0,xs:12,md:4,xl:4},l.a.createElement(pt.c,{as:Et.a,label:Qe.a.t("scheduleModal.form.sendAt"),type:"datetime-local",name:"data_mensagem_programada",InputLabelProps:{shrink:!0},size:"small",onChange:e=>g(a=>({...a,data_mensagem_programada:e.target.value})),error:n.sendAt&&Boolean(r.sendAt),helperText:n.sendAt&&r.sendAt,variant:"outlined",fullWidth:!0,style:{marginTop:"8px"}}))),l.a.createElement(it.a,{container:!0,spacing:1},l.a.createElement(it.a,{item:!0,xs:12,md:12,xl:12},l.a.createElement(xt.a,{variant:"outlined",fullWidth:!0},l.a.createElement(Gl.a,{fullWidth:!0,value:E,options:I,size:"small",onChange:(e,a)=>{const t=a?a.id:null;g({...p,id_conexao:+t}),b(a||m)},getOptionLabel:e=>e.name,getOptionSelected:(e,a)=>a.id===e.id,renderInput:e=>l.a.createElement(Et.a,Object.assign({},e,{variant:"outlined",placeholder:"Conex\xe3o"}))})))),l.a.createElement(it.a,{container:!0,spacing:1},l.a.createElement(it.a,{item:!0,xs:12,md:12,xl:12},l.a.createElement(xt.a,{variant:"outlined",fullWidth:!0},l.a.createElement(Gl.a,{fullWidth:!0,value:f,multiple:!0,options:k,size:"small",getOptionLabel:e=>Array.isArray(e)?"":e.name,onChange:(e,a)=>{a instanceof Array&&(h(a),g(e=>({...e,contatos:a.map(e=>+e.id)})))},getOptionSelected:(e,a)=>a.id===e.id,renderInput:e=>l.a.createElement(Et.a,Object.assign({},e,{variant:"outlined",placeholder:"Contatos"}))})))),l.a.createElement("h3",null,"Recorrencia"),l.a.createElement("p",null,"Voc\xea pode escolher enviar a mensagem de forma recorrente e escolher o intervalo. Caso seja uma mensagem a ser enviada uma unica vez, n\xe3o altere nada nessa se\xe7\xe3o."),l.a.createElement("br",null),l.a.createElement(it.a,{container:!0,spacing:1},l.a.createElement(it.a,{item:!0,xs:12,md:4,xl:4},l.a.createElement(xt.a,{size:"small",fullWidth:!0,variant:"outlined"},l.a.createElement(Ct.a,{id:"demo-simple-select-label"},"Intervalo"),l.a.createElement(At.a,{labelId:"demo-simple-select-label",id:"demo-simple-select",value:p.intervalo,onChange:e=>g(a=>({...a,intervalo:e.target.value})),label:"Intervalo"},l.a.createElement(F.a,{value:1},"Dias"),l.a.createElement(F.a,{value:2},"Semanas"),l.a.createElement(F.a,{value:3},"Meses")))),l.a.createElement(it.a,{item:!0,xs:12,md:4,xl:4},l.a.createElement(pt.c,{as:Et.a,label:"Valor do Intervalo",name:"valor_intervalo",size:"small",error:n.valor_intervalo&&Boolean(r.valor_intervalo),InputLabelProps:{shrink:!0},onChange:e=>g(a=>({...a,valor_intervalo:e.target.value})),variant:"outlined",fullWidth:!0})),l.a.createElement(it.a,{item:!0,xs:12,md:4,xl:4},l.a.createElement(pt.c,{as:Et.a,label:"Enviar quantas vezes",name:"enviar_quantas_vezes",size:"small",onChange:e=>g(a=>({...a,enviar_quantas_vezes:e.target.value})),error:n.enviar_quantas_vezes&&Boolean(r.enviar_quantas_vezes),variant:"outlined",fullWidth:!0})),l.a.createElement(it.a,{item:!0,xs:12,md:12,xl:12},l.a.createElement(xt.a,{size:"small",fullWidth:!0,variant:"outlined"},l.a.createElement(Ct.a,{id:"demo-simple-select-label"},"Enviar quantas vezes"),l.a.createElement(At.a,{labelId:"demo-simple-select-label",id:"demo-simple-select",value:p.tipo_dias_envio,onChange:e=>g(a=>({...a,tipo_dias_envio:e.target.value})),label:"Enviar quantas vezes"},l.a.createElement(F.a,{value:4},"Enviar normalmente em dias n\xe3o \xfateis"),l.a.createElement(F.a,{value:5},"Enviar um dia \xfatil antes"),l.a.createElement(F.a,{value:6},"Enviar um dia \xfatil depois"))))),l.a.createElement(it.a,{container:!0,spacing:1},l.a.createElement(xt.a,null,l.a.createElement(ii.a,{control:l.a.createElement(rg,{name:"mostrar_usuario_mensagem",checked:p.mostrar_usuario_mensagem,onChange:e=>{e.target.checked?g(a=>({...a,mostrar_usuario_mensagem:e.target.checked})):(g(a=>({...a,mostrar_usuario_mensagem:e.target.checked,usuario_envio:void 0})),x(null))}}),label:"Mostrar Usu\xe1rio"})),!0===p.mostrar_usuario_mensagem?l.a.createElement(it.a,{item:!0,xs:12,md:12,xl:12},l.a.createElement(Gl.a,{fullWidth:!0,value:C,options:N,onChange:(e,a)=>{const t=a?a.id:null;g({...p,usuario_envio:+t}),x(a||u)},getOptionLabel:e=>e.name,getOptionSelected:(e,a)=>a.id===e.id,renderInput:e=>l.a.createElement(Et.a,Object.assign({},e,{variant:"outlined",placeholder:"Usuarios",required:p.mostrar_usuario_mensagem}))})):null,l.a.createElement(xt.a,null,l.a.createElement(ii.a,{control:l.a.createElement(rg,{name:"criar_ticket",checked:p.criar_ticket,onChange:e=>g(a=>({...a,criar_ticket:e.target.checked}))}),label:"Criar Ticket "}))),l.a.createElement("br",null),l.a.createElement(it.a,{container:!0,spacing:1},l.a.createElement(it.a,{item:!0,xs:12,md:12,xl:12},l.a.createElement(pt.c,{as:Et.a,rows:9,multiline:!0,label:Qe.a.t("scheduleModal.form.body"),name:"mensagem",helperText:pt.a.mensagem,error:n.mensagem&&Boolean(r.mensagem),onChange:e=>g(a=>({...a,mensagem:e.target.value})),variant:"outlined",margin:"dense",fullWidth:!0}))),l.a.createElement(gt.a,{variant:"contained",component:"label",color:"primary",startIcon:l.a.createElement(jd.a,null)},"Anexar arquivo",l.a.createElement("input",{type:"file",hidden:!0,onChange:L,accept:"image/*"})),(null===p||void 0===p||null===(a=p.file)||void 0===a?void 0:a.name)&&l.a.createElement(l.a.Fragment,null,l.a.createElement("div",null,l.a.createElement("h4",null,"Arquivo anexado: ",null===p||void 0===p||null===(t=p.file)||void 0===t?void 0:t.name)))),l.a.createElement(ft.a,null,l.a.createElement(gt.a,{onClick:D,color:"secondary",disabled:s,variant:"outlined"},Qe.a.t("scheduleModal.buttons.cancel")),""!=p.nome&&l.a.createElement(gt.a,{type:"submit",color:"primary",disabled:s,variant:"contained",className:i.btnWrapper},"".concat(o?Qe.a.t("scheduleModal.buttons.okEdit"):Qe.a.t("scheduleModal.buttons.okAdd")),s&&l.a.createElement(yt.a,{size:24,className:i.buttonProgress}))))})))};const ig=(e,a)=>{if("LOAD_SCHEDULES"===a.type){const t=a.payload,n=[];return t.forEach(a=>{const t=e.findIndex(e=>e.id===a.id);-1!==t?e[t]=a:n.push(a)}),[...e,...n]}if("UPDATE_SCHEDULES"===a.type){const t=a.payload,n=e.findIndex(e=>e.id===t.id);return-1!==n?(e[n]=t,[...e]):[t,...e]}if("DELETE_SCHEDULE"===a.type){const t=a.payload,n=e.findIndex(e=>e.id===t);return-1!==n&&e.splice(n,1),[...e]}if("RESET"===a.type)return[]},cg=Object(x.a)(e=>({mainPaper:{flex:1,padding:e.spacing(1),overflowY:"scroll",...e.scrollbarStyles}}));var dg=()=>{const e=cg(),{user:a}=Object(n.useContext)(la),[t,o]=Object(n.useState)(!1),[r,i]=Object(n.useState)(1),[c,d]=Object(n.useState)(!1),[m,u]=Object(n.useState)(null),[p,g]=Object(n.useState)(null),[E,b]=Object(n.useState)(!1),[f,h]=Object(n.useState)(""),[v,A]=Object(n.useReducer)(ig,[]),[C,x]=Object(n.useState)(!1),[T,O]=Object(n.useState)((k="contactId",+new URLSearchParams(window.location.search).get(k)));var k;const S=Object(n.useCallback)(async()=>{try{const{data:e}=await Ze.get("/schedules-message",{params:{searchParam:f,pageNumber:r}});A({type:"LOAD_SCHEDULES",payload:e.schedules}),d(e.hasMore),o(!1)}catch(e){Ke(e)}},[f,r]),w=Object(n.useCallback)(()=>{console.log(T),T&&I()},[T]);Object(n.useEffect)(()=>{A({type:"RESET"}),i(1)},[f]),Object(n.useEffect)(()=>{o(!0);const e=setTimeout(()=>{S()},500);return()=>clearTimeout(e)},[f,r,T,S,w]),Object(n.useEffect)(()=>{w();const e=aa({companyId:a.companyId,userId:a.id});return e.on("user",e=>{"update"!==e.action&&"create"!==e.action||A({type:"UPDATE_SCHEDULES",payload:e.schedules}),"delete"===e.action&&A({type:"DELETE_USER",payload:+e.messageId})}),()=>{e.disconnect()}},[w,a]);const I=()=>{u(null),x(!0)};return l.a.createElement(bc,null,l.a.createElement(wr,{title:p&&"".concat(Qe.a.t("scheduledMessages.confirmationModal.deleteTitle")),open:E,onClose:b,onConfirm:()=>(async e=>{try{await Ze.delete("/schedules-message/".concat(e)),s.b.success(Qe.a.t("schedules.toasts.deleted"))}catch(a){Ke(a)}g(null),h(""),i(1),A({type:"RESET"}),i(1),await S()})(p.id)},Qe.a.t("scheduledMessages.confirmationModal.deleteMessage")),C&&l.a.createElement(sg,{open:C,onClose:()=>{u(null),x(!1)},reload:S,"aria-labelledby":"form-dialog-title",messageId:m?m.id:null,contactId:T,cleanContact:()=>{O("")}}),l.a.createElement(hc,null,l.a.createElement(Ac,null,Qe.a.t("scheduledMessages.title")),l.a.createElement(yc,null,l.a.createElement(Et.a,{placeholder:Qe.a.t("contacts.searchPlaceholder"),type:"search",value:f,onChange:e=>{h(e.target.value.toLowerCase())},InputProps:{startAdornment:l.a.createElement(Yi.a,{position:"start"},l.a.createElement(gd.a,{style:{color:"gray"}}))}}),l.a.createElement(gt.a,{variant:"contained",color:"primary",onClick:I},Qe.a.t("scheduledMessages.buttons.add")))),l.a.createElement(St.a,{className:e.mainPaper,variant:"outlined",onScroll:e=>{if(!c||t)return;const{scrollTop:a,scrollHeight:n,clientHeight:l}=e.currentTarget;n-(a+100)<l&&i(e=>e+1)}},l.a.createElement(Rn.a,{size:"small"},l.a.createElement(Ln.a,null,l.a.createElement(qn.a,null,l.a.createElement(Dn.a,{align:"center"},"Nome"),l.a.createElement(Dn.a,{align:"center"},"Data Cria\xe7\xe3o"),l.a.createElement(Dn.a,{align:"center"},"Data Altera\xe7\xe3o"),l.a.createElement(Dn.a,{align:"center"},"Data Envio Mensagem"),l.a.createElement(Dn.a,{align:"center"},"A\xe7\xf5es"))),l.a.createElement(Pn.a,null,l.a.createElement(l.a.Fragment,null,v?v.map(e=>l.a.createElement(qn.a,{key:e.id},l.a.createElement(Dn.a,{align:"center"},e.nome),l.a.createElement(Dn.a,{align:"center"},y()(e.createdAt).format("DD/MM/YYYY HH:mm")),l.a.createElement(Dn.a,{align:"center"},y()(e.updatedAt).format("DD/MM/YYYY HH:mm")),l.a.createElement(Dn.a,{align:"center"},y()(e.data_mensagem_programada).format("DD/MM/YYYY HH:mm")),l.a.createElement(Dn.a,{align:"center"},l.a.createElement(M.a,{size:"small",onClick:()=>(u(e),void x(!0))},l.a.createElement(bd.a,null)),l.a.createElement(M.a,{size:"small",onClick:a=>{b(!0),g(e)}},l.a.createElement(Yl.a,null))))):l.a.createElement(l.a.Fragment,null,l.a.createElement(xc,null),l.a.createElement(xc,null),l.a.createElement(xc,null),l.a.createElement(xc,null),l.a.createElement(xc,null)))))))};var mg=()=>{const[e,a]=Object(n.useState)(!1);return Object(n.useEffect)(()=>{void 0!==localStorage.getItem("cshow")&&a(!0)},[]),l.a.createElement(b.a,null,l.a.createElement(oa,null,l.a.createElement(_a,null,l.a.createElement(f.Switch,null,l.a.createElement(tu,{exact:!0,path:"/login",component:ac}),l.a.createElement(tu,{exact:!0,path:"/signup",component:_i}),l.a.createElement(ca,null,l.a.createElement(dn,null,l.a.createElement(tu,{exact:!0,path:"/companies",component:Qm,isPrivate:!0}),l.a.createElement(tu,{exact:!0,path:"/",component:Tl,isPrivate:!0}),l.a.createElement(tu,{exact:!0,path:"/tickets/:ticketId?",component:Bi,isPrivate:!0}),l.a.createElement(tu,{exact:!0,path:"/connections",component:Bc,isPrivate:!0}),l.a.createElement(tu,{exact:!0,path:"/quick-messages",component:au,isPrivate:!0}),l.a.createElement(tu,{exact:!0,path:"/todolist",component:Jp,isPrivate:!0}),l.a.createElement(tu,{exact:!0,path:"/schedules",component:cu,isPrivate:!0}),l.a.createElement(tu,{exact:!0,path:"/tags",component:bm,isPrivate:!0}),l.a.createElement(tu,{exact:!0,path:"/contacts",component:Ld,isPrivate:!0}),l.a.createElement(tu,{exact:!0,path:"/helps",component:Am,isPrivate:!0}),l.a.createElement(tu,{exact:!0,path:"/users",component:Ad,isPrivate:!0}),l.a.createElement(tu,{exact:!0,path:"/messages-api",component:hm,isPrivate:!0}),l.a.createElement(tu,{exact:!0,path:"/settings",component:ud,isPrivate:!0}),l.a.createElement(tu,{exact:!0,path:"/queues",component:cm,isPrivate:!0}),l.a.createElement(tu,{exact:!0,path:"/queue-integration",component:Up,isPrivate:!0}),l.a.createElement(tu,{exact:!0,path:"/announcements",component:Wu,isPrivate:!0}),l.a.createElement(tu,{exact:!0,path:"/chats/:id?",component:Vu,isPrivate:!0}),l.a.createElement(tu,{exact:!0,path:"/scheduled_messages",component:dg,isPrivate:!0}),l.a.createElement(tu,{exact:!0,path:"/files",component:Yp,isPrivate:!0}),l.a.createElement(tu,{exact:!0,path:"/moments",component:Qd,isPrivate:!0}),l.a.createElement(tu,{exact:!0,path:"/Kanban",component:ag,isPrivate:!0}),l.a.createElement(tu,{exact:!0,path:"/TagsKanban",component:lg,isPrivate:!0}),l.a.createElement(tu,{exact:!0,path:"/prompts",component:$u,isPrivate:!0}),l.a.createElement(tu,{exact:!0,path:"/allConnections",component:sp,isPrivate:!0}),e&&l.a.createElement(l.a.Fragment,null,l.a.createElement(tu,{exact:!0,path:"/contact-lists",component:jm,isPrivate:!0}),l.a.createElement(tu,{exact:!0,path:"/contact-lists/:contactListId/contacts",component:qm,isPrivate:!0}),l.a.createElement(tu,{exact:!0,path:"/campaigns",component:Au,isPrivate:!0}),l.a.createElement(tu,{exact:!0,path:"/campaign/:campaignId/report",component:Ru,isPrivate:!0}),l.a.createElement(tu,{exact:!0,path:"/campaigns-config",component:Tu,isPrivate:!0}))))),l.a.createElement(s.a,{autoClose:3e3}))))};const ug=new d.QueryClient;var pg=()=>{const[e,a]=Object(n.useState)(),t=Object(g.a)("(prefers-color-scheme: dark)"),o=window.localStorage.getItem("preferredTheme"),[r,s]=Object(n.useState)(o||(t?"dark":"light")),i=l.a.useMemo(()=>({toggleColorMode:()=>{s(e=>"light"===e?"dark":"light")}}),[]),c=Object(u.a)({scrollbarStyles:{"&::-webkit-scrollbar":{width:"8px",height:"8px"},"&::-webkit-scrollbar-thumb":{boxShadow:"inset 0 0 6px rgba(0, 0, 0, 0.3)",backgroundColor:"#e8e8e8"}},scrollbarStylesSoft:{"&::-webkit-scrollbar":{width:"8px"},"&::-webkit-scrollbar-thumb":{backgroundColor:"light"===r?"#F3F3F3":"#333333"}},palette:{type:r,primary:{main:"#065183"},textPrimary:"light"===r?"#065183":"#FFFFFF",borderPrimary:"light"===r?"#065183":"#FFFFFF",dark:{main:"light"===r?"#333333":"#F3F3F3"},light:{main:"light"===r?"#F3F3F3":"#333333"},tabHeaderBackground:"light"===r?"#EEE":"#666",optionsBackground:"light"===r?"#fafafa":"#333",fancyBackground:"light"===r?"#fafafa":"#333",total:"light"===r?"#fff":"#222",messageIcons:"light"===r?"grey":"#F3F3F3",inputBackground:"light"===r?"#FFFFFF":"#333",barraSuperior:"#065183"},mode:r},e);return Object(n.useEffect)(()=>{const e=localStorage.getItem("i18nextLng");"ptBR"===e.substring(0,2)+e.substring(3,5)&&a(m.ptBR)},[]),Object(n.useEffect)(()=>{window.localStorage.setItem("preferredTheme",r)},[r]),l.a.createElement(E.Provider,{value:{colorMode:i}},l.a.createElement(p.a,{theme:c},l.a.createElement(d.QueryClientProvider,{client:ug},l.a.createElement(mg,null))))},gg=t(1801);r.a.render(l.a.createElement(gg.a,null,l.a.createElement(pg,null),l.a.createElement(s.a,null)),document.getElementById("root")),function(e){if("serviceWorker"in navigator){if(new URL("",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",()=>{const a="".concat("","/service-worker.js");i?(!function(e,a){fetch(e,{headers:{"Service-Worker":"script"}}).then(t=>{const n=t.headers.get("content-type");404===t.status||null!=n&&-1===n.indexOf("javascript")?navigator.serviceWorker.ready.then(e=>{e.unregister().then(()=>{window.location.reload()})}):c(e,a)}).catch(()=>{console.log("No internet connection found. App is running in offline mode.")})}(a,e),navigator.serviceWorker.ready.then(()=>{console.log("This web app is being served cache-first by a service worker. To learn more, visit https://cra.link/PWA")})):c(a,e)})}}()},308:function(e,a){e.exports="data:image/png;base64,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"},413:function(e,a){e.exports="data:image/png;base64,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"},563:function(e,a,t){e.exports=t.p+"static/media/planilha.549edeba.xlsx"},829:function(e,a,t){},919:function(e,a){},983:function(e,a){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAgAAAAIACAMAAADDpiTIAAAAA3NCSVQICAjb4U/gAAAACXBIWXMAABFWAAARVgEAHlmhAAAAGXRFWHRTb2Z0d2FyZQB3d3cuaW5rc2NhcGUub3Jnm+48GgAAAtxQTFRF////R1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTULm9ygAAAPN0Uk5TAAECAwQFBgcICQoLDA0ODxAREhQVFhcZGhscHR4fICEiIyQlJigpKiss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"},986:function(e,a,t){e.exports=t.p+"static/media/sound.9fd5812c.mp3"},992:function(e,a,t){e.exports=t.p+"static/media/chat_notify.2529c259.mp3"}},[[1131,1,2]]]);