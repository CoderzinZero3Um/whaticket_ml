'use strict';const a509_0x36d508=a509_0x49ad;(function(_0x52830e,_0x436168){const _0x2765ae=a509_0x49ad,_0x5a95b8=_0x52830e();while(!![]){try{const _0x5d0f10=parseInt(_0x2765ae(0x1db))/0x1+-parseInt(_0x2765ae(0x1de))/0x2+parseInt(_0x2765ae(0x1d0))/0x3*(-parseInt(_0x2765ae(0x1e0))/0x4)+-parseInt(_0x2765ae(0x1ca))/0x5+parseInt(_0x2765ae(0x1e1))/0x6*(parseInt(_0x2765ae(0x1c9))/0x7)+-parseInt(_0x2765ae(0x1d9))/0x8+parseInt(_0x2765ae(0x1cd))/0x9*(parseInt(_0x2765ae(0x1c8))/0xa);if(_0x5d0f10===_0x436168)break;else _0x5a95b8['push'](_0x5a95b8['shift']());}catch(_0x538f47){_0x5a95b8['push'](_0x5a95b8['shift']());}}}(a509_0x2604,0xb1b32));var __createBinding=this&&this[a509_0x36d508(0x1c5)]||(Object[a509_0x36d508(0x1d3)]?function(_0x3c8533,_0x16fa6b,_0x4faf3f,_0xf1b46a){const _0x2c863e=a509_0x36d508;if(_0xf1b46a===undefined)_0xf1b46a=_0x4faf3f;var _0x2e3351=Object['getOwnPropertyDescriptor'](_0x16fa6b,_0x4faf3f);(!_0x2e3351||('get'in _0x2e3351?!_0x16fa6b[_0x2c863e(0x1c1)]:_0x2e3351[_0x2c863e(0x1c2)]||_0x2e3351[_0x2c863e(0x1cc)]))&&(_0x2e3351={'enumerable':!![],'get':function(){return _0x16fa6b[_0x4faf3f];}}),Object['defineProperty'](_0x3c8533,_0xf1b46a,_0x2e3351);}:function(_0x22552a,_0x580adc,_0x33de11,_0x4394fb){if(_0x4394fb===undefined)_0x4394fb=_0x33de11;_0x22552a[_0x4394fb]=_0x580adc[_0x33de11];}),__setModuleDefault=this&&this['__setModuleDefault']||(Object[a509_0x36d508(0x1d3)]?function(_0x554cc0,_0x5cc041){const _0x2d92e5=a509_0x36d508;Object[_0x2d92e5(0x1d1)](_0x554cc0,_0x2d92e5(0x1e2),{'enumerable':!![],'value':_0x5cc041});}:function(_0x2ac567,_0x3b595b){const _0x1c3102=a509_0x36d508;_0x2ac567[_0x1c3102(0x1e2)]=_0x3b595b;}),__importStar=this&&this[a509_0x36d508(0x1d6)]||function(_0x3b2140){const _0x41ee8b=a509_0x36d508;if(_0x3b2140&&_0x3b2140[_0x41ee8b(0x1c1)])return _0x3b2140;var _0x147129={};if(_0x3b2140!=null){for(var _0x3ed50f in _0x3b2140)if(_0x3ed50f!==_0x41ee8b(0x1e2)&&Object[_0x41ee8b(0x1d5)]['hasOwnProperty']['call'](_0x3b2140,_0x3ed50f))__createBinding(_0x147129,_0x3b2140,_0x3ed50f);}return __setModuleDefault(_0x147129,_0x3b2140),_0x147129;},__importDefault=this&&this[a509_0x36d508(0x1c4)]||function(_0x381e26){const _0x1b232d=a509_0x36d508;return _0x381e26&&_0x381e26[_0x1b232d(0x1c1)]?_0x381e26:{'default':_0x381e26};};Object[a509_0x36d508(0x1d1)](exports,a509_0x36d508(0x1c1),{'value':!![]});function a509_0x2604(){const _0x4fef0f=['configurable','1624239KHZcoJ','companyId','yup','2865570tXqlLq','defineProperty','string','create','./ShowService','prototype','__importStar','options','all','2361360EJVJdD','shape','1307587ztgBoC','../../errors/AppError','message','2628742NOcqcz','validate','4wzmYqq','6JUrZTV','default','min','__esModule','writable','reload','__importDefault','__createBinding','map','object','90PUowjZ','4712729MCMdVQ','1562420HetnfB','upsert'];a509_0x2604=function(){return _0x4fef0f;};return a509_0x2604();}const Yup=__importStar(require(a509_0x36d508(0x1cf))),AppError_1=__importDefault(require(a509_0x36d508(0x1dc))),FilesOptions_1=__importDefault(require('../../models/FilesOptions')),ShowService_1=__importDefault(require(a509_0x36d508(0x1d4))),UpdateService=async({fileData:_0x160490,id:_0x176295,companyId:_0x5b5ace})=>{const _0x5c01b6=a509_0x36d508,_0x518e84=await(0x0,ShowService_1[_0x5c01b6(0x1e2)])(_0x176295,_0x5b5ace),_0x553eb=Yup[_0x5c01b6(0x1c7)]()[_0x5c01b6(0x1da)]({'name':Yup[_0x5c01b6(0x1d2)]()[_0x5c01b6(0x1e3)](0x3)}),{name:_0x5d6342,message:_0x568235,options:_0x20ba15}=_0x160490;try{await _0x553eb[_0x5c01b6(0x1df)]({'name':_0x5d6342});}catch(_0x6d468){throw new AppError_1['default'](_0x6d468[_0x5c01b6(0x1dd)]);}return _0x20ba15&&(await Promise[_0x5c01b6(0x1d8)](_0x20ba15[_0x5c01b6(0x1c6)](async _0x7586e4=>{const _0x3ab6a4=_0x5c01b6;await FilesOptions_1[_0x3ab6a4(0x1e2)][_0x3ab6a4(0x1cb)]({..._0x7586e4,'fileId':_0x518e84['id']});})),await Promise[_0x5c01b6(0x1d8)](_0x518e84[_0x5c01b6(0x1d7)][_0x5c01b6(0x1c6)](async _0x5f56e9=>{const _0x4e193c=_0x5c01b6,_0x553c44=_0x20ba15['findIndex'](_0x83f025=>_0x83f025['id']===_0x5f56e9['id']);_0x553c44===-0x1&&await FilesOptions_1[_0x4e193c(0x1e2)]['destroy']({'where':{'id':_0x5f56e9['id']}});}))),await _0x518e84['update']({'name':_0x5d6342,'message':_0x568235}),await _0x518e84[_0x5c01b6(0x1c3)]({'attributes':['id','name',_0x5c01b6(0x1dd),_0x5c01b6(0x1ce)],'include':['options']}),_0x518e84;};function a509_0x49ad(_0x22fadb,_0x3ca20f){const _0x260470=a509_0x2604();return a509_0x49ad=function(_0x49ada9,_0x1a2546){_0x49ada9=_0x49ada9-0x1c1;let _0x3c1a78=_0x260470[_0x49ada9];return _0x3c1a78;},a509_0x49ad(_0x22fadb,_0x3ca20f);}exports[a509_0x36d508(0x1e2)]=UpdateService;