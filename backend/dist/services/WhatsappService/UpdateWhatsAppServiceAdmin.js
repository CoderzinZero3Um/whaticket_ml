'use strict';const a670_0x22520b=a670_0xbaa5;(function(_0x4e28aa,_0x5a1c18){const _0x2756be=a670_0xbaa5,_0x20f072=_0x4e28aa();while(!![]){try{const _0x40bc40=parseInt(_0x2756be(0x13c))/0x1*(parseInt(_0x2756be(0x136))/0x2)+-parseInt(_0x2756be(0x12f))/0x3+parseInt(_0x2756be(0x144))/0x4*(-parseInt(_0x2756be(0x133))/0x5)+parseInt(_0x2756be(0x135))/0x6+parseInt(_0x2756be(0x140))/0x7+-parseInt(_0x2756be(0x148))/0x8*(parseInt(_0x2756be(0x132))/0x9)+parseInt(_0x2756be(0x13a))/0xa;if(_0x40bc40===_0x5a1c18)break;else _0x20f072['push'](_0x20f072['shift']());}catch(_0xdc9894){_0x20f072['push'](_0x20f072['shift']());}}}(a670_0x16d9,0xd38e3));function a670_0xbaa5(_0x3a25d5,_0x2c994d){const _0x16d93e=a670_0x16d9();return a670_0xbaa5=function(_0xbaa523,_0x5ac0cf){_0xbaa523=_0xbaa523-0x12b;let _0x5eb97c=_0x16d93e[_0xbaa523];return _0x5eb97c;},a670_0xbaa5(_0x3a25d5,_0x2c994d);}var __createBinding=this&&this[a670_0x22520b(0x13b)]||(Object[a670_0x22520b(0x153)]?function(_0x4de548,_0x29e73a,_0x57ee25,_0x39e27c){const _0x304b60=a670_0x22520b;if(_0x39e27c===undefined)_0x39e27c=_0x57ee25;var _0x2cda62=Object[_0x304b60(0x145)](_0x29e73a,_0x57ee25);(!_0x2cda62||(_0x304b60(0x137)in _0x2cda62?!_0x29e73a[_0x304b60(0x14e)]:_0x2cda62[_0x304b60(0x130)]||_0x2cda62[_0x304b60(0x14d)]))&&(_0x2cda62={'enumerable':!![],'get':function(){return _0x29e73a[_0x57ee25];}}),Object[_0x304b60(0x141)](_0x4de548,_0x39e27c,_0x2cda62);}:function(_0x277345,_0x297201,_0x1ef1c8,_0x30d918){if(_0x30d918===undefined)_0x30d918=_0x1ef1c8;_0x277345[_0x30d918]=_0x297201[_0x1ef1c8];}),__setModuleDefault=this&&this[a670_0x22520b(0x147)]||(Object[a670_0x22520b(0x153)]?function(_0x333e2b,_0x1415ed){const _0x1aca4a=a670_0x22520b;Object[_0x1aca4a(0x141)](_0x333e2b,_0x1aca4a(0x149),{'enumerable':!![],'value':_0x1415ed});}:function(_0x42737c,_0x3f253f){const _0x49a1e6=a670_0x22520b;_0x42737c[_0x49a1e6(0x149)]=_0x3f253f;}),__importStar=this&&this[a670_0x22520b(0x134)]||function(_0x17b3b6){const _0x8c44bc=a670_0x22520b;if(_0x17b3b6&&_0x17b3b6[_0x8c44bc(0x14e)])return _0x17b3b6;var _0x195bbe={};if(_0x17b3b6!=null){for(var _0xbcd57a in _0x17b3b6)if(_0xbcd57a!==_0x8c44bc(0x149)&&Object['prototype'][_0x8c44bc(0x13d)][_0x8c44bc(0x14f)](_0x17b3b6,_0xbcd57a))__createBinding(_0x195bbe,_0x17b3b6,_0xbcd57a);}return __setModuleDefault(_0x195bbe,_0x17b3b6),_0x195bbe;},__importDefault=this&&this[a670_0x22520b(0x12e)]||function(_0x3a6a6d){const _0x429ec0=a670_0x22520b;return _0x3a6a6d&&_0x3a6a6d[_0x429ec0(0x14e)]?_0x3a6a6d:{'default':_0x3a6a6d};};function a670_0x16d9(){const _0x3815bd=['not','shape','369484tlfyvZ','getOwnPropertyDescriptor','boolean','__setModuleDefault','232KXIZLe','default','object','validate','message','configurable','__esModule','call','yup','min','length','create','findOne','./AssociateWhatsappQueue','../../errors/AppError','__importDefault','3659955rXpOmK','writable','sequelize','64494QMvckq','85bTQOhj','__importStar','1217328QmKiBL','10118ymvinz','get','string','update','22013810SodcLS','__createBinding','97NWNKZR','hasOwnProperty','../../models/Whatsapp','./ShowWhatsAppServiceAdmin','6787515SLNAUr','defineProperty'];a670_0x16d9=function(){return _0x3815bd;};return a670_0x16d9();}Object[a670_0x22520b(0x141)](exports,a670_0x22520b(0x14e),{'value':!![]});const Yup=__importStar(require(a670_0x22520b(0x150))),sequelize_1=require(a670_0x22520b(0x131)),AppError_1=__importDefault(require(a670_0x22520b(0x12d))),Whatsapp_1=__importDefault(require(a670_0x22520b(0x13e))),AssociateWhatsappQueue_1=__importDefault(require(a670_0x22520b(0x12c))),ShowWhatsAppServiceAdmin_1=__importDefault(require(a670_0x22520b(0x13f))),UpdateWhatsAppServiceAdmin=async({whatsappData:_0x2da9a9,whatsappId:_0x6d3bfc,companyId:_0x23c2cb})=>{const _0x54f43e=a670_0x22520b,_0x223a40=Yup[_0x54f43e(0x14a)]()[_0x54f43e(0x143)]({'name':Yup[_0x54f43e(0x138)]()[_0x54f43e(0x151)](0x2),'status':Yup[_0x54f43e(0x138)](),'isDefault':Yup[_0x54f43e(0x146)]()}),{name:_0xb2cf85,status:_0x511651,isDefault:_0x5b888b,session:_0x33a046,greetingMessage:_0x214f1d,complationMessage:_0x15e916,outOfHoursMessage:_0x502cde,queueIds:queueIds=[],token:_0x3c4f15,maxUseBotQueues:maxUseBotQueues=0x0,timeUseBotQueues:timeUseBotQueues=0x0,expiresTicket:expiresTicket=0x0,allowGroup:_0x3251ae,timeSendQueue:timeSendQueue=0x0,sendIdQueue:sendIdQueue=null,timeInactiveMessage:timeInactiveMessage=0x0,inactiveMessage:_0xb7dcef,ratingMessage:_0x4a411b,maxUseBotQueuesNPS:_0x54967c,expiresTicketNPS:expiresTicketNPS=0x0,whenExpiresTicket:_0x21a306,expiresInactiveMessage:_0x4e51f0,groupAsTicket:_0x4dbfca,importOldMessages:_0x55e0c9,importRecentMessages:_0x4fe931,closedTicketsPostImported:_0x25bf2a,importOldMessagesGroups:_0x7096d7,timeCreateNewTicket:timeCreateNewTicket=null,integrationId:_0x5380a2,schedules:_0x41542c,promptId:_0x4d225e,requestQR:requestQR=![]}=_0x2da9a9;try{await _0x223a40[_0x54f43e(0x14b)]({'name':_0xb2cf85,'status':_0x511651,'isDefault':_0x5b888b});}catch(_0x35ad34){throw new AppError_1[(_0x54f43e(0x149))](_0x35ad34[_0x54f43e(0x14c)]);}if(queueIds[_0x54f43e(0x152)]>0x1&&!_0x214f1d)throw new AppError_1[(_0x54f43e(0x149))]('ERR_WAPP_GREETING_REQUIRED');let _0x5ad332=null;_0x5b888b&&(_0x5ad332=await Whatsapp_1[_0x54f43e(0x149)][_0x54f43e(0x12b)]({'where':{'isDefault':!![],'id':{[sequelize_1['Op'][_0x54f43e(0x142)]]:_0x6d3bfc}}}),_0x5ad332&&await _0x5ad332[_0x54f43e(0x139)]({'isDefault':![]}));const _0x4fe5b6=await(0x0,ShowWhatsAppServiceAdmin_1[_0x54f43e(0x149)])(_0x6d3bfc);return await _0x4fe5b6[_0x54f43e(0x139)]({'name':_0xb2cf85,'status':_0x511651,'session':_0x33a046,'greetingMessage':_0x214f1d,'complationMessage':_0x15e916,'outOfHoursMessage':_0x502cde,'isDefault':_0x5b888b,'companyId':_0x23c2cb,'token':_0x3c4f15,'maxUseBotQueues':maxUseBotQueues||0x0,'timeUseBotQueues':timeUseBotQueues||0x0,'expiresTicket':expiresTicket||0x0,'allowGroup':_0x3251ae,'timeSendQueue':timeSendQueue,'sendIdQueue':sendIdQueue,'timeInactiveMessage':timeInactiveMessage,'inactiveMessage':_0xb7dcef,'ratingMessage':_0x4a411b,'maxUseBotQueuesNPS':_0x54967c,'expiresTicketNPS':expiresTicketNPS,'whenExpiresTicket':_0x21a306,'expiresInactiveMessage':_0x4e51f0,'groupAsTicket':_0x4dbfca,'importOldMessages':_0x55e0c9,'importRecentMessages':_0x4fe931,'closedTicketsPostImported':_0x25bf2a,'importOldMessagesGroups':_0x7096d7,'timeCreateNewTicket':timeCreateNewTicket,'integrationId':_0x5380a2,'schedules':_0x41542c,'promptId':_0x4d225e}),!requestQR&&await(0x0,AssociateWhatsappQueue_1[_0x54f43e(0x149)])(_0x4fe5b6,queueIds),{'whatsapp':_0x4fe5b6,'oldDefaultWhatsapp':_0x5ad332};};exports[a670_0x22520b(0x149)]=UpdateWhatsAppServiceAdmin;