'use strict';function a546_0x241b(){var _0x24898a=['../../models/QueueIntegrations','__esModule','prototype','910315BDWeZm','message','8fNiyic','110lDBEID','__createBinding','8116cvHhmK','4gsbrlt','__importDefault','hasOwnProperty','390yFlMSk','481020JxiJVM','406240yyusEo','598885sBnnXw','10275588hrPrqd','13157748MSrFBL','30WptZVe','getOwnPropertyDescriptor','Check-name','object','defineProperty','findOne','min','create','This\x20integration\x20name\x20is\x20already\x20used.','__importStar','get','default','required','string'];a546_0x241b=function(){return _0x24898a;};return a546_0x241b();}var a546_0x114a07=a546_0x170b;(function(_0x4ebf77,_0x2c83c0){var _0x2a6868=a546_0x170b,_0x44ef29=_0x4ebf77();while(!![]){try{var _0x28227b=-parseInt(_0x2a6868(0x1f2))/0x1+-parseInt(_0x2a6868(0x1eb))/0x2*(parseInt(_0x2a6868(0x1ef))/0x3)+parseInt(_0x2a6868(0x1ec))/0x4*(-parseInt(_0x2a6868(0x1f1))/0x5)+-parseInt(_0x2a6868(0x1f5))/0x6*(parseInt(_0x2a6868(0x1e6))/0x7)+-parseInt(_0x2a6868(0x1e8))/0x8*(-parseInt(_0x2a6868(0x1f3))/0x9)+-parseInt(_0x2a6868(0x1f0))/0xa*(-parseInt(_0x2a6868(0x1e9))/0xb)+parseInt(_0x2a6868(0x1f4))/0xc;if(_0x28227b===_0x2c83c0)break;else _0x44ef29['push'](_0x44ef29['shift']());}catch(_0x25a95b){_0x44ef29['push'](_0x44ef29['shift']());}}}(a546_0x241b,0xd2495));var __createBinding=this&&this[a546_0x114a07(0x1ea)]||(Object[a546_0x114a07(0x1dc)]?function(_0xcd5eb2,_0x5104f6,_0x3ae871,_0x3cf11f){var _0x8544c9=a546_0x114a07;if(_0x3cf11f===undefined)_0x3cf11f=_0x3ae871;var _0x4a43f8=Object[_0x8544c9(0x1d6)](_0x5104f6,_0x3ae871);(!_0x4a43f8||(_0x8544c9(0x1df)in _0x4a43f8?!_0x5104f6['__esModule']:_0x4a43f8['writable']||_0x4a43f8['configurable']))&&(_0x4a43f8={'enumerable':!![],'get':function(){return _0x5104f6[_0x3ae871];}}),Object['defineProperty'](_0xcd5eb2,_0x3cf11f,_0x4a43f8);}:function(_0x561972,_0xc5404,_0x1cb59d,_0x3c94da){if(_0x3c94da===undefined)_0x3c94da=_0x1cb59d;_0x561972[_0x3c94da]=_0xc5404[_0x1cb59d];}),__setModuleDefault=this&&this['__setModuleDefault']||(Object[a546_0x114a07(0x1dc)]?function(_0x29b91e,_0x2981b5){var _0x4213a6=a546_0x114a07;Object[_0x4213a6(0x1d9)](_0x29b91e,_0x4213a6(0x1e0),{'enumerable':!![],'value':_0x2981b5});}:function(_0x4e46f0,_0x36527f){_0x4e46f0['default']=_0x36527f;}),__importStar=this&&this[a546_0x114a07(0x1de)]||function(_0x186aab){var _0x147126=a546_0x114a07;if(_0x186aab&&_0x186aab[_0x147126(0x1e4)])return _0x186aab;var _0x9610ad={};if(_0x186aab!=null){for(var _0x298cd8 in _0x186aab)if(_0x298cd8!==_0x147126(0x1e0)&&Object[_0x147126(0x1e5)][_0x147126(0x1ee)]['call'](_0x186aab,_0x298cd8))__createBinding(_0x9610ad,_0x186aab,_0x298cd8);}return __setModuleDefault(_0x9610ad,_0x186aab),_0x9610ad;},__importDefault=this&&this[a546_0x114a07(0x1ed)]||function(_0x1f0388){return _0x1f0388&&_0x1f0388['__esModule']?_0x1f0388:{'default':_0x1f0388};};function a546_0x170b(_0x5c59d5,_0x501962){var _0x241b9e=a546_0x241b();return a546_0x170b=function(_0x170b9a,_0x4152ee){_0x170b9a=_0x170b9a-0x1d6;var _0x4ba12b=_0x241b9e[_0x170b9a];return _0x4ba12b;},a546_0x170b(_0x5c59d5,_0x501962);}Object[a546_0x114a07(0x1d9)](exports,a546_0x114a07(0x1e4),{'value':!![]});const Yup=__importStar(require('yup')),AppError_1=__importDefault(require('../../errors/AppError')),QueueIntegrations_1=__importDefault(require(a546_0x114a07(0x1e3))),CreateQueueIntegrationService=async({type:_0x3c5135,name:_0x5e595e,projectName:_0x169053,jsonContent:_0x218520,language:_0x3f2b1c,urlN8N:_0x452d5c,companyId:_0x3267e2,typebotExpires:_0x1f6b81,typebotKeywordFinish:_0x4bdb62,typebotSlug:_0x5cae57,typebotUnknownMessage:_0x40c46e,typebotDelayMessage:_0x22bf41,typebotKeywordRestart:_0x22eadc,typebotRestartMessage:_0x47242d})=>{var _0x16ee52=a546_0x114a07;const _0x2d1663=Yup[_0x16ee52(0x1d8)]()['shape']({'name':Yup[_0x16ee52(0x1e2)]()[_0x16ee52(0x1e1)]()[_0x16ee52(0x1db)](0x2)['test'](_0x16ee52(0x1d7),_0x16ee52(0x1dd),async _0x3949da=>{var _0x584d65=_0x16ee52;if(!_0x3949da)return![];const _0x1cfcda=await QueueIntegrations_1[_0x584d65(0x1e0)][_0x584d65(0x1da)]({'where':{'name':_0x3949da,'companyId':_0x3267e2}});return!_0x1cfcda;})});try{await _0x2d1663['validate']({'type':_0x3c5135,'name':_0x5e595e,'projectName':_0x169053,'jsonContent':_0x218520,'language':_0x3f2b1c,'urlN8N':_0x452d5c,'companyId':_0x3267e2});}catch(_0x1de99f){throw new AppError_1[(_0x16ee52(0x1e0))](_0x1de99f[_0x16ee52(0x1e7)]);}const _0x56c9a5=await QueueIntegrations_1[_0x16ee52(0x1e0)][_0x16ee52(0x1dc)]({'type':_0x3c5135,'name':_0x5e595e,'projectName':_0x169053,'jsonContent':_0x218520,'language':_0x3f2b1c,'urlN8N':_0x452d5c,'companyId':_0x3267e2,'typebotExpires':_0x1f6b81,'typebotKeywordFinish':_0x4bdb62,'typebotSlug':_0x5cae57,'typebotUnknownMessage':_0x40c46e,'typebotDelayMessage':_0x22bf41,'typebotKeywordRestart':_0x22eadc,'typebotRestartMessage':_0x47242d});return _0x56c9a5;};exports['default']=CreateQueueIntegrationService;